transformer deeppoly{
    HardSigmoid -> (
        (prev[u] <= -3) ? (0, 0, 0, 0)
        : (
            (prev[l] >= 3) ? (1, 1, 1, 1)
            : (
                (prev[l] >= -3)
                ? (
                    (prev[u] <= 3)
                    ? (
                        ((prev[l] + 3) / 6),
                        ((prev[u] + 3) / 6),
                        ((prev + 3) / 6),
                        ((prev + 3) / 6)
                      )
                    : (
                        ((prev[l] + 3) / 6),
                        1,
                        (
                            (((1 - ((prev[l] + 3) / 6)) / (prev[u] - prev[l])) * prev)
                            + ((prev[l] + 3) / 6)
                            - (((1 - ((prev[l] + 3) / 6)) / (prev[u] - prev[l])) * prev[l])
                        ),
                        1
                      )
                  )
                : (
                    (prev[u] <= 3)
                    ? (
                        0,
                        ((prev[u] + 3) / 6),
                        0,
                        (
                            ((((prev[u] + 3) / 6) / (prev[u] - prev[l])) * prev)
                            - ((((prev[u] + 3) / 6) / (prev[u] - prev[l])) * prev[l])
                        )
                      )
                    : (
                        0,
                        1,
                        (((1 / (prev[u] + 3)) * prev) + (3 / (prev[u] + 3))),
                        (((1 / (3 - prev[l])) * prev) - (prev[l] / (3 - prev[l])))
                      )
                  )
              )
          )
    );
}
