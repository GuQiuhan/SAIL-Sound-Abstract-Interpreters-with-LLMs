2025-06-17 21:17:11,016 - INFO - 2025-06-17 21:17:11.016735 - Extracting Abs
2025-06-17 21:17:11,016 - INFO - 
API: Abs -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:17:11,016 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:17:18,912 - INFO - [STEP 1] Sample 1: Validation passed.
2025-06-17 21:17:18,913 - INFO - [Abs] Runtime: 7.90 seconds
2025-06-17 21:17:18,913 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/Abs.txt

2025-06-17 21:17:18,913 - INFO - 2025-06-17 21:17:18.913351 - Extracting Add
2025-06-17 21:17:18,913 - INFO - 
API: Add -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:17:18,913 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:17:23,571 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:23,571 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:17:23,882 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev[l] + prev_0[l], prev[u] + prev_0[u], prev[L] + prev_0[L], prev[U] + prev_0[U]);
}

2025-06-17 21:17:23,882 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:17:24,091 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:24,091 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:17:24,091 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:17:30,346 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:30,346 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:17:30,553 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:30,553 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:17:30,753 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0 + prev_1, curr, curr[layer]), backsubs_upper(prev_0 + prev_1, curr, curr[layer]), prev_0 + prev_1, prev_0 + prev_1);
}

2025-06-17 21:17:30,754 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:17:30,754 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:17:38,958 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:38,958 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:17:39,153 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:39,153 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:17:39,407 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:39,407 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:17:39,407 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:17:45,684 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:17:45,684 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:17:45,880 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0 + prev_1, curr, curr[layer]), backsubs_upper(prev_0 + prev_1, curr, curr[layer]), prev_0 + prev_1, prev_0 + prev_1);
}

2025-06-17 21:17:45,881 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:17:46,082 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0+prev_1, curr, curr[layer]), backsubs_upper(prev_0+prev_1, curr, curr[layer]), prev_0+prev_1, prev_0+prev_1);
}

2025-06-17 21:17:46,082 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:17:46,082 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:18:04,181 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0 + prev_1, curr, curr[layer]), backsubs_upper(prev_0 + prev_1, curr, curr[layer]), prev_0 + prev_1, prev_0 + prev_1);
}

2025-06-17 21:18:04,181 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:18:04,389 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:18:04,389 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:18:04,595 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((prev_0[l] + prev_1[l]), (prev_0[u] + prev_1[u]), (prev_0[L] + prev_1[L]), (prev_0[U] + prev_1[U]));
}

2025-06-17 21:18:04,595 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:18:04,595 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:18:59,203 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:18:59,203 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:18:59,407 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:18:59,407 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:18:59,616 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0 + prev_1, curr, curr[layer]), backsubs_upper(prev_0 + prev_1, curr, curr[layer]), prev_0 + prev_1, prev_0 + prev_1);
}

2025-06-17 21:18:59,616 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:18:59,616 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:19:20,768 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:20,768 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:19:20,970 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:20,970 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:19:21,173 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], (prev_0[L] if prev_0[L] <= prev_1[L] else prev_1[L]) if (prev_0[L] <= prev_1[L]) else (prev_0[U] if prev_0[U] >= prev_1[U] else prev_1[U]), (prev_0[U] if prev_0[U] <= prev_1[U] else prev_1[U]) if (prev_0[U] <= prev_1[U]) else (prev_0[L] if prev_0[L] >= prev_1[L] else prev_1[L]));
}

2025-06-17 21:19:21,173 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:19:21,173 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:19:38,818 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:38,818 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:19:39,068 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 91, in visit
    return self.visitFlow(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 826, in visitFlow
    raise UndefinedVarException(node.trans.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: deeppoly is undefined

Code:


2025-06-17 21:19:39,068 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:19:39,276 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (curr[l] >= prev_0[l] + prev_1[l]) ? (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]) : (curr[l] <= prev_0[u] + prev_1[u]) ? (prev_0[u] + prev_1[u], prev_0[l] + prev_1[l], prev_0[U] + prev_1[U], prev_0[L] + prev_1[L]) : (0, 0, 0, 0);
}

2025-06-17 21:19:39,276 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:19:39,276 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:19:49,992 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:49,992 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:19:50,188 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:50,188 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:19:50,389 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:19:50,389 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:19:50,389 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:20:16,088 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((prev_0[l]) + (prev_1[l]), (prev_0[u]) + (prev_1[u]), (prev_0[L]) + (prev_1[L]), (prev_0[U]) + (prev_1[U]));
}

2025-06-17 21:20:16,088 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:20:16,298 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (prev_0[l] + prev_1[l], prev_0[u] + prev_1[u], prev_0[L] + prev_1[L], prev_0[U] + prev_1[U]);
}

2025-06-17 21:20:16,298 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:20:16,545 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0+prev_1, curr, curr[layer]), backsubs_upper(prev_0+prev_1, curr, curr[layer]), prev_0+prev_1, prev_0+prev_1);
}

2025-06-17 21:20:16,545 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:20:16,545 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:20:16,545 - INFO - [Add] Runtime: 177.63 seconds
2025-06-17 21:20:16,545 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Add -> (backsubs_lower(prev_0+prev_1, curr, curr[layer]), backsubs_upper(prev_0+prev_1, curr, curr[layer]), prev_0+prev_1, prev_0+prev_1);
}

2025-06-17 21:20:16,545 - INFO - 2025-06-17 21:20:16.545490 - Extracting Affine
2025-06-17 21:20:16,545 - INFO - 
API: Affine -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:20:16,545 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:20:33,723 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 57, in visit
    return self.visitDot(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 553, in visitDot
    tleft = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Affine -> (backsubs_lower(prev_0.dot(curr[weight]) + prev_1 + curr[bias], curr, curr[layer]), backsubs_upper(prev_0.dot(curr[weight]) + prev_1 + curr[bias], curr, curr[layer]), prev_0.dot(curr[weight]) + prev_1 + curr[bias], prev_0.dot(curr[weight]) + prev_1 + curr[bias]);
}

2025-06-17 21:20:33,724 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:20:34,121 - INFO - [STEP 1] Sample 2: Validation passed.
2025-06-17 21:20:34,121 - INFO - [Affine] Runtime: 17.58 seconds
2025-06-17 21:20:34,121 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/Affine.txt

2025-06-17 21:20:34,121 - INFO - 2025-06-17 21:20:34.121345 - Extracting Avgpool
2025-06-17 21:20:34,121 - INFO - 
API: Avgpool -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:20:34,121 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:20:39,003 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> ( // Your code here
}

2025-06-17 21:20:39,003 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:20:39,444 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Avgpool -> (backsubs_lower(((prev_0[l]*1/4)+(prev_1[l]*1/4)+(prev_2[l]*1/4)+(prev_3[l]*1/4)), curr, curr[layer]), backsubs_upper(((prev_0[u]*1/4)+(prev_1[u]*1/4)+(prev_2[u]*1/4)+(prev_3[u]*1/4)), curr, curr[layer]), ((prev_0[L]*1/4)+(prev_1[L]*1/4)+(prev_2[L]*1/4)+(prev_3[L]*1/4)), ((prev_0[U]*1/4)+(prev_1[U]*1/4)+(prev_2[U]*1/4)+(prev_3[U]*1/4)));
}

2025-06-17 21:20:39,444 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:20:39,647 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> ?
}

2025-06-17 21:20:39,647 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:20:39,647 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:20:48,948 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (avg(prev_0[l], prev_1[l], ...), avg(prev_0[u], prev_1[u], ...), avg(prev_0[L], prev_1[L], ...), avg(prev_0[U], prev_1[U], ...));
}

2025-06-17 21:20:48,948 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:20:49,164 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (
        // Implement the transformer for Avgpool operator
    );
}

2025-06-17 21:20:49,164 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:20:49,360 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (/* Your code here */);
}

2025-06-17 21:20:49,361 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:20:49,361 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:20:57,532 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (avg(prev_0[l], prev_1[l], ..., prev_n[l]), avg(prev_0[u], prev_1[u], ..., prev_n[u]), avg(prev_0[L], prev_1[L], ..., prev_n[L]), avg(prev_0[U], prev_1[U], ..., prev_n[U]));
}

2025-06-17 21:20:57,532 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:20:57,789 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (avg([prev_0[l], prev_1[l], ...]), avg([prev_0[u], prev_1[u], ...]), avg([prev_0[L], prev_1[L], ...]), avg([prev_0[U], prev_1[U], ...]));
}

2025-06-17 21:20:57,789 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:20:57,999 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> // Assuming Avgpool takes multiple inputs, use prev_0, prev_1, ... to refer to each input
    (backsubs_lower(sum(prev_0, prev_1, ..., prev_n) / n, curr, curr[layer]), 
     backsubs_upper(sum(prev_0, prev_1, ..., prev_n) / n, curr, curr[layer]), 
     sum(prev_0, prev_1, ..., prev_n) / n, 
     sum(prev_0, prev_1, ..., prev_n) / n);
}

2025-06-17 21:20:58,000 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:20:58,000 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:21:03,351 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: _ is undefined

Code:
transformer deeppoly{
    Avgpool -> _;
}

2025-06-17 21:21:03,354 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:03,552 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> Error: not implemented;
}

2025-06-17 21:21:03,552 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:03,766 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (backsubs_lower((prev_0 + prev_1 + ... + prev_n) / n, curr, curr[layer]), backsubs_upper((prev_0 + prev_1 + ... + prev_n) / n, curr, curr[layer]), (prev_0 + prev_1 + ... + prev_n) / n, (prev_0 + prev_1 + ... + prev_n) / n);
}

2025-06-17 21:21:03,766 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:03,766 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:21:09,826 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Avgpool -> (replace_lower((prev_0[l] + prev_1[l] + prev_2[l] + prev_3[l]) / 4, 1/4), replace_upper((prev_0[u] + prev_1[u] + prev_2[u] + prev_3[u]) / 4, 1/4), ((prev_0[L] + prev_1[L] + prev_2[L] + prev_3[L]) / 4), ((prev_0[U] + prev_1[U] + prev_2[U] + prev_3[U]) / 4));
}

2025-06-17 21:21:09,827 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:10,028 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (
        // Assuming prev_0, prev_1, ..., prev_n are the inputs to the Avgpool operator
        // Calculate the lower and upper bounds for each input
        (prev_0[l] + ... + prev_n[l]) / n,
        (prev_0[u] + ... + prev_n[u]) / n,
        (prev_0[L] + ... + prev_n[L]) / n,
        (prev_0[U] + ... + prev_n[U]) / n
    );
}

2025-06-17 21:21:10,029 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:10,225 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> 
}

2025-06-17 21:21:10,225 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:10,225 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:21:23,023 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (/* Implementation for Avgpool */);
}

2025-06-17 21:21:23,023 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:23,262 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 588, in visitFuncCall
    raise UndefinedVarException(name + " is not defined")
constraintflow.core.astTC.UndefinedVarException: mean is not defined

Code:
transformer deeppoly{
    Avgpool -> (mean(prev_0[l]), mean(prev_0[u]), mean(prev_0[L]), mean(prev_0[U]));
}

2025-06-17 21:21:23,262 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:23,501 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (
        (prev[l] >= 0) ? (prev[l]) : (prev[u] <= 0) ? (0) : (avgpool_bounds(prev[l], prev[u]))),
        (prev[u] >= 0) ? (prev[u]) : (prev[l] <= 0) ? (0) : (avgpool_bounds(prev[l], prev[u]))),
        avgpool_bounds(prev[L], prev[U]),
        avgpool_bounds(prev[L], prev[U])
    );
}

2025-06-17 21:21:23,501 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:23,501 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:21:29,948 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 588, in visitFuncCall
    raise UndefinedVarException(name + " is not defined")
constraintflow.core.astTC.UndefinedVarException: insert is not defined

Code:
transformer deeppoly{
    Avgpool -> (insert transformation logic here);
}

2025-06-17 21:21:29,948 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:30,208 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (avg(prev_0[l], prev_1[l], ..., prev_n[l]), avg(prev_0[u], prev_1[u], ..., prev_n[u]), avg(prev_0[L], prev_1[L], ..., prev_n[L]), avg(prev_0[U], prev_1[U], ..., prev_n[U]));
}

2025-06-17 21:21:30,208 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:30,407 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> ( /* Code here */ );
}

2025-06-17 21:21:30,407 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:30,407 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:21:44,219 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly {
    Avgpool -> (
        (prev_0[l] + ... + prev_{n-1}[l]) / n,
        (prev_0[u] + ... + prev_{n-1}[u]) / n,
        (prev_0[L] + ... + prev_{n-1}[L]) / n,
        (prev_0[U] + ... + prev_{n-1}[U]) / n
    );
}

2025-06-17 21:21:44,220 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:44,443 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 638, in visitTransRetBasic
    raise TypeMismatchException("Expression in transformer is different from shape declaration")
constraintflow.core.astTC.TypeMismatchException: Expression in transformer is different from shape declaration

Code:
transformer deeppoly{
    Avgpool -> (prev.dot(curr[weight]) + curr[bias], prev.dot(curr[weight]) + curr[bias], prev.dot(curr[weight]) + curr[bias], prev.dot(curr[weight]) + curr[bias]);
}

2025-06-17 21:21:44,443 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:44,654 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (backsubs_lower((prev_0[l] + prev_1[l] + ... + prev_n[l]) / n, curr, curr[layer]), backsubs_upper((prev_0[u] + prev_1[u] + ... + prev_n[u]) / n, curr, curr[layer]), (prev_0[L] + prev_1[L] + ... + prev_n[L]) / n, (prev_0[U] + prev_1[U] + ... + prev_n[U]) / n);
}

2025-06-17 21:21:44,654 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:44,654 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:21:46,938 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (/* fill in the transformer for Avgpool */);
}

2025-06-17 21:21:46,939 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:47,143 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (/* Your transformer logic here */);
}

2025-06-17 21:21:47,143 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:47,345 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> // your code here
}

2025-06-17 21:21:47,346 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:47,346 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:21:55,055 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Avgpool -> (
        // Lower bound for the output
        (prev_0[l] + prev_1[l] + prev_2[l] + prev_3[l]) / 4,
        (prev_0[u] + prev_1[u] + prev_2[u] + prev_3[u]) / 4,
        // PolyExp L for the output
        (prev_0[L] + prev_1[L] + prev_2[L] + prev_3[L]) / 4,
        (prev_0[U] + prev_1[U] + prev_2[U] + prev_3[U]) / 4
    );
}

2025-06-17 21:21:55,056 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:21:55,271 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Avgpool -> (
        // Assuming prev has multiple inputs denoted as prev_0, prev_1, ..., prev_n
        // Calculate the lower bound for each input
        (prev_0[l]/n) + (prev_1[l]/n) + ... + (prev_n[l]/n),
        (prev_0[u]/n) + (prev_1[u]/n) + ... + (prev_n[u]/n),
        (prev_0[L]/n) + (prev_1[L]/n) + ... + (prev_n[L]/n),
        (prev_0[U]/n) + (prev_1[U]/n) + ... + (prev_n[U]/n)
    );
}

2025-06-17 21:21:55,271 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:21:55,483 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 405, in visitGetElement
    raise UndefinedVarException(node.elem.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: count is undefined

Code:
transformer deeppoly{
    Avgpool -> (backsubs_lower((prev/curr[count]), curr[count]), backsubs_upper((prev/curr[count]), curr[count]), (prev/curr[count]), (prev/curr[count]));
}

2025-06-17 21:21:55,483 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:21:55,483 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:21:55,483 - INFO - [Avgpool] Runtime: 81.36 seconds
2025-06-17 21:21:55,483 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Avgpool -> (backsubs_lower((prev/curr[count]), curr[count]), backsubs_upper((prev/curr[count]), curr[count]), (prev/curr[count]), (prev/curr[count]));
}

2025-06-17 21:21:55,483 - INFO - 2025-06-17 21:21:55.483802 - Extracting HardSigmoid
2025-06-17 21:21:55,483 - INFO - 
API: HardSigmoid -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:21:55,483 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:22:06,541 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) >= -2.5) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= -0.5) ? (0, 0, 0, 0) : ((backsubs_lower((0.2*prev[l]) + 0.5, curr, curr[layer]), backsubs_upper((0.2*prev[u]) + 0.5, curr, curr[layer]), (0.2*prev) + 0.5, (0.2*prev) + 0.5));
}

2025-06-17 21:22:06,541 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:22:06,816 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 588, in visitFuncCall
    raise UndefinedVarException(name + " is not defined")
constraintflow.core.astTC.UndefinedVarException: clamp is not defined

Code:
transformer deeppoly{
    HardSigmoid -> (backsubs_lower(clamp(prev.dot(curr[weight]) + curr[bias], 0, 1), curr, curr[layer]), backsubs_upper(clamp(prev.dot(curr[weight]) + curr[bias], 0, 1), curr, curr[layer]), clamp(prev.dot(curr[weight]) + curr[bias], 0, 1), clamp(prev.dot(curr[weight]) + curr[bias], 0, 1));
}

2025-06-17 21:22:06,816 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:22:07,033 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> 
    ((prev[l]) < (-2.5)) ? (0, ((prev[u] < (-1)) ? 1 : (2.5 / (2.5 - 1))) , 0, ((prev[u] < (-1)) ? prev : ((2.5 / (2.5 - 1)) * prev - (((2.5 * (-1)) / (2.5 - 1)) * prev)) ) : 
    ((prev[u]) > (2.5)) ? (0, 1, 0, prev) :
    ((prev[u] <= (-1)) ? (0, 1, 0, prev) : 
    ((prev[l] >= (-1)) ? (0, 1, 0, prev) : 
    (((0.2*prev[l]) + 0.5) <= curr) ? ((0.2*prev[l]) + 0.5, ((0.2*prev[u]) + 0.5), ((0.2*prev[l]) + 0.5), ((0.2*prev[u]) + 0.5)) : 
    (((0.2*prev[u]) + 0.5) >= curr) ? ((0.2*prev[u]) + 0.5, ((0.2*prev[u]) + 0.5), ((0.2*prev[u]) + 0.5), ((0.2*prev[u]) + 0.5)) : 
    (0, (0.2*prev[u]) + 0.5, 0, (( (0.2*prev[u]) / ((0.2*prev[u]) + 0.5 - (0.2*prev[l]) - 0.5) ) * prev) - ((((0.2*prev[u]) * (0.2*prev[l])) / ((0.2*prev[u]) + 0.5 - (0.2*prev[l]) - 0.5)))));
}

2025-06-17 21:22:07,033 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:22:07,033 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:22:16,576 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) * (0.2)) + (0.5) >= curr) ? ((prev[l]), (prev[u]), ((prev[l]) * (0.2)) + (0.5), ((prev[u]) * (0.2)) + (0.5)) : (((prev[u]) * (0.2)) + (0.5) <= (-(prev[l]) * (0.2)) + (0.5)) ? (0, 0, 0, 0) : (0, ((prev[u]) * (0.2)) + (0.5), 0, (((prev[u]) * (0.2)) + (0.5) - (((prev[u]) * (0.2)) + (0.5))) / ((((prev[u]) * (0.2)) + (0.5)) - ((prev[l]) * (0.2)) + (0.5))));
}

2025-06-17 21:22:16,577 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:22:16,863 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 644, in visitTransRetIf
    raise TypeMismatchException("Condition has to be boolean")
constraintflow.core.astTC.TypeMismatchException: Condition has to be boolean

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l] * (1/6)) + 0.5 >= curr) ? ((prev[l] * (1/6)) + 0.5, (prev[u] * (1/6)) + 0.5, (prev[L] * (1/6)) + 0.5, (prev[U] * (1/6)) + 0.5) : (((prev[u] * (1/6)) + 0.5 <= -1) ? (0, 0, 0, 0) : ((prev * (1/6)) + 0.5, 1, (prev[L] * (1/6)) + 0.5, (prev[U] * (1/6)) + 0.5 - ((prev[U] * (1/6)) * (prev[U] * (1/6)) + (prev[U] * (1/6)) * (prev[L] * (1/6)))) );
}

2025-06-17 21:22:16,863 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:22:17,064 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) < (-2.5)) ? (0, 1, 0, prev) : (((prev[u]) > 2.5) ? (0, 1, 0, prev) : (0, 1, 0, prev)));
}

2025-06-17 21:22:17,064 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:22:17,064 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:22:29,159 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5) ? (0, 1, 0, 1) : (((prev[u]) >= 2.5) ? (0, 1, 0, 1) : ((prev[l]) >= -0.5) ? (0, 1, 0, 1) : (((prev[u]) <= 0.5) ? (0, 1, 0, 1) : (0, max((prev[u]), (0.2*(prev[u]) + 0.5)), 0, (0.2*(prev)) + 0.5) ));
}

2025-06-17 21:22:29,160 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:22:29,379 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 638, in visitTransRetBasic
    raise TypeMismatchException("Expression in transformer is different from shape declaration")
constraintflow.core.astTC.TypeMismatchException: Expression in transformer is different from shape declaration

Code:
transformer deeppoly{
    HardSigmoid -> (backsubs_lower((curr[l] * 0.2) + 0.5, curr), backsubs_upper((curr[u] * 0.2) + 0.5, curr), (curr[l] * 0.2) + 0.5, (curr[u] * 0.2) + 0.5);
}

2025-06-17 21:22:29,379 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:22:29,664 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: max is not defined on PolyExp and Int

Code:
transformer deeppoly{
    HardSigmoid -> (backsubs_lower(min(max((prev[l] / 4) + 0.5, 0), 1), curr, curr[layer]), backsubs_upper(min(max((prev[u] / 4) + 0.5, 0), 1), curr, curr[layer]), min(max((prev[L] / 4) + 0.5, 0), 1), min(max((prev[U] / 4) + 0.5, 0), 1));
}

2025-06-17 21:22:29,664 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:22:29,664 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:22:47,983 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) < (-2.5)) ? (0, 1, 0, 1) : (((prev[u]) > 2.5) ? (0, 1, 0, 1) : (((prev[l]) >= (-2.5)) && ((prev[u]) <= 2.5)) ? (0, 1, 0, 1) : (((prev[u]) < (-2.5)) && ((prev[l]) < (-2.5))) ? ((prev[u]/((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) : ((prev[l]/((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ));
}

2025-06-17 21:22:47,983 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:22:48,190 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5) ? (0, 0, 0, 0) : (((prev[u]) >= 2.5) ? (1, 1, 1, 1) : (((prev[l]) >= -0.5) && ((prev[u]) <= 0.5)) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) > 0.5) ? (0, (0.2*(prev[u]) + 0.5), 0, (0.2*(prev[u]) + 0.5)) : ((0-(0.2*(prev[l]) - 0.5)), 0, (0-(0.2*(prev[l]) - 0.5)), 0)));
}

2025-06-17 21:22:48,190 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:22:48,393 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) < -2.5) ? (0, 0, 0, 0) : 
    (((prev[u]) > 2.5) ? (1, 1, 1, 1) : 
    (((prev[l]) >= -2.5 && (prev[u]) <= 2.5) ? (replace_lower(prev, 0.2)*(prev + 2.5) - (replace_lower(prev, 0.2)*2.5), replace_upper(prev, 0.2)*(prev + 2.5) - (replace_upper(prev, 0.2)*2.5), replace_lower(prev, 0.2)*(prev + 2.5) - (replace_lower(prev, 0.2)*2.5), replace_upper(prev, 0.2)*(prev + 2.5) - (replace_upper(prev, 0.2)*2.5)) : 
    (0, (prev[u] <= 2.5) ? replace_upper(prev, 0.2)*(prev + 2.5) - (replace_upper(prev, 0.2)*2.5) : 0, 0, (prev[l] >= -2.5) ? replace_upper(prev, 0.2)*(prev + 2.5) - (replace_upper(prev, 0.2)*2.5) : 0 ));
}

2025-06-17 21:22:48,393 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:22:48,393 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:23:02,845 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (
        (prev[l] <= -3.0) ? (0, 1, 0, 1) : (
        (prev[u] >= 3.0) ? (0, 1, 0, 1) : 
        (
            (prev[l] >= -1.0 && prev[u] <= 1.0) ? (0, 1, replace_lower(prev, 2/3)*prev + replace_upper(prev, -1/3), replace_upper(prev, 2/3)*prev + replace_lower(prev, -1/3)) : 
            (
                (prev[l] >= -1.0 && prev[u] > 1.0) ? (0, replace_upper(prev, 2/3)*(prev - 1) + 1, replace_lower(prev, 2/3)*(prev - 1) + 1, replace_upper(prev, 2/3)*(prev - 1) + 1) : 
                (
                    (prev[l] < -1.0 && prev[u] <= 1.0) ? (replace_lower(prev, 2/3)*prev + replace_upper(prev, -1/3), 1, replace_lower(prev, 2/3)*prev + replace_upper(prev, -1/3), replace_upper(prev, 2/3)*prev + replace_lower(prev, -1/3)) : 
                    (
                        (prev[l] < -1.0 && prev[u] > 1.0) ? (replace_lower(prev, 2/3)*(prev + 1) + 1/3, replace_upper(prev, 2/3)*(prev - 1) + 1, replace_lower(prev, 2/3)*(prev + 1) + 1/3, replace_upper(prev, 2/3)*(prev - 1) + 1) : 
                        (0, 0, 0, 0)
                    )
                )
            )
        )
    )
}

2025-06-17 21:23:02,845 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:23:03,047 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((curr[prev[l]]) * (0.2)) + (0.5)) <= curr ? (((curr[prev[u]]) * (0.2)) + (0.5)) >= curr ? ((0.2 * (prev[l])) + 0.5, (0.2 * (prev[u])) + 0.5, (0.2 * (prev[l])) + 0.5, (0.2 * (prev[u])) + 0.5) : (0, 1, 0, 1) : (((curr[prev[l]]) * (0.2)) + (0.5)) <= curr ? (((curr[prev[u]]) * (0.2)) + (0.5)) >= curr ? (0, 1, 0, 1) : (0, max(1, (((curr[prev[u]]) * (0.2)) + (0.5))), 0, (((curr[prev[u]]) * (0.2)) + (0.5))) - (((((curr[prev[u]]) * (0.2)) + (0.5)) - (((curr[prev[l]]) * (0.2)) + (0.5))) / ((prev[u]) - (prev[l]))) * (prev - (prev[l]))) : (0, 1, 0, 1);
}

2025-06-17 21:23:03,047 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:23:03,257 - INFO - [STEP 1] Sample 3: Validation passed.
2025-06-17 21:23:03,257 - INFO - [HardSigmoid] Runtime: 67.77 seconds
2025-06-17 21:23:03,257 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/HardSigmoid.txt

2025-06-17 21:23:03,258 - INFO - 2025-06-17 21:23:03.258000 - Extracting HardSwish
2025-06-17 21:23:03,258 - INFO - 
API: HardSwish -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:23:03,258 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:23:14,777 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] <= -3) ? (0, 0, 0, 0) :
        ((prev[u] >= 3) ? ((prev[u]/6)*(3*prev[u]-3), (prev[u]/6)*(3*prev[u]-3), (prev[u]/6)*(3*prev[u]-3), (prev[u]/6)*(3*prev[u]-3)) :
        (
            (prev[l] <= 0) ? (0, (prev[u]/6)*(3*prev[u]-3), 0, (prev[u]/6)*(3*prev[u]-3)) :
            (
                (prev[u] >= 0) ? ((prev[l]/6)*(3*prev[l]-3), (prev[u]/6)*(3*prev[u]-3), (prev[l]/6)*(3*prev[l]-3), (prev[u]/6)*(3*prev[u]-3)) :
                (
                    (prev[l]/6)*(3*prev[l]-3), (prev[u]/6)*(3*prev[u]-3), (prev[l]/6)*(3*prev[l]-3), (prev[u]/6)*(3*prev[u]-3)
                )
            )
        )
    );
}

2025-06-17 21:23:14,778 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:23:14,984 - INFO - [STEP 1] Sample 2: Validation passed.
2025-06-17 21:23:14,984 - INFO - [HardSwish] Runtime: 11.73 seconds
2025-06-17 21:23:14,985 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/HardSwish.txt

2025-06-17 21:23:14,985 - INFO - 2025-06-17 21:23:14.985156 - Extracting HardTanh
2025-06-17 21:23:14,985 - INFO - 
API: HardTanh -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:23:14,985 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:23:31,417 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 43, in visit
    return self.visitTernary(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 373, in visitTernary
    ctype = self.visit(node.cond)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 43, in visit
    return self.visitTernary(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 383, in visitTernary
    raise TypeMismatchException(str(ltype) + " and " + str(rtype) + " are not lub_type")
constraintflow.core.astTC.TypeMismatchException: Int and Bool are not lub_type

Code:
transformer deeppoly{
    HardTanh -> (backsubs_lower((prev[l] > 1) ? 1 : (prev[l] < -1) ? -1 : prev[l], curr, curr[layer]), backsubs_upper((prev[u] > 1) ? 1 : (prev[u] < -1) ? -1 : prev[u], curr, curr[layer]), (prev[L] > 1) ? 1 : (prev[L] < -1) ? -1 : prev[L], (prev[U] > 1) ? 1 : (prev[U] < -1) ? -1 : prev[U]);
}

2025-06-17 21:23:31,418 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:23:31,705 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1) ? (1, 1, 1, 1) : (((prev[u]) <= -1) ? (-1, -1, -1, -1) : (((prev[l]) <= -1 && (prev[u]) >= 1) ? (-1, 1, backsubs_lower(-1, prev), backsubs_upper(1, prev)) : ((prev[l]), (prev[u]), backsubs_lower(prev, prev), backsubs_upper(prev, prev))));
}

2025-06-17 21:23:31,705 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:23:32,187 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:23:32,187 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:23:38,360 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l] >= -1) && (prev[u] <= 1)) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= -1) ? (-1, -1, -1, -1) : (((prev[l]) >= 1) ? (1, 1, 1, 1) : (prev[l] < -1) ? (prev[l], 1, prev, 1) : (prev[u] > 1) ? (prev[u], 1, prev, 1) : (0, 0, 0, 0)) );
}

2025-06-17 21:23:38,360 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:23:38,569 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1) ? (1, 1, 1, 1) : (((prev[u]) <= -1) ? (-1, -1, -1, -1) : ((prev[l]) >= -1 && (prev[u]) <= 1) ? ((prev[l]) >= -1 ? (prev[l]) : -1, (prev[u]) <= 1 ? (prev[u]) : 1, (prev[l]) >= -1 ? (prev[l]) : -1, (prev[u]) <= 1 ? (prev

2025-06-17 21:23:38,569 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:23:38,808 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:23:38,808 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:24:07,796 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) <= (-1)) ? ((-1), (-1), (-1), (-1)) : (((prev[u]) >= 1) ? ((1), (1), (1), (1)) : ((prev[l]) >= (-1) && (prev[u]) <= 1) ? ((prev[l]), (prev[u]), (prev), (prev)) : ((prev[l]) >= 0) ? ((0), (prev[u]), 0, (prev[u])) : ((0), (prev[u]), (prev[l]), (prev[u])));
}

2025-06-17 21:24:07,796 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:24:08,068 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:24:08,277 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1) ? (1, 1, 1, 1) : (((prev[u]) <= -1) ? (-1, -1, -1, -1) : ((prev[l]) <= 0 && (prev[u]) >= 0) ? (0, 0, 0, 0) : ((prev[l]) <=-1 && (prev[u]) > -1 && (prev[u]) < 1) ? (prev[l], (prev[u]), prev, prev) : (prev[l], 1, prev, prev) );
}

2025-06-17 21:24:08,277 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:24:08,277 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:24:16,558 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> (((prev[l]) > 1) ? ((prev[l]), (prev[u]), (prev[l]), (prev[l])) : (((prev[u]) < -1) ? (0-(prev[u]), 0-(prev[l]), 0-(prev[u]), 0-(prev[l])) : (((prev[l]) >= -1 && (prev[u]) <= 1) ? ((prev[l]), (prev[u]), (prev), (prev)) : (0, max(prev[u], (prev[l]) * (prev[l])), prev * (prev[l] + prev[u]) / (prev[u] - prev[l]), prev * (prev[u] + prev[l]) / (prev[u] - prev[l]))));
}

2025-06-17 21:24:16,558 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:24:17,040 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:24:17,336 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1) ? (prev[l], prev[l], prev[l], prev[l]) : (((prev[u]) <= -1) ? (prev[u], prev[u], prev[u], prev[u]) : (((prev[l]) >= -1 && (prev[u]) <= 1) ? (prev[l], prev[u], prev[l], prev[u]) : ((prev[l]), (prev[u]), backsubs_lower(prev[l] >= -1 ? (prev[l] >= 1 ? 1 : prev[l]) : -1, curr, curr[layer]), backsubs_upper(prev[u] <= 1 ? (prev[u] <= -1 ? -1 : prev[u]) : 1, curr, curr[layer]))));
}

2025-06-17 21:24:17,339 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:24:17,339 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:24:50,450 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 327, in visitMaxOp
    exp2type = self.visit(node.expr2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and Neuron

Code:
transformer deeppoly{
    HardTanh -> (backsubs_lower(max(-1, min(1, prev)), curr, curr[layer]), backsubs_upper(max(-1, min(1, prev)), curr, curr[layer]), max(-1, min(1, prev)), max(-1, min(1, prev)));
}

2025-06-17 21:24:50,450 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:24:50,966 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:24:51,179 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1) ? (1, 1, 1, 1) : (((prev[u]) <= -1) ? (-1, -1, -1, -1) : ((prev[l]) <= -1 && (prev[u]) >= 1) ? (prev[l], prev[u], prev, prev) : ((prev[l]) >= 1) ? (((prev[l]) <= prev && prev <= 1) ? (prev[l], prev, prev[L], prev[U]) : ((prev <= 1) ? (prev, 1, prev[L], 1)) : ((-1 <= prev && prev <= 1) ? (-1, 1, -1, 1) : ((-1 <= prev && prev <= (prev[u])) ? (-1, prev[u], -1, prev[U]) : (-1, prev[u], -1, prev[U]))))));

2025-06-17 21:24:51,179 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:24:51,179 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:24:59,419 - INFO - [STEP 1] Sample 1: Validation passed.
2025-06-17 21:24:59,419 - INFO - [HardTanh] Runtime: 104.43 seconds
2025-06-17 21:24:59,419 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/HardTanh.txt

2025-06-17 21:24:59,419 - INFO - 2025-06-17 21:24:59.419538 - Extracting Max
2025-06-17 21:24:59,419 - INFO - 
API: Max -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:24:59,419 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:25:17,833 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (curr[l]== max(prev_0[l], prev_1[l]), curr[u]== max(prev_0[u], prev_1[u]), curr[L]== max(prev_0[L], prev_1[L]), curr[U]== max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:17,833 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:25:18,039 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l]) >= (prev_1[u])) ? ((prev_0[l]), (prev_1[u]), (prev_0), (prev_1)) :
           ((prev_0[u]) <= (prev_1[l])) ? ((prev_1[l]), (prev_0[u]), (prev_1), (prev_0)) :
           ((prev_0[l]) >= (prev_1[l])) ?
               ((prev_1[l]), max(prev_0[u], prev_1[u]),
               min(prev_0[L], prev_1[L]) + (max(prev_0[U], prev_1[U]) - min(prev_0[L], prev_1[L])) * ((prev_1[l] - prev_0[l]) / (prev_0[u] - prev_0[l])),
               max(prev_0[U], prev_1[U]) + (min(prev_0[U], prev_1[U]) - max(prev_0[U], prev_1[U])) * ((prev_1[u] - prev_0[u]) / (prev_0[u] - prev_0[l]))):
               ((prev_0[u]), max(prev_0[u], prev_1[u]),
               max(prev_0[L], prev_1[L]) + (min(prev_0[L], prev_1[L]) - max(prev_0[L], prev_1[L])) * ((prev_1[u] - prev_0[u]) / (prev_0[u] - prev_0[l])),
               min(prev_0[U], prev_1[U]) + (max(prev_0[U], prev_1[U]) - min(prev_0[U], prev_1[U])) * ((prev_1[u] - prev_0[u]) / (prev_0[u] - prev_0[l])));
}

2025-06-17 21:25:18,039 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:25:18,259 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        (prev_0[l] >= prev_1[u]) ? (prev_0[l], prev_0[l], prev_0, prev_0) : 
        (prev_0[u] <= prev_1[l]) ? (prev_1[l], prev_1[l], prev_1, prev_1) : 
        (prev_0[u] <= 0 && prev_1[u] <= 0) ? (0, 0, 0, 0) : 
        (prev_0[l] >= 0 && prev_1[l] >= 0) ? (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0, prev_1), ((prev_0[U] * prev_1[L]) + (prev_0[L] * prev_1[U])) / (prev_0[U] - prev_0[L] + prev_1[U] - prev_1[L])) : 
        (prev_0[u] >= 0 && prev_1[l] >= 0) ? (max(prev_0[u], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[U], prev_1[L]), ((prev_0[U] * prev_1[L]) + (prev_0[L] * prev_1[U])) / (prev_0[U] - prev_0[L] + prev_1[U] - prev_1[L])) : 
        (prev_0[l] >= 0 && prev_1[u] >= 0) ? (max(prev_0[l], prev_1[u]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[U]), ((prev_0[U] * prev_1[L]) + (prev_0[L] * prev_1[U])) / (prev_0[U] - prev_0[L] + prev_1[U] - prev_1[L])) : 
        (prev_0[u] >= 0 && prev_1[u] >= 0) ? (max(prev_0[u], prev_1[u]), max(prev_0[u], prev_1[u]), max(prev_0[U], prev_1[U]), ((prev_0[U] * prev_1[L]) + (prev_0[L] * prev_1[U])) / (prev_0[U] - prev_0[L] + prev_1[U] - prev_1[L]))
    );
}

2025-06-17 21:25:18,259 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:25:18,259 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:25:39,605 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:39,605 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:25:39,806 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max((prev_0[l]), (prev_1[l])), max((prev_0[u]), (prev_1[u])), max((prev_0[L]), (prev_1[L])), max((prev_0[U]), (prev_1[U])));
}

2025-06-17 21:25:39,806 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:25:40,095 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:40,095 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:25:40,096 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:25:48,464 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
    Max -> (max(prev_0[l], prev_1[u]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[U]), max(prev_0[U], prev_1[U]));
    Max -> (max(prev_0[u], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[U], prev_1[L]), max(prev_0[U], prev_1[U]));
    Max -> (max(prev_0[u], prev_1[u]), max(prev_0[u], prev_1[u]), max(prev_0[U], prev_1[U]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:48,464 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:25:48,666 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (curr[l], curr[u], max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:48,666 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:25:48,862 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:25:48,862 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:25:48,862 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:26:07,699 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[l]) ? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) : ((prev_1[u] <= prev_0[u]) ? (prev_1[u], (prev_1[u]), (prev_1), (prev_1)) : (prev_1[u], prev_0[u], prev_1, prev_0));
}

2025-06-17 21:26:07,700 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:07,905 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (((prev_0[l]) >= (prev_1[l])) ? ((prev_0[l]), min((prev_0[u]), (prev_1[u])), ((prev_0[L]) >= (prev_1[L])) ? (prev_0[L]) : (prev_1[L]), ((prev_0[U]) >= (prev_1[U])) ? (prev_0[U]) : (prev_1[U])) : (((prev_0[u]) <= (prev_1[u])) ? ((prev_1[u]), min((prev_0[u]), (prev_1[u])), ((prev_0[L]) <= (prev_1[L])) ? (prev_0[L]) : (prev_1[L]), ((prev_0[U]) <= (prev_1[U])) ? (prev_0[U]) : (prev_1[U])) : (0, (prev_0[u]+prev_1[u]+prev_0[l]+prev_1[l])/2, 0, (prev_0[u]+prev_1[u]+prev_0[L]+prev_1[L])/2 ));
}

2025-06-17 21:26:07,905 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:08,115 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> case(
        (prev_0[l] >= prev_1[u]) ? (prev_0[l], prev_0[u], prev_0, prev_0) : 
        (prev_1[l] >= prev_0[u]) ? (prev_1[l], prev_1[u], prev_1, prev_1) : 
        (0, max(prev_0[u], prev_1[u]), max(prev_0, prev_1), max(prev_0*(prev_0[u]+prev_1[u])/(prev_0[u]-prev_1[u]) - ((prev_0[u]*prev_1[u])/(prev_0[u]-prev_1[u]), prev_1*(prev_0[u]+prev_1[u])/(prev_0[u]-prev_1[u]) - ((prev_0[u]*prev_1[u])/(prev_0[u]-prev_1[u]))));
}

2025-06-17 21:26:08,115 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:08,115 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:26:15,054 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l]) >= (prev_1[u])) ? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) : (((prev_1[l]) >= (prev_0[u])) ? (prev_1[l]), (prev_1[u]), (prev_1), (prev_1)): max((prev_0[u]), max((prev_1[l]), (prev_1[u]));
}

2025-06-17 21:26:15,057 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:15,256 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:26:15,256 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:15,453 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max((prev_0[l]), (prev_1[l])), max((prev_0[u]), (prev_1[u])), max((prev_0[L]), (prev_1[L])), max((prev_0[U]), (prev_1[U])));
}

2025-06-17 21:26:15,454 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:15,454 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:26:23,604 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 91, in visit
    return self.visitFlow(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 826, in visitFlow
    raise UndefinedVarException(node.trans.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: deeppoly is undefined

Code:


2025-06-17 21:26:23,604 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:23,806 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (0, 0, 0, 0);
}

2025-06-17 21:26:23,807 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:24,004 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:26:24,004 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:24,004 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:26:30,108 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:26:30,108 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:30,309 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (if (prev_0[l] >= prev_1[u]) then (prev_0[l], prev_0[u], prev_0[L], prev_0[U]) else if (prev_1[l] >= prev_0[u]) then (prev_1[l], prev_1[u], prev_1[L], prev_1[U]) else (max(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), if (prev_0[L] >= prev_1[U]) then prev_0[L] else prev_1[U], if (prev_0[U] <= prev_1[L]) then prev_0[U] else prev_1[L]);
}

2025-06-17 21:26:30,309 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:30,514 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 91, in visit
    return self.visitFlow(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 826, in visitFlow
    raise UndefinedVarException(node.trans.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: deeppoly is undefined

Code:


2025-06-17 21:26:30,514 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:30,514 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:26:38,406 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (prev_0[l] >= prev_1[u]) ? (prev_0[l], prev_0[l], prev_0[L], prev_0[L]) : ((prev_0[u] <= prev_1[l]) ? (prev_1[l], prev_1[l], prev_1[L], prev_1[L]) : ((prev_0[l] >= prev_1[l]) ? (prev_0[l], prev_0[u], prev_0[L], prev_0[U]) : ((prev_0[u] <= prev_1[u]) ? (prev_1[u], prev_1[u], prev_1[U], prev_1[U]) : ((prev_0[u] >= prev_1[l]) ? (prev_0[u], prev_0[u], prev_0[U], prev_0[U]) : (prev_1[u], prev_1[u], prev_1[U], prev_1[U]) )));
}

2025-06-17 21:26:38,407 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:38,611 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (prev_0[l] >= prev_1[u]) ? (prev_0) : ((prev_0[u] <= prev_1[l]) ? (prev_1) : (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])));
}

2025-06-17 21:26:38,612 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:38,811 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (((prev_0[l] >= prev_1[u]) ? (prev_0[l], prev_0[l], prev_0, prev_0) : ((prev_1[l] >= prev_0[u]) ? (prev_1[l], prev_1[l], prev_1, prev_1) : (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0, prev_1), max(prev_0, prev_1))) );
}

2025-06-17 21:26:38,812 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:38,812 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:26:55,427 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l]) >= (prev_1[l]) && (prev_0[l]) >= 0) ? ((prev_0[l]), max(prev_0[u], prev_1[u]), (prev_0), (prev_0)) : (((prev_1[l]) >= (prev_0[l]) && (prev_1[l]) >= 0) ? ((prev_1[l]), max(prev_0[u], prev_1[u]), (prev_1), (prev_1)) : (((prev_0[l]) <= 0 && (prev_1[l]) <= 0) ? (0, max(prev_0[u], prev_1[u]), 0, (prev_0 + prev_1)*(max(prev_0[u], prev_1[u])/(prev_0[u]-prev_0[l])) - ((max(prev_0[u], prev_1[u])*(-prev_0[l]))/(prev_0[u]-prev_0[l])) ) : ((0, 0, 0, 0)));
}

2025-06-17 21:26:55,428 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:26:55,630 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (backsubs_lower(max(prev_0, prev_1), curr, curr[layer]), backsubs_upper(max(prev_0, prev_1), curr, curr[layer]), max(prev_0, prev_1), max(prev_0, prev_1));
}

2025-06-17 21:26:55,631 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:26:55,833 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (prev_0[l] >= prev_1[u]) ? (prev_0[l], (prev_0[u] >= prev_1[u]) ? prev_0[u] : prev_1[u], prev_0, (prev_0[u] >= prev_1[u]) ? prev_0 : prev_1) : 
           (prev_1[l] >= prev_0[u]) ? (prev_1[l], (prev_1[u] >= prev_0[u]) ? prev_1[u] : prev_0[u], prev_1, (prev_1[u] >= prev_0[u]) ? prev_1 : prev_0) : 
           (0, max(prev_0[u], prev_1[u]), prev_0, prev_1);
}

2025-06-17 21:26:55,834 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:26:55,834 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:27:18,647 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:27:18,647 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:27:18,847 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (prev_0[l] >= prev_1[u]) ? (prev_0[l], prev_0[l], prev_0[L], prev_0[L]) : 
           ((prev_0[u] <= prev_1[l]) ? (prev_1[l], prev_1[l], prev_1[L], prev_1[L]) : 
            (prev_1[l] >= prev_0[u]) ? (prev_1[l], prev_1[l], prev_1[L], prev_1[L]) : 
            ((prev_1[u] <= prev_0[l]) ? (prev_0[l], prev_0[l], prev_0[L], prev_0[L]) : 
             (max(prev_0[u], prev_1[l]), max(prev_0[l], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]))) );
}

2025-06-17 21:27:18,847 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:27:19,048 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (curr[l] <= max(prev_0[l], prev_1[l]), curr[u] >= max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:27:19,048 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:27:19,048 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:27:19,048 - INFO - [Max] Runtime: 139.63 seconds
2025-06-17 21:27:19,048 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Max -> (curr[l] <= max(prev_0[l], prev_1[l]), curr[u] >= max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-17 21:27:19,048 - INFO - 2025-06-17 21:27:19.048785 - Extracting Maxpool
2025-06-17 21:27:19,048 - INFO - 
API: Maxpool -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:27:19,048 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:27:25,605 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> (for each prev_i do (prev_i[l] >= 0) ? ((prev_i[l]), (prev_i[u]), (prev_i), (prev_i)) : (((prev_i[u]) <= 0) ? (0, 0, 0, 0) : (0, (prev_i[u]), 0, (((prev_i[u]) / ((prev_i[u]) - (prev_i[l]))) * (prev_i)) - (((prev_i[u]) * (prev_i[l])) / ((prev_i[u]) - (prev_i[l]))) )), curr[l] <= max(prev_0[l], prev_1[l], ...), curr[u] >= max(prev_0[u], prev_1[u], ...), curr[L] <= max(prev_0[L], prev_1[L], ...), curr[U] >= max(prev_0[U], prev_1[U], ...) );
}

2025-06-17 21:27:25,605 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:27:25,811 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev[prev_0[l], prev_1[l], ...] <= curr),(prev[prev_0[u], prev_1[u], ...] >= curr),(prev[prev_0[L], prev_1[L], ...] <= curr),(prev[prev_0[U], prev_1[U], ...] >= curr));
}

2025-06-17 21:27:25,811 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:27:26,008 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> {
        // Implement the transformer for Maxpool operator
    }
}

2025-06-17 21:27:26,008 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:27:26,008 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:27:28,863 - INFO - [STEP 1] Sample 1: Validation passed.
2025-06-17 21:27:28,863 - INFO - [Maxpool] Runtime: 9.81 seconds
2025-06-17 21:27:28,863 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/Maxpool.txt

2025-06-17 21:27:28,863 - INFO - 2025-06-17 21:27:28.863829 - Extracting Min
2025-06-17 21:27:28,863 - INFO - 
API: Min -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:27:28,863 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:27:42,450 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> if (prioritize(prev_0, prev_1) == prev_1) {
        ((prev_1[l]) <= (prev_0[l])) ? ((prev_1[l]), min(prev_1[u], prev_0[u]), prev_1, backsubs_upper(prev_0, prev_1)) : (min(prev_1[l], prev_0[l]), (prev_0[u]) <= (prev_1[u]) ? (prev_0[u]) : (prev_1[u]), backsubs_lower(prev_0, prev_1), prev_0);
    } else {
        ((prev_0[l]) <= (prev_1[l])) ? ((prev_0[l]), min(prev_0[u], prev_1[u]), prev_0, backsubs_upper(prev_1, prev_0)) : (min(prev_0[l], prev_1[l]), (prev_1[u]) <= (prev_0[u]) ? (prev_1[u]) : (prev_0[u]), backsubs_lower(prev_1, prev_0), prev_1);
    }
}

2025-06-17 21:27:42,450 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:27:42,652 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (backsubs_lower(min(prev_0, prev_1), curr, curr[layer]), backsubs_upper(min(prev_0, prev_1), curr, curr[layer]), min(prev_0, prev_1), min(prev_0, prev_1));
}

2025-06-17 21:27:42,652 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:27:42,849 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:27:42,849 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:27:42,849 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:28:05,334 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        // Define the conditions for the lower and upper bounds
        (prev_0[l] <= prev_1[l]) ? 
            (prev_0[l], min(prev_0[u], prev_1[u]), (prev_0[L] <= prev_1[L]) ? prev_0[L] : prev_1[L], (prev_0[U] <= prev_1[U]) ? prev_0[U] : prev_1[U]) : 
        (prev_0[l] > prev_1[l]) ? 
            (prev_1[l], min(prev_0[u], prev_1[u]), (prev_0[L] > prev_1[L]) ? prev_0[L] : prev_1[L], (prev_0[U] > prev_1[U]) ? prev_0[U] : prev_1[U]) : 
        (prev_0[u] <= prev_1[u]) ? 
            (prev_0[l], prev_0[u], (prev_0[L] <= prev_1[L]) ? prev_0[L] : prev_1[L], (prev_0[U] <= prev_1[U]) ? prev_0[U] : prev_1[U]) : 
        (prev_0[u] > prev_1[u]) ? 
            (prev_1[l], prev_1[u], (prev_0[L] > prev_1[L]) ? prev_0[L] : prev_1[L], (prev_0[U] > prev_1[U]) ? prev_0[U] : prev_1[U])
    );
}

2025-06-17 21:28:05,334 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:28:05,628 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev[l] > prev[u]) ? (prev[u], prev[l], prev[U], prev[L]) : ((prev[u] > prev[l]) ? (prev[l], prev[u], prev[L], prev[U]) : (prev[l], prev[u], prev[L], prev[U])));
}

2025-06-17 21:28:05,628 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:28:05,830 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (min(prev[l], prev_0[l]), min(prev[u], prev_0[u]), (prev[L] <= prev_0[L]) ? prev[L] : prev_0[L], (prev[U] >= prev_0[U]) ? prev[U] : prev_0[U]);
}

2025-06-17 21:28:05,830 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:28:05,831 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:28:23,809 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l]) <= (prev_1[l])) ? ((prev_0[l]), (prev_0[u] < (prev_1[u])) ? (prev_0[u]) : (prev_1[u]), 
        ((prev_0[L]) <= (prev_1[L])) ? ((prev_0[L]), (prev_0[u] < (prev_1[u])) ? (prev_0[u]) : (prev_1[u]) : (((prev_0[L]) < (prev_1[L])) ? (prev_0[L]) : (prev_1[L])), 
        ((prev_0[L]) <= (prev_1[L])) ? ((prev_0[L]), (prev_0[u] < (prev_1[u])) ? (prev_0[u]) : (prev_1[u]) : (((prev_0[L]) < (prev_1[L])) ? (prev_0[L]) : (prev_1[L]))) ) : 
        (((prev_0[l]) > (prev_1[l])) ? ((prev_1[l]), (prev_1[u] < (prev_0[u])) ? (prev_1[u]) : (prev_0[u]), 
        ((prev_0[L]) > (prev_1[L])) ? ((prev_1[L]), (prev_1[u] < (prev_0[u])) ? (prev_1[u]) : (prev_0[u]) : (((prev_0[L]) > (prev_1[L])) ? (prev_1[L]) : (prev_0[L])), 
        ((prev_0[L]) > (prev_1[L])) ? ((prev_1[L]), (prev_1[u] < (prev_0[u])) ? (prev_1[u]) : (prev_0[u]) : (((prev_0[L]) > (prev_1[L])) ? (prev_1[L]) : (prev_0[L]))) ) );
}

2025-06-17 21:28:23,809 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:28:24,011 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[u]) ? (prev_0[l], min(prev_0[u], prev_1[u]), prev_0, prev_0) : ((prev_0[u] >= prev_1[l]) ? (prev_1[l], min(prev_0[u], prev_1[u]), prev_1, prev_1) : (0, max(prev_0[u], prev_1[u]), prev_0, prev_1) ));
}

2025-06-17 21:28:24,012 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:28:24,245 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    try:
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (f(prev_0, prev_1) && (prev_0[l] <= prev_1[l])) ? (prev_0[l], min(prev_0[u], prev_1[u]), prev_0[L], min(prev_0[U], prev_1[U])) :
           (f(prev_0, prev_1) && (prev_0[l] >= prev_1[l])) ? (prev_1[l], min(prev_0[u], prev_1[u]), prev_1[L], min(prev_0[U], prev_1[U])) :
           (f(prev_0, prev_1) && (prev_0[u] <= prev_1[u])) ? (max(prev_0[l], prev_1[l]), prev_0[u], max(prev_0[L], prev_1[L]), prev_0[U]) :
           (f(prev_0, prev_1) && (prev_0[u] >= prev_1[u])) ? (max(prev_0[l], prev_1[l]), prev_1[u], max(prev_0[L], prev_1[L]), prev_1[U]) :
           (f(prev_0, prev_1) && (prev_0[L] <= prev_1[L])) ? (prev_0[l], min(prev_0[u], prev_1[u]), prev_0[L], min(prev_0[U], prev_1[U])) :
           (f(prev_0, prev_1) && (prev_0[L] >= prev_1[L])) ? (prev_1[l], min(prev_0[u], prev_1[u]), prev_1[L], min(prev_0[U], prev_1[U])) :
           (f(prev_0, prev_1) && (prev_0[U] <= prev_1[U])) ? (max(prev_0[l], prev_1[l]), prev_0[u], max(prev_0[L], prev_1[L]), prev_0[U]) :
           (f(prev_0, prev_1) && (prev_0[U] >= prev_1[U])) ? (max(prev_0[l], prev_1[l]), prev_1[u], max(prev_0[L], prev_1[L]), prev_1[U]) :
           (f(prev_0, prev_1) && (prev_0[l] <= prev_1[l]) && (prev_0[u] >= prev_1[u])) ? (prev_0[l], prev_1[u], prev_0[L], prev_1[U]) :
           (f(prev_0, prev_1) && (prev_0[l] >= prev_1[l]) && (prev_0[u] <= prev_1[u])) ? (prev_1[l], prev_0[u], prev_1[L], prev_0[U]) :
           (prev_0[l], prev_0[u], prev_0[L], prev_0[U]);
}

2025-06-17 21:28:24,245 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:28:24,245 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:28:38,258 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (curr, curr, backsubs_lower(min(prev_0, prev_1), curr), backsubs_upper(min(prev_0, prev_1), curr));
}

2025-06-17 21:28:38,259 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:28:38,460 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:28:38,460 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:28:38,664 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) ? ((prev_0[l]), (min(prev_0[u], prev_1[u])), (prev_0[L]), (prev_0[U])) : ((prev_1[l] < prev_0[l]) ? ((prev_1[l]), (min(prev_0[u], prev_1[u])), (prev_1[L]), (prev_1[U])) : ((prev_0[u] <= prev_1[u]) ? ((prev_0[u]), (prev_0[u]), (prev_0[U]), (prev_0[U])) : ((prev_1[u] < prev_0[u]) ? ((prev_1[u]), (prev_1[u]), (prev_1[U]), (prev_1[U])) : (0, 0, 0, 0) ));
}

2025-06-17 21:28:38,664 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:28:38,664 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:29:06,023 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (((prev_0[l]) >= (prev_1[l])) && ((prev_0[u]) <= (prev_1[u])) && ((prev_0[L]) >= (prev_1[L])) && ((prev_0[U]) <= (prev_1[U]))) ? ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])) : (((prev_1[l]) >= (prev_0[l])) && ((prev_1[u]) <= (prev_0[u])) && ((prev_1[L]) >= (prev_0[L])) && ((prev_1[U]) <= (prev_0[U]))) ? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) : ((prev_0[l]) < (prev_1[l])) ? ((prev_1[l]), min(prev_0[u], prev_1[u]), (prev_1[L]), (prev_0[U]*(prev_0[U]-prev_1[L])/(prev_0[U]-prev_0[l]) + prev_1[U]*(prev_1[U]-prev_0[L])/(prev_1[U]-prev_1[l]))) : ((prev_0[l]) > (prev_1[l])) ? ((prev_0[l]), min(prev_0[u], prev_1[u]), (prev_0[L]), (prev_1[U]*(prev_1[U]-prev_0[L])/(prev_1[U]-prev_1[l]) + prev_0[U]*(prev_0[U]-prev_1[L])/(prev_0[U]-prev_0[l]))) : (0, 0, 0, 0);
}

2025-06-17 21:29:06,023 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:29:06,225 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:29:06,225 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:29:06,424 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (0, 0, 0, 0);
}

2025-06-17 21:29:06,425 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:29:06,425 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:29:36,112 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (((prev_0[l] <= prev_1[l]) ? (prev_0[l], (prev_0[u] <= prev_1[u]) ? (prev_0[u], prev_0, prev_0) : (prev_1[u], prev_1, prev_1)) : ((prev_1[l] <= prev_0[l]) ? (prev_1[l], (prev_0[u] <= prev_1[u]) ? (prev_0[u], prev_0, prev_0) : (prev_1[u], prev_1, prev_1)))), ((prev_0[u] >= prev_1[u]) ? (prev_0[u], (prev_0[l] >= prev_1[l]) ? (prev_0[l], prev_0, prev_0) : (prev_1[l], prev_1, prev_1)) : ((prev_1[u] >= prev_0[u]) ? (prev_1[u], (prev_0[l] >= prev_1[l]) ? (prev_0[l], prev_0, prev_0) : (prev_1[l], prev_1, prev_1)))), ((prev_0[L] <= prev_1[L]) ? (prev_0[L], (prev_0[U] <= prev_1[U]) ? (prev_0[U], prev_0, prev_0) : (prev_1[U], prev_1, prev_1)) : ((prev_1[L] <= prev_0[L]) ? (prev_1[L], (prev_0[U] <= prev_1[U]) ? (prev_0[U], prev_0, prev_0) : (prev_1[U], prev_1, prev_1)))), ((prev_0[U] >= prev_1[U]) ? (prev_0[U], (prev_0[L] >= prev_1[L]) ? (prev_0[L], prev_0, prev_0) : (prev_1[L], prev_1, prev_1)) : ((prev_1[U] >= prev_0[U]) ? (prev_1[U], (prev_0[L] >= prev_1[L]) ? (prev_0[L], prev_0, prev_0) : (prev_1[L], prev_1, prev_1))) ) );
}

2025-06-17 21:29:36,113 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:29:36,311 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (prev_0[l] <= prev_1[l]) ? (prev_0[l], min(prev_0[u], prev_1[u]), (prev_0[L] <= prev_1[L]) ? prev_0[L] : prev_1[L], (prev_0[U] <= prev_1[U]) ? prev_0[U] : prev_1[U]) : (prev_1[l], min(prev_0[u], prev_1[u]), (prev_1[L] <= prev_0[L]) ? prev_1[L] : prev_0[L], (prev_1[U] <= prev_0[U]) ? prev_1[U] : prev_0[U]);
}

2025-06-17 21:29:36,311 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:29:36,607 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (...)
}

2025-06-17 21:29:36,607 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:29:36,607 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:30:05,965 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:30:05,965 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:30:06,175 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (((prev_0[l]>=prev_1[l])?(prev_0[l],prev_0[u],prev_0[L],prev_0[U]):(prev_1[l],prev_1[u],prev_1[L],prev_1[U])))((prev_0[u]<=prev_1[u])?(prev_0[l],prev_0[u],prev_0[L],prev_0[U]):(prev_1[l],prev_1[u],prev_1[L],prev_1[U]))((prev_0[L]>=prev_1[L])?(prev_0[l],prev_0[u],prev_0[L],prev_0[U]):(prev_1[l],prev_1[u],prev_1[L],prev_1[U]))((prev_0[U]<=prev_1[U])?(prev_0[l],prev_0[u],prev_0[L],prev_0[U]):(prev_1[l],prev_1[u],prev_1[L],prev_1[U]));
}

2025-06-17 21:30:06,175 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:30:06,376 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) ? ((prev_0[l]), min(prev_0[u], prev_1[u]), prev_0[L], prev[0][U]) : ((prev_0[l] > prev_1[l]) ? ((prev_1[l]), min(prev_1[u], prev_0[u]), prev_1[L], prev_1[U]) : (0, 0, 0, 0) ));
}

2025-06-17 21:30:06,377 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:30:06,377 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:30:30,437 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) ? (prev_0[l], min(prev_0[u], prev_1[u]), prev_0[L], min(prev_0[U], prev_1[U])) : (prev_1[l], min(prev_0[u], prev_1[u]), prev_1[L], min(prev_0[U], prev_1[U])) );
}

2025-06-17 21:30:30,437 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:30:30,643 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (curr[l] <= min(prev_0[l], prev_1[l])) && (curr[u] >= min(prev_0[u], prev_1[u])) && (curr[L] <= min(prev_0[L], prev_1[L])) && (curr[U] >= min(prev_0[U], prev_1[U]));
}

2025-06-17 21:30:30,643 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:30:30,850 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) ? (prev_0[l], (prev_0[u] >= prev_1[u]) ? prev_1[u] : prev_0[u], prev_0, prev_0) : (prev_1[l], prev_1[u], prev_1, prev_1));
}

2025-06-17 21:30:30,850 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:30:30,850 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:30:50,675 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_0[u]) && (prev_0[l] <= prev_1[u])) ? ((prev_0[l]), min(prev_0[u], prev_1[u]), prev_0[L], prev_0[U]) : 
           ((prev_1[l] <= prev_0[l]) && (prev_1[l] <= prev_0[u]) && (prev_1[l] <= prev_1[u])) ? ((prev_1[l]), min(prev_0[u], prev_1[u]), prev_1[L], prev_1[U]) : 
           ((prev_0[u] < prev_1[l]) && (prev_0[u] < prev_0[l]) && (prev_0[u] < prev_1[u])) ? ((prev_0[u]), min(prev_0[u], prev_1[u]), prev_0[L], prev_0[U]) : 
           ((prev_1[u] < prev_0[l]) && (prev_1[u] < prev_0[u]) && (prev_1[u] < prev_1[u])) ? ((prev_1[u]), min(prev_0[u], prev_1[u]), prev_1[L], prev_1[U]) : 
           ((prev_0[l] >= prev_1[l]) && (prev_0[l] >= prev_0[u]) && (prev_0[l] >= prev_1[u])) ? ((prev_0[l]), min(prev_0[u], prev_1[u]), prev_0[L], prev_0[U]) : 
           ((prev_1[l] >= prev_0[l]) && (prev_1[l] >= prev_0[u]) && (prev_1[l] >= prev_1[u])) ? ((prev_1[l]), min(prev_0[u], prev_1[u]), prev_1[L], prev_1[U]) : 
           ((prev_0[u] > prev_1[l]) && (prev_0[u] > prev_0[l]) && (prev_0[u] > prev_1[u])) ? ((prev_0[u]), min(prev_0[u], prev_1[u]), prev_0[L], prev_0[U]) : 
           ((prev_1[u] > prev_0[l]) && (prev_1[u] > prev_0[u]) && (prev_1[u] > prev_1[u])) ? ((prev_1[u]), min(prev_0[u], prev_1[u]), prev_1[L], prev_1[U]) : (0, 0, 0, 0);
}

2025-06-17 21:30:50,675 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:30:50,878 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (curr[l] <= min(prev_0[l], prev_1[l])) && (curr[u] >= min(prev_0[u], prev_1[u])) && (curr[L] <= min(prev_0[L], prev_1[L])) && (curr[U] >= min(prev_0[U], prev_1[U]));
}

2025-06-17 21:30:50,878 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:30:51,123 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l]) <= (prev_1[l]) && (prev_0[u] >= (prev_1[u]))) ? ((prev_0[l]), (prev_0[u]), (prev_0[L] <= (prev_0[l]) && prev_0[L] <= (prev_1[l])) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] >= (prev_0[u]) && prev_0[U] >= (prev_1[u])) ? (prev_0[U]) : (prev_1[U])) : ((prev_0[l]) > (prev_1[l]) && (prev_0[u] < (prev_1[u]))) ? ((prev_1[l]), (prev_1[u]), (prev_0[L] <= (prev_0[l]) && prev_0[L] <= (prev_1[l])) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] >= (prev_0[u]) && prev_0[U] >= (prev_1[u])) ? (prev_0[U]) : (prev_1[U])) : ((prev_0[l]) < (prev_1[l]) && (prev_0[u] > (prev_1[u]))) ? ((prev_0[l]), (prev_0[u]), (prev_0[L] <= (prev_0[l]) && prev_0[L] <= (prev_1[l])) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] >= (prev_0[u]) && prev_0[U] >= (prev_1[u])) ? (prev_0[U]) : (prev_1[U])) : (((prev_0[l]) == (prev_1[l])) ? ((prev_0[l]), (prev_0[u]), (prev_0[L] <= (prev_0[l]) && prev_0[L] <= (prev_1[l])) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] >= (prev_0[u]) && prev_0[U] >= (prev_1[u])) ? (prev_0[U]) : (prev_1[U])) : ((prev_0[u]) == (prev_1[u])) ? ((prev_0[l]), (prev_0[u]), (prev_0[L] <= (prev_0[l]) && prev_0[L] <= (prev_1[l])) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] >= (prev_0[u]) && prev_0[U] >= (prev_1[u])) ? (prev_0[U]) : (prev_1[U])) : (0,0,0,0));
}

2025-06-17 21:30:51,123 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:30:51,123 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:31:01,358 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (((prev_0[l] >= prev_1[l]) && (prev_0[l] >= prev_1[u])) ? ((prev_0[l]), (prev_0[l]), (prev_0[L]), (prev_0[L])) : (((prev_0[u] <= prev_1[l]) && (prev_0[u] <= prev_1[u])) ? ((prev_0[u]), (prev_0[u]), (prev_0[U]), (prev_0[U])) : (((prev_1[l] >= prev_0[l]) && (prev_1[l] >= prev_0[u])) ? ((prev_1[l]), (prev_1[l]), (prev_1[L]), (prev_1[L])) : (((prev_1[u] <= prev_0[l]) && (prev_1[u] <= prev_0[u])) ? ((prev_1[u]), (prev_1[u]), (prev_1[U]), (prev_1[U])) : (((prev_0[l] >= prev_1[l]) && (prev_0[u] <= prev_1[u])) ? (prev_0[l], min(prev_0[u], prev_1[u]), prev_0[L], prev_1[U]) : ((prev_1[l], min(prev_1[u], prev_0[u]), prev_1[L], prev_0[U])))));
}

2025-06-17 21:31:01,358 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:01,561 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l]) <= (prev_1[l]) ? (prev_0) : (prev_1))[l], 
           ((prev_0[u]) <= (prev_1[u]) ? (prev_0) : (prev_1))[u], 
           (prev_0[L]) <= (prev_1[L]) ? (prev_0[L]) : (prev_1[L]), 
           (prev_0[U]) <= (prev_1[U]) ? (prev_0[U]) : (prev_1[U]);
}

2025-06-17 21:31:01,561 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:01,850 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (f(prev_0, prev_1) ? (prev_0[u], min(prev_0[u], prev_1[u]), prev_0, [L]), f(prev_1, prev_0) ? (prev_1[u], min(prev_1[u], prev_0[u]), prev_1, [U]) : (min(prev_0[u], prev_1[u]), [L], prev_0, prev_1));
}

2025-06-17 21:31:01,850 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:01,850 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:31:01,850 - INFO - [Min] Runtime: 212.99 seconds
2025-06-17 21:31:01,850 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Min -> (f(prev_0, prev_1) ? (prev_0[u], min(prev_0[u], prev_1[u]), prev_0, [L]), f(prev_1, prev_0) ? (prev_1[u], min(prev_1[u], prev_0[u]), prev_1, [U]) : (min(prev_0[u], prev_1[u]), [L], prev_0, prev_1));
}

2025-06-17 21:31:01,850 - INFO - 2025-06-17 21:31:01.850567 - Extracting Minpool
2025-06-17 21:31:01,850 - INFO - 
API: Minpool -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:31:01,850 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:31:12,335 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> {
        (prev_0[l] <= prev_1[l]) -> ((prev_0[l], prev_0[u], prev_0, prev_0));
        (prev_0[l] > prev_1[l]) -> ((prev_1[l], prev_1[u], prev_1, prev_1));
        (prev_0[u] <= prev_1[u]) -> ((prev_0[u], prev_0[u], prev_0, prev_0));
        (prev_0[u] > prev_1[u]) -> ((prev_1[u], prev_1[u], prev_1, prev_1));
    }
}

2025-06-17 21:31:12,336 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:12,561 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> (
        min(prev_0[l], prev_1[l]), 
        min(prev_0[u], prev_1[u]), 
        min(prev_0[L], prev_1[L]), 
        min(prev_0[U], prev_1[U])
    );
}

2025-06-17 21:31:12,561 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:12,766 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (l = 1000, u = -1000, L = PolyExp("minpool"), U = PolyExp("minpool"));
    case curr[0][l] < curr[1][l]:
        (curr[0][l], curr[0][u], curr[0][L], curr[0][U]);
    case curr[0][l] > curr[1][l]:
        (curr[1][l], curr[1][u], curr[1][L], curr[1][U]);
    case curr[0][l] == curr[1][l]:
        Min -> (Min.backsubs_lower(curr[0][l], curr), Min.backsubs_upper(curr[0][l], curr), Min.backsubs_lower(curr[0][L], curr), Min.backsubs_upper(curr[0][U], curr));
}

2025-06-17 21:31:12,766 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:12,766 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:31:18,753 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (prev_0, prev_1, min(prev_0[l], pre

2025-06-17 21:31:18,753 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:18,982 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 43, in visit
    return self.visitTernary(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 373, in visitTernary
    ctype = self.visit(node.cond)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> 
        (backsubs_lower(prev_0[l] <= prev_1[l] ? prev_0[l] : prev_1[l], curr, curr[layer]), 
         backsubs_upper(prev_0[u] <= prev_1[u] ? prev_0[u] : prev_1[u], curr, curr[layer]), 
         prev_0[l] <= prev_1[l] ? prev_0[L] : prev_1[L], 
         prev_0[u] <= prev_1[u] ? prev_0[U] : prev_1[U]);
}

2025-06-17 21:31:18,982 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:19,220 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> ((curr[l]) == min(prev_0[l], prev_1[l]), (curr[u]) == min(prev_0[u], prev_1[u]), (curr[L]) == min(prev_0[L], prev_1[L]), (curr[U]) == min(prev_0[U], prev_1[U]));
}

2025-06-17 21:31:19,220 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:19,221 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:31:28,751 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (Float min_l = prev_0[l]; Float min_u = prev_0[u]; PolyExp min_L = prev_0[L]; PolyExp min_U = prev_0[U];
        for (prev_1 in inputs) {
            min_l = min(min_l, prev_1[l]);
            min_u = min(min_u, prev_1[u]);
            min_L = min(min_L, prev_1[L]);
            min_U = min(min_U, prev_1[U]);
        }
        (min_l, min_u, min_L, min_U));
}

2025-06-17 21:31:28,752 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:28,990 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 642, in visitTransRetIf
    ctype = self.visit(node.cond)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> ((prev_0[l]) < (prev_1[l])) ? ((prev_1[l]), min(prev_0[u], prev_1[u]), (prev_1[L]), min(prev_0[U], prev_1[U])) : (((prev_0[u]) < (prev_1[u])) ? ((prev_0[u]), min(prev_0[u], prev_1[u]), (prev_0[L]), min(prev_0[U], prev_1[U])) : ((prev_0[l]), min(prev_0[u], prev_1[u]), (prev_0[L]), min(prev_0[U], prev_1[U])) );
}

2025-06-17 21:31:28,990 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:29,194 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> {
        // Add the DeepPoly transformer for Minpool operator here
        // You might need to consider different cases depending on the input bounds
    }
}

2025-06-17 21:31:29,194 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:29,194 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:31:38,313 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> 
    ((prev_0[l] <= prev_1[l] && prev_0[u] <= prev_1[u]) || (prev_0[l] >= prev_1[l] && prev_0[u] >= prev_1[u])) ? 
    (prev_0[l], prev_0[u], prev_0, prev_0) : 
    ((prev_0[l] <= prev_1[l] && prev_0[u] >= prev_1[u]) || (prev_0[l] >= prev_1[l] && prev_0[u] <= prev_1[u])) ? 
    (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), prev_0*(prev_0[l]+prev_1[l])/(prev_0[l]-prev_1[u]) - (((prev_0[u])*(prev_1[l]))/(prev_0[l]-prev_1[u])), prev_0*(prev_0[u]+prev_1[u])/(prev_0[u]-prev_1[l]) - (((prev_0[u])*(prev_1[u]))/(prev_0[u]-prev_1[l]))) : 
    (prev_1[l], prev_1[u], prev_1, prev_1);
}

2025-06-17 21:31:38,313 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:38,603 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ???
}

2025-06-17 21:31:38,603 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:38,804 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> if (prev_0[l] <= prev_1[l]) {
        (prev_0[l], prev_0[u], prev_0[L], prev_0[U]);
    } else if (prev_0[l] > prev_1[l]) {
        (prev_1[l], prev_1[u], prev_1[L], prev_1[U]);
    } else {
        (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
    }
}

2025-06-17 21:31:38,804 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:38,804 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:31:50,086 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> 
}

2025-06-17 21:31:50,086 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:50,291 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ((prev_0[l]) <= (prev_1[l]) && (prev_0[u] <= prev_1[u])) ? ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])) : (((prev_0[l]) >= (prev_1[l]) && (prev_0[u] >= prev_1[u])) ? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) : ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U])));
}

2025-06-17 21:31:50,291 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:50,520 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (((prev_0[l]) <= (prev_1[l])) && ((prev_0[l]) <= (prev_0[u])) && ((prev_0[l]) <= (prev_1[u]))) ? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) : ((((prev_1[l]) <= (prev_0[l])) && ((prev_1[l]) <= (prev_0[u])) && ((prev_1[l]) <= (prev_1[u]))) ? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) : (((prev_0[u]) >= (prev_1[u])) && ((prev_1[u]) <= (prev_0[u])) && ((prev_1[u]) <= (prev_0[l]))) ? ((prev_1[u]), (prev_1[u]), (prev_1), (prev_1)) : (((prev_1[u]) >= (prev_0[u])) && ((prev_0[u]) <= (prev_1[u])) && ((prev_0[u]) <= (prev_1[l]))) ? ((prev_0[u]), (prev_0[u]), (prev_0), (prev_0)) : ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0));
}

2025-06-17 21:31:50,520 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:50,520 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:31:54,924 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> <your code>;
}

2025-06-17 21:31:54,924 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:55,159 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:55,362 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (prev_0[l], prev_1[u], prev_0[L], prev_1[U]);
}

2025-06-17 21:31:55,362 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:55,362 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:31:58,149 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> 
}

2025-06-17 21:31:58,150 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:31:58,347 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> // Your transformer logic here
}

2025-06-17 21:31:58,347 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:31:58,586 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:31:58,586 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:32:05,407 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (Float min = min((prev_0)[l],(prev_1)[l]); Float max = max((prev_0)[u],(prev_1)[u]); PolyExp L = (prev_0[L] <= prev_1[L]) ? prev_0[L] : prev_1[L]; PolyExp U = (prev_0[U] >= prev_1[U]) ? prev_0[U] : prev_1[U]; [min, max, L, U];
}

2025-06-17 21:32:05,407 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:05,618 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> (backsubs_lower(min(prev_0[l], prev_1[l]), curr, curr[layer]), backsubs_upper(min(prev_0[u], prev_1[u]), curr, curr[layer]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:32:05,619 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:05,931 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 403, in visitGetElement
    etype = self.visit(node.expr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Minpool -> ((min(prev_0[l], prev_1[l])) >= curr[l], (min(prev_0[u], prev_1[u])) >= curr[u], min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]));
}

2025-06-17 21:32:05,931 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:05,931 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:32:14,692 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ...;
}

2025-06-17 21:32:14,693 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:14,932 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ((prev_0[l]) <= (prev_1[l])) ? ((prev_0[l]), min((prev_0[u]), (prev_1[u])), (prev_0[L]), min((prev_0[U]), (prev_1[U]))): (((prev_0[u]) >= (prev_1[u])) ? ((prev_1[u]), min((prev_0[u]), (prev_1[u])), (prev_1[L]), min((prev_0[U]), (prev_1[U]))): ((min((prev_0[u]), (prev_1[u])), min((prev_0[u]), (prev_1[u])), min((prev_0[L]), (prev_1[L])), min((prev_0[U]), (prev_1[U]))) );
}

2025-06-17 21:32:14,932 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:15,145 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u])) ? ((prev_0[l]), (prev_0[u]), (prev_0[L] <= prev_1[L]) ? (prev_0[L]) : (prev_1[L]), (prev_0[U] <= prev_1[U]) ? (prev_0[U]) : (prev_1[U])) :
             ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u])) ? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) :
             ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u])) ? ((prev_0[l]), (prev_1[u]), (prev_0[L] <= prev_1[L]) ? (prev_0[L]) : (prev_1[L]), (prev_1[U])) :
             ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u])) ? ((prev_1[l]), (prev_0[u]), (prev_1[L]), (prev_0[U] <= prev_1[U]) ? (prev_0[U]) : (prev_1[U])) ;
}

2025-06-17 21:32:15,146 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:15,146 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:32:26,568 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> ((prev_0[l] >= prev_1[l]) ? (prev_0[l], prev_0[u], prev_0, prev_0) : (prev_1[l], prev_1[u], prev_1, prev_1)) 
              : ((prev_0[u] <= prev_1[u]) ? (prev_0[u], prev_0[u], prev_0, prev_0) : (prev_1[u], prev_1[u], prev_1, prev_1));
}

2025-06-17 21:32:26,568 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:26,775 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> if (prev_0[l] <= prev_1[l] && prev_0[u] <= prev_1[u]) then (prev_0[l], prev_0[u], prev_0[L], prev_0[U]);
    elseif (prev_0[l] <= prev_1[l] && prev_0[u] > prev_1[u]) then (prev_0[l], prev_1[u], prev_0[L], prev_1[U]);
    elseif (prev_0[l] > prev_1[l] && prev_0[u] <= prev_1[u]) then (prev_1[l], prev_0[u], prev_1[L], prev_0[U]);
    else (prev_1[l], prev_1[u], prev_1[L], prev_1[U]);
}

2025-06-17 21:32:26,775 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:26,986 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Minpool -> (backsubs_lower(((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), backsubs_upper(((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), ((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), ((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (

2025-06-17 21:32:26,986 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:26,986 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:32:26,986 - INFO - [Minpool] Runtime: 85.14 seconds
2025-06-17 21:32:26,990 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Minpool -> (backsubs_lower(((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), backsubs_upper(((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), ((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (prev[U])) : (min(prev[l], prev_1[l]), min(prev[u], prev_1[u]), min(prev[L], prev_1[L]), min(prev[U], prev_1[U]))), ((prev[l]) >= (prev_1[l])) ? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= (prev_1[u])) ? ((prev[u]), (prev[u]), (prev[U]), (

2025-06-17 21:32:26,990 - INFO - 2025-06-17 21:32:26.990277 - Extracting Mult
2025-06-17 21:32:26,990 - INFO - 
API: Mult -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:32:26,990 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:32:32,827 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:32:32,827 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:33,031 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ???
}

2025-06-17 21:32:33,031 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:33,229 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*prev_1, curr, curr[layer]), backsubs_upper(prev_0*prev_1, curr, curr[layer]), prev_0*prev_1, prev_0*prev_1);
}

2025-06-17 21:32:33,229 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:33,229 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:32:37,391 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:32:37,394 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:37,604 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower((prev_0 * prev_1), curr, curr[layer]), backsubs_upper((prev_0 * prev_1), curr, curr[layer]), (prev_0 * prev_1), (prev_0 * prev_1));
}

2025-06-17 21:32:37,604 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:38,114 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr_0, curr_0[layer]), backsubs_upper(prev_0 * prev_1, curr_0, curr_0[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:32:38,114 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:38,114 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:32:48,184 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> /* Your code here */
}

2025-06-17 21:32:48,184 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:48,410 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:32:48,410 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:48,636 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*prev_1, curr, curr[layer]), backsubs_upper(prev_0*prev_1, curr, curr[layer]), prev_0*prev_1, prev_0*prev_1);
}

2025-06-17 21:32:48,637 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:48,637 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:32:56,310 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*prev_1, curr, curr[layer]), backsubs_upper(prev_0*prev_1, curr, curr[layer]), prev_0*prev_1, prev_0*prev_1);
}

2025-06-17 21:32:56,310 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:32:56,534 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*prev_1, curr, curr[layer]), backsubs_upper(prev_0*prev_1, curr, curr[layer]), prev_0*prev_1, prev_0*prev_1);
}

2025-06-17 21:32:56,535 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:32:56,754 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*curr[weight]*prev_1 + curr[bias], curr, curr[layer]), backsubs_upper(prev_0*curr[weight]*prev_1 + curr[bias], curr, curr[layer]), prev_0*curr[weight]*prev_1 + curr[bias], prev_0*curr[weight]*prev_1 + curr[bias]);
}

2025-06-17 21:32:56,754 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:32:56,754 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:33:18,421 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> 
    var shape as (Float l, Float u, PolyExp L, PolyExp U);
    (prev_0[l] >= 0, prev_0[u] >= 0, prev_0[L], prev_0[U]) -> (prev_1[l] >= 0) ? (prev_0[l] * prev_1[l], prev_0[u] * prev_1[u], prev_0[L] * prev_1[L], prev_0[U] * prev_1[U]) : (prev_1[u] <= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (0, max(prev_0[u]*prev_1[l], prev_0[l]*prev_1[u]), prev_0[L]*prev_1[l] + prev_0[L]*prev_1[u] + prev_0[U]*prev_1[L] + prev_0[U]*prev_1[u], prev_0[U]*prev_1[U] + prev_0[L]*prev_1[L] - (prev_0[L]*prev_1[U] + prev_0[U]*prev_1[L]));
    (prev_0[l] >= 0, prev_0[u] >= 0, prev_0[L], prev_0[U]) -> (prev_1[l] <= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (prev_1[u] <= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (prev_0[l] * prev_1[l], prev_0[u] * prev_1[u], prev_0[L] * prev_1[L], prev_0[U] * prev_1[U]);
    (prev_0[l] <= 0, prev_0[u] <= 0, prev_0[L], prev_0[U]) -> (prev_1[l] >= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (prev_1[u] <= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (prev_0[l] * prev_1[l], prev_0[u] * prev_1[u], prev_0[L] * prev_1[L], prev_0[U] * prev_1[U]);
    (prev_0[l] <= 0, prev_0[u] <= 0, prev_0[L], prev_0[U]) -> (prev_1[l] <= 0) ? (prev_0[l] * prev_1[l], prev_0[u] * prev_1[u], prev_0[L] * prev_1[L], prev_0[U] * prev_1[U]) : (prev_1[u] >= 0) ? (prev_0[l] * prev_1[u], prev_0[u] * prev_1[l], prev_0[L] * prev_1[U], prev_0[U] * prev_1[L]) : (0, max(prev_0[u]*prev_1[l], prev_0[l]*prev_1[u]), prev_0[L]*prev_1[l] + prev_0[L]*prev_1[u] + prev_0[U]*prev_1[L] + prev_0[U]*prev_1[u], prev_0[U]*prev_1[U] + prev_0[L]*prev_1[L] - (prev_0[L]*prev_1[U] + prev_0[U]*prev_1[L]));
}

2025-06-17 21:33:18,421 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:33:18,647 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:33:18,648 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:33:18,885 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l]) >= 0 && (prev_1[l]) >= 0) ? ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0*prev_1), (prev_0*prev_1)) : (((prev_0[u]) <= 0 && (prev_1[u]) <= 0) ? ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0*prev_1), (prev_0*prev_1)) : (((prev_0[l]) >= 0 && (prev_1[u]) <= 0) ? ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0*prev_1), (prev_0*prev_1)) : (((prev_0[u]) <= 0 && (prev_1[l]) >= 0) ? (0, 0, 0, 0) : ((prev_0[l]*prev_1[L]) + (prev_0[L]*prev_1[l]) - (prev_0[L]*prev_1[L]), (prev_0[u]*prev_1[U]) + (prev_0[U]*prev_1[u]) - (prev_0[U]*prev_1[U]), prev_0*prev_1, prev_0*prev_1) ) );
}

2025-06-17 21:33:18,885 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:33:18,885 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:33:24,293 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev[l] * prev_0[l], curr) * backsubs_lower(prev[l] * prev_0[u], curr) * backsubs_lower(prev[u] * prev_0[l], curr) * backsubs_lower(prev[u] * prev_0[u], curr), 
             backsubs_upper(prev[l] * prev_0[l], curr) * backsubs_upper(prev[l] * prev_0[u], curr) * backsubs_upper(prev[u] * prev_0[l], curr) * backsubs_upper(prev[u] * prev_0[u], curr), 
             prev[L] * prev_0[L], prev[U] * prev_0[U]);
}

2025-06-17 21:33:24,293 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:33:24,516 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ???
}

2025-06-17 21:33:24,517 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:33:24,749 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> 
}

2025-06-17 21:33:24,750 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:33:24,750 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:33:30,433 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * curr[l] + prev_1 * curr[u], curr, curr[layer]), backsubs_upper(prev_0 * curr[u] + prev_1 * curr[l], curr, curr[layer]), prev_0 * curr[L] + prev_1 * curr[U], prev_0 * curr[U] + prev_1 * curr[L]);
}

2025-06-17 21:33:30,433 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:33:30,866 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:33:30,866 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:33:31,094 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0[l]*prev_1[l], curr), backsubs_upper(prev_0[u]*prev_1[u], curr), prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]);
}

2025-06-17 21:33:31,094 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:33:31,094 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:33:50,606 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ( ((prev_0[l] >= 0) && (prev_1[l] >= 0)) ? (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
             ((prev_0[u] <= 0) && (prev_1[u] <= 0)) ? (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
             ((prev_0[l] >= 0) && (prev_1[u] <= 0)) ? (prev_0[l]*prev_1[u], prev_0[u]*prev_1[l], prev_0[L]*prev_1[U], prev_0[U]*prev_1[L]) :
             ((prev_0[u] <= 0) && (prev_1[l] >= 0)) ? (prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U]) :
             ((prev_0[l] >= 0) && (prev_1[L] <= 0)) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
             ((prev_0[u] <= 0) && (prev_1[U] <= 0)) ? (prev_0[u]*prev_1[U], prev_0[l]*prev_1[L], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
             ((prev_0[l] >= 0) && (prev_1[U] >= 0)) ? (prev_0[l]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
             ((prev_0[u] <= 0) && (prev_1[L] >= 0)) ? (prev_0[u]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
             ((prev_0[L] <= 0) && (prev_1[l] >= 0)) ? (prev_0[L]*prev_1[l], prev_0[U]*prev_1[u], prev_0[l]*prev_1[L], prev_0[u]*prev_1[U]) :
             ((prev_0[U] <= 0) && (prev_1[u] >= 0)) ? (prev_0[U]*prev_1[u], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[L]) :
             ((prev_0[L] <= 0) && (prev_1[U] >= 0)) ? (prev_0[L]*prev_1[U], prev_0[U]*prev_1[L], prev_0[l]*prev_1[u], prev_0[u]*prev_1[L]) :
             ((prev_0[U] <= 0) && (prev_1[L] >= 0)) ? (prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[u], prev_0[l]*prev_1[L]) :
             (0, max(prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[U], prev_0[l]*prev_1[L], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]), prev_0*prev_1, prev_0*prev_1*(prev_0[u]+prev_0[l])/(prev_0[u]-prev_0[l]) + prev_0*prev_1*(prev_1[u]+prev_1[l])/(prev_1[u]-prev_1[l]) - (prev_0*prev_1*((prev_0[u]*prev_1[l])+(prev_0[l]*prev_1[u])))/(prev_0[u]-prev_0[l]) - (prev_0*prev_1*((prev_0[u]*prev_1[l])+(prev_0[l]*prev_1[u])))/(prev_1[u]-prev_1[l])) );
}

2025-06-17 21:33:50,606 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:33:50,840 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ???
}

2025-06-17 21:33:50,840 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:33:51,067 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:33:51,067 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:33:51,067 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:33:57,761 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> 
}

2025-06-17 21:33:57,762 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:33:57,982 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0*prev_1, curr, curr[layer]), backsubs_upper(prev_0*prev_1, curr, curr[layer]), prev_0*prev_1, prev_0*prev_1);
}

2025-06-17 21:33:57,983 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:33:58,215 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev[l]) * (prev_0[l])), ((prev[u]) * (prev_0[u])), ((prev_0[L]) * (prev[L])), ((prev_0[U]) * (prev[U]))
        + ((prev[l]) * (prev_0[U])), ((prev[u]) * (prev_0[l])), ((prev_0[L]) * (prev[U])), ((prev_0[U]) * (prev[L]))
        + ((prev[l]) * (prev_0[L])), ((prev[u]) * (prev_0[L])), ((prev_0[L]) * (prev[L])), ((prev_0[U]) * (prev[L]))
        + ((prev[l]) * (prev_0[U])), ((prev[u]) * (prev_0[U])), ((prev_0[L]) * (prev[U])), ((prev_0[U]) * (prev[U]))
}

2025-06-17 21:33:58,215 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:33:58,215 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:34:28,309 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev_0 * prev_1, curr, curr[layer]), backsubs_upper(prev_0 * prev_1, curr, curr[layer]), prev_0 * prev_1, prev_0 * prev_1);
}

2025-06-17 21:34:28,310 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:34:28,528 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (backsubs_lower(prev[0]*prev[1], curr, curr[layer]), backsubs_upper(prev[0]*prev[1], curr, curr[layer]), prev[0]*prev[1], prev[0]*prev[1]);
}

2025-06-17 21:34:28,528 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:34:28,842 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> 
    {(prev_0[l] >= 0 && prev_1[l] >= 0) ? (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
    (prev_0[u] <= 0 && prev_1[u] <= 0) ? (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
    (prev_0[l] >= 0 && prev_1[u] <= 0) ? (prev_0[l]*prev_1[u], prev_0[u]*prev_1[l], prev_0[L]*prev_1[U], prev_0[U]*prev_1[L]) :
    (prev_0[u] <= 0 && prev_1[l] >= 0) ? (prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U]) :
    (prev_0[l] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[u] <= 0 && prev_1[U] <= 0) ? (prev_0[u]*prev_1[U], prev_0[l]*prev_1[L], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[l] >= 0 && prev_1[U] <= 0) ? (prev_0[l]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[u] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[l], prev_0[L]*prev_1[u]) :
    (prev_0[L] <= 0 && prev_1[l] >= 0) ? (prev_0[L]*prev_1[l], prev_0[U]*prev_1[u], prev_0[l]*prev_1[L], prev_0[u]*prev_1[U]) :
    (prev_0[U] <= 0 && prev_1[u] >= 0) ? (prev_0[U]*prev_1[u], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] <= 0 && prev_1[u] <= 0) ? (prev_0[L]*prev_1[u], prev_0[U]*prev_1[l], prev_0[l]*prev_1[U], prev_0[u]*prev_1[L]) :
    (prev_0[U] <= 0 && prev_1[l] <= 0) ? (prev_0[U]*prev_1[l], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[L] >= 0) ? (prev_0[L]*prev_1[L], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
    (prev_0[U] <= 0 && prev_1[U] <= 0) ? (prev_0[U]*prev_1[U], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
    (prev_0[L] >= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[L] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[U] <= 0 && prev_1[U] >= 0) ? (prev_0[u]*prev_1[U], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] <= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[u]*prev_1[L]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[U] >= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] <= 0) ? (prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[L] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[U] <= 0 && prev_1[U] >= 0) ? (prev_0[u]*prev_1[U], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[L] >= 0) ? (prev_0[L]*prev_1[L], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0

2025-06-17 21:34:28,842 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:34:28,842 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:34:28,842 - INFO - [Mult] Runtime: 121.85 seconds
2025-06-17 21:34:28,842 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Mult -> 
    {(prev_0[l] >= 0 && prev_1[l] >= 0) ? (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
    (prev_0[u] <= 0 && prev_1[u] <= 0) ? (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
    (prev_0[l] >= 0 && prev_1[u] <= 0) ? (prev_0[l]*prev_1[u], prev_0[u]*prev_1[l], prev_0[L]*prev_1[U], prev_0[U]*prev_1[L]) :
    (prev_0[u] <= 0 && prev_1[l] >= 0) ? (prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U]) :
    (prev_0[l] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[u] <= 0 && prev_1[U] <= 0) ? (prev_0[u]*prev_1[U], prev_0[l]*prev_1[L], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[l] >= 0 && prev_1[U] <= 0) ? (prev_0[l]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[u] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[l], prev_0[L]*prev_1[u]) :
    (prev_0[L] <= 0 && prev_1[l] >= 0) ? (prev_0[L]*prev_1[l], prev_0[U]*prev_1[u], prev_0[l]*prev_1[L], prev_0[u]*prev_1[U]) :
    (prev_0[U] <= 0 && prev_1[u] >= 0) ? (prev_0[U]*prev_1[u], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] <= 0 && prev_1[u] <= 0) ? (prev_0[L]*prev_1[u], prev_0[U]*prev_1[l], prev_0[l]*prev_1[U], prev_0[u]*prev_1[L]) :
    (prev_0[U] <= 0 && prev_1[l] <= 0) ? (prev_0[U]*prev_1[l], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[L] >= 0) ? (prev_0[L]*prev_1[L], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
    (prev_0[U] <= 0 && prev_1[U] <= 0) ? (prev_0[U]*prev_1[U], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
    (prev_0[L] >= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[L] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[U] <= 0 && prev_1[U] >= 0) ? (prev_0[u]*prev_1[U], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] <= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[u]*prev_1[L]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[U] >= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] <= 0) ? (prev_0[U]*prev_1[L], prev_0[l]*prev_1[U], prev_0[U]*prev_1[u], prev_0[L]*prev_1[l]) :
    (prev_0[L] >= 0 && prev_1[L] <= 0) ? (prev_0[l]*prev_1[L], prev_0[u]*prev_1[U], prev_0[L]*prev_1[u], prev_0[U]*prev_1[l]) :
    (prev_0[U] <= 0 && prev_1[U] >= 0) ? (prev_0[u]*prev_1[U], prev_0[L]*prev_1[L], prev_0[u]*prev_1[U], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[U] <= 0) ? (prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[L]*prev_1[l], prev_0[U]*prev_1[u]) :
    (prev_0[U] <= 0 && prev_1[L] >= 0) ? (prev_0[u]*prev_1[L], prev_0[L]*prev_1[U], prev_0[u]*prev_1[L], prev_0[l]*prev_1[U]) :
    (prev_0[L] >= 0 && prev_1[L] >= 0) ? (prev_0[L]*prev_1[L], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0

2025-06-17 21:34:28,843 - INFO - 2025-06-17 21:34:28.843044 - Extracting Relu
2025-06-17 21:34:28,843 - INFO - 
API: Relu -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:34:28,843 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:34:35,932 - INFO - [STEP 1] Sample 1: Validation passed.
2025-06-17 21:34:35,933 - INFO - [Relu] Runtime: 7.09 seconds
2025-06-17 21:34:35,933 - INFO - Succeed. Saved to logs/2025-06-17_21-17-11/results/deepseek/success/Relu.txt

2025-06-17 21:34:35,933 - INFO - 2025-06-17 21:34:35.933624 - Extracting Relu6
2025-06-17 21:34:35,933 - INFO - 
API: Relu6 -> Model: deepseek @ http://ggnds-serv-01.cs.illinois.edu:8082
2025-06-17 21:34:35,933 - INFO - [STEP 1] Starting step 1/1
2025-06-17 21:34:46,646 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:34:46,874 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), min(6, (prev[u])), (prev), min(6, (prev))) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]), min(6, (prev[u])), (prev), min(6, (prev))) : (6, 6, 6, 6)))
}

2025-06-17 21:34:46,874 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:34:47,102 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and Neuron

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), min(6, prev[u]), (prev), min(6, prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[l]), (prev[u]), (prev), (prev)) : (0, 6, 0, 6)));
}

2025-06-17 21:34:47,103 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:34:47,103 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-17 21:34:54,254 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:34:54,525 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:34:54,836 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), min((prev[u]), 6), (prev), min((prev), 6)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) >= 0) ? ((prev[u]) >= 0) ? ((prev[u]) >= 0) ? ((prev[u]) >= 0) ? ((prev[u]), (prev[u]), (prev), (prev)) : (0, 6, 0, 6) : (0, (prev[u]), 0, (prev)) : (0, 6, 0, 6) : (0, min((prev[u]), 6), 0, min((prev), 6))) : (6, 6, 6, 6));
}

2025-06-17 21:34:54,836 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:34:54,836 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-17 21:35:06,425 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:35:06,893 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:35:07,285 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : ((prev[l]) >= 6) ? (0, 0, 0, 0) : ((prev[u]) >= 6) ? ((prev[u]) <= 6) ? ((prev[u]) <= 3) ? ((prev[u]) <= 2) ? ((prev[u]) <= 1) ? (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ) : (0, 3, 0, (3 / (3 - (prev[u]))) * (prev) - ((3 * (prev[u])) / (3 - (prev[u]))) ) : (0, 2, 0, (2 / (2 - (prev[u]))) * (prev) - ((2 * (prev[u])) / (2 - (prev[u]))) ) : (0, 1, 0, (1 / (1 - (prev[u]))) * (prev) - ((1 * (prev[u])) / (1 - (prev[u]))) ) : (0, 6, 0, (6 / (6 - (prev[u]))) * (prev) - ((6 * (prev[u])) / (6 - (prev[u]))) ) );
}

2025-06-17 21:35:07,285 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:35:07,285 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-17 21:35:24,175 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) <= 0) ? (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ) : (0, 6, 0, 3) : (6, (prev[u]), 6, ((6) / ((6) - (prev[u]))) * (prev) - ((6 * (prev[u])) / ((6) - (prev[u]))) ));
}

2025-06-17 21:35:24,176 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:35:25,014 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) <= 6) ? ((prev[l]) >= 6) ? (0, min(prev[u], 6), 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : ((prev[u]) <= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 0) ? (0, min(prev[u], 6), 0, 6) : ((prev[l]) <= 6) ? (0, 6, 0, 6) :

2025-06-17 21:35:25,014 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:35:25,222 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> (((prev[l]) >= 0) && ((prev[l]) <= 6)) ? ((prev[l]), (prev[u]), (prev), (prev)) : ((((prev[u]) <= 0) || ((prev[u]) >= 6)) ? (0, 0, 0, 0) : ((prev[l]) <= 6) ? (0, 6, 0, 6) : (6, (prev[u]), 6, (((prev[u]) - 6) * (prev - 6)) + 6) );
}

2025-06-17 21:35:25,222 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:35:25,222 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-17 21:35:40,304 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> (((prev[l]) >= 6) ? (0, 0, 0, 0) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[l]) >= 0 && (prev[u]) <= 6) ? ((prev[l]), min(6, (prev[u])), (prev), 6))))
}

2025-06-17 21:35:40,304 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:35:40,574 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:35:40,786 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> (((prev[l]) >= 0) && ((prev[l]) <= 6)) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) || ((prev[u]) >= 6)) ? (0, 0, 0, 0) : (((prev[u]) <= 6) && ((prev[l]) >= 0)) ? ((prev[l]), (6), (prev), (6)) : ((prev[u]) <= 0) ? (0, 0, 0, 0) : ((prev[l]) >= 6) ? (6, 6, 6, 6) : ((prev[u]) >= 0) ? (0, (6), 0, (((6) / ((6) - (prev[l]))) * (prev)) - (((6) * (prev[l])) / ((6) - (prev[l]))) ) : (0, (6), 0, (((6) / ((6) - (prev[l]))) * (prev)) - (((6) * (prev[l])) / ((6) - (prev[l]))) );
}

2025-06-17 21:35:40,786 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:35:40,786 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-17 21:35:50,506 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) <= 6) ? ((prev[l]) >= 6) ? (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ) : ((prev[u]) >= 6) ? (0, 6, 0, 6) : (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ) : ((prev[l]) >= 6) ? (0, 6, 0, 6) : ((prev[l]) <= 6) ? (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) ) : (6, max(prev[u], 6), 6, prev*(prev[u]+prev[l])/(prev[u]-prev[l]) - (((2*prev[u])*prev[l])/(prev[u]-prev[l]))) );
}

2025-06-17 21:35:50,506 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:35:50,717 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and Neuron

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), min(6, prev[u]), (prev), min(6, prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) >= 0) ? (0, (prev[u]), 0, (prev[u])) : (0, 6, 0, 6) : (0, 6, 0, 6)) );
}

2025-06-17 21:35:50,718 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:35:50,962 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:35:50,962 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-17 21:35:58,659 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:35:58,909 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:35:59,172 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:35:59,172 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-17 21:36:07,451 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:36:07,697 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:36:07,942 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:36:07,942 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-17 21:36:14,980 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[l]), (prev[u]), (prev), (prev)) : (0, 6, 0, 6) );
}

2025-06-17 21:36:14,980 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:36:15,248 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:36:15,486 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 43, in visit
    return self.visitTernary(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 378, in visitTernary
    rtype = self.visit(node.fexpr)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 185, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: / is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[l]) > 6) ? (6, 6, 6, 6) : (0, (prev[u]) <= 6 ? (prev[u]) : 6, 0, (prev[u]) <= 6 ? (prev[U]) : (6 * (prev[L] + prev[U]) / (prev[L] - prev[U]) + (2 * prev[U]) * prev[L] / (prev[L] - prev[U]))) ));
}

2025-06-17 21:36:15,486 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:36:15,486 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-17 21:36:23,897 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Float and Neuron

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), min(6.0, prev[u]), (prev), min(6.0, prev)) : (((prev[u]) <= 0) ? (0, 0, 0, 0) : (((prev[u]) <= 6) ? ((prev[u]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (0, 6, 0, 6) : (0, 6, 0, 6)) );
}

2025-06-17 21:36:23,897 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-17 21:36:24,304 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 0) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 6) ? (0, 6, 0, (6*(prev[u]+prev[l])/(prev[u]-prev[l]) - (((2*6)*prev[l])/(prev[u]-prev[l]))) ) : ((prev[u]) >= 6) ? (0, 6, 0, (6*(prev[u]+prev[l])/(prev[u]-prev[l]) - (((2*6)*prev[l])/(prev[u]-prev[l]))) ) : (0, (prev[u]), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))) );
}

2025-06-17 21:36:24,304 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-17 21:36:24,514 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/gen.py", line 116, in step_by_step_gen
    print(f"[STEP {index}] Sample {sample_id}: Completion:\n{completion}")
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 110, in validator
    return run_verifier_from_str(full_dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> (((prev[l]) >= 0) && ((prev[l]) <= 6)) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) || ((prev[u]) >= 6)) ? (0, 0, 0, 0) : (((prev[l]) > 6) && ((prev[u]) < 6)) ? (6, (prev[u]), 6, ((6 * (((prev[u]) - (prev[l])) / ((6) - (prev[l])))) + (((prev[l]) * ((6) - (prev[l])) / ((6) - (prev[l]))))) ) : (0, 6, 0, 6);
}

2025-06-17 21:36:24,514 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-17 21:36:24,514 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-17 21:36:24,514 - INFO - [Relu6] Runtime: 108.58 seconds
2025-06-17 21:36:24,515 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Relu6 -> (((prev[l]) >= 0) && ((prev[l]) <= 6)) ? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0) || ((prev[u]) >= 6)) ? (0, 0, 0, 0) : (((prev[l]) > 6) && ((prev[u]) < 6)) ? (6, (prev[u]), 6, ((6 * (((prev[u]) - (prev[l])) / ((6) - (prev[l])))) + (((prev[l]) * ((6) - (prev[l])) / ((6) - (prev[l]))))) ) : (0, 6, 0, 6);
}

2025-06-17 21:36:24,518 - INFO -  Total runtime for all operators: 1153.50 seconds
