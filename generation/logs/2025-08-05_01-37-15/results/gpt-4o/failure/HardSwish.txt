transformer deeppoly {
    HardSwish ->
        ((prev[u] <= -3) ? (0, 0, 0, 0) :
        ((prev[l] >= 3) ? (prev[l], prev[u], prev, prev) :
        (((prev[l] >= -3) and (prev[u] <= 3)) ? (prev[l] * ((prev[l] + 3) / 6), prev[u] * ((prev[u] + 3) / 6), prev * ((prev[u] + 3) / 6), prev * ((prev[u] + 3) / 6)) :
        (((prev[l] < -3) and (prev[u] <= 3)) ? (0, prev[u] * ((prev[u] + 3) / 6), (prev * (prev[u] + 3) / (6 * (prev[u] - prev[l]))) * prev - (prev[u] * prev[l] * (prev[u] + 3) / (6 * (prev[u] - prev[l]))), prev * (prev[u] + 3) / 6) :
        (((prev[l] >= -3) and (prev[u] > 3)) ? (prev[l] * ((prev[l] + 3) / 6), prev[u], prev * ((3 - prev[l]) / 6) + prev, ((3 - prev[l]) / 6) * prev + prev) :
        (0, prev[u], (prev * (3 - prev[l]) / (6 * (prev[u] - prev[l]))) * prev - (prev[u] * prev[l] * (3 - prev[l]) / (6 * (prev[u] - prev[l]))) + prev, prev)
        )))));
}
