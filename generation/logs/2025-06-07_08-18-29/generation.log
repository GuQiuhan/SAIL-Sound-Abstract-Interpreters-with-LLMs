2025-06-07 08:18:29,919 - INFO - 2025-06-07 08:18:29.919313 - Extracting Abs
2025-06-07 08:18:29,919 - INFO -
API: Abs -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 08:18:29,919 - INFO - [STEP 1] Starting step 1/1
2025-06-07 08:19:38,826 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:19:38,909 - INFO - [STEP 1] Sample 2: Validation passed.
2025-06-07 08:19:38,909 - INFO - [Abs] Runtime: 68.99 seconds
2025-06-07 08:19:38,909 - INFO - Succeed. Saved to logs/2025-06-07_08-18-29/results/Llama-3.3/success/Abs.txt

2025-06-07 08:19:38,909 - INFO - 2025-06-07 08:19:38.909441 - Extracting Add
2025-06-07 08:19:38,909 - INFO -
API: Add -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 08:19:38,909 - INFO - [STEP 1] Starting step 1/1
2025-06-07 08:20:59,150 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:20:59,150 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:20:59,210 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:20:59,210 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:20:59,276 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             backsubs_lower(prev_0[L] + prev_1[L], curr),
             backsubs_upper(prev_0[U] + prev_1[U], curr)));
}

2025-06-07 08:20:59,276 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:20:59,276 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 08:22:10,994 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             backsubs_lower(prev_0[L] + prev_1[L], curr),
             backsubs_upper(prev_0[U] + prev_1[U], curr)));
}

2025-06-07 08:22:10,994 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:22:11,059 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (backsubs_lower(prev_0[L] + prev_1[L], curr)), (backsubs_upper(prev_0[U] + prev_1[U], curr)));
}

2025-06-07 08:22:11,059 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:22:11,120 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (backsubs_lower(prev_0[L] + prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U] + prev_1[U], curr, curr[layer])));
}

2025-06-07 08:22:11,120 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:22:11,120 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 08:23:29,924 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:23:29,925 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:23:29,990 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:23:29,990 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:23:30,050 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((min(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u])),
            (min(backsubs_lower(prev_0, prev_0), backsubs_lower(prev_1, prev_1)),
             max(backsubs_upper(prev_0, prev_0), backsubs_upper(prev_1, prev_1))));
}

2025-06-07 08:23:30,050 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:23:30,050 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 08:24:58,273 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
             backsubs_lower(prev_0[L] + prev_1[L], curr),
             backsubs_upper(prev_0[U] + prev_1[U], curr)));
}

2025-06-07 08:24:58,273 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:24:58,335 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:24:58,335 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:24:58,400 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:24:58,400 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:24:58,400 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 08:26:18,881 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (backsubs_lower(prev_0[L] + prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U] + prev_1[U], curr, curr[layer])));
}

2025-06-07 08:26:18,882 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:26:18,943 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:26:18,943 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:26:19,008 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:26:19,008 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:26:19,008 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 08:27:46,893 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:27:46,893 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:27:46,954 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:27:46,954 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:27:47,019 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:27:47,019 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:27:47,019 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 08:29:07,607 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:29:07,607 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:29:07,667 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (backsubs_lower(prev_0[L] + prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U] + prev_1[U], curr, curr[layer])));
}

2025-06-07 08:29:07,667 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:29:07,732 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:29:07,732 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:29:07,732 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 08:30:39,942 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1), simplify_lower(prev_0, 1) + simplify_upper(prev_1, 1), simplify_upper(prev_0, 1) + simplify_lower(prev_1, 1), simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)),
           max(simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1), simplify_upper(prev_0, 1) + simplify_lower(prev_1, 1), simplify_lower(prev_0, 1) + simplify_upper(prev_1, 1), simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)),
           replace_lower(prev_0, 1) + replace_lower(prev_1, 1),
           replace_upper(prev_0, 1) + replace_upper(prev_1, 1));
}

2025-06-07 08:30:39,942 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:30:40,002 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:30:40,002 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:30:40,067 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[u] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:30:40,067 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:30:40,067 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 08:31:53,075 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:31:53,075 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:31:53,135 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:31:53,135 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:31:53,200 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (
        min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
        backsubs_lower(prev_0[L] + prev_1[L], curr),
        backsubs_upper(prev_0[U] + prev_1[U], curr)
    );
}

2025-06-07 08:31:53,200 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:31:53,200 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 08:33:13,380 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:33:13,380 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:33:13,440 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> (min(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            max(prev_0[l] + prev_1[l], prev_0[l] + prev_1[u], prev_0[u] + prev_1[l], prev_0[u] + prev_1[u]),
            backsubs_lower(prev_0[L] + prev_1[L], curr),
            backsubs_upper(prev_0[U] + prev_1[U], curr));
}

2025-06-07 08:33:13,440 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:33:13,504 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:33:13,504 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:33:13,504 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 08:33:13,504 - INFO - [Add] Runtime: 814.60 seconds
2025-06-07 08:33:13,504 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Add -> ((simplify_lower(prev_0, 1) + simplify_lower(prev_1, 1)), (simplify_upper(prev_0, 1) + simplify_upper(prev_1, 1)), (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)), (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 08:33:13,504 - INFO - 2025-06-07 08:33:13.504837 - Extracting Affine
2025-06-07 08:33:13,504 - INFO -
API: Affine -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 08:33:13,504 - INFO - [STEP 1] Starting step 1/1
2025-06-07 08:34:03,017 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:34:03,017 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:34:03,182 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight])) + curr[bias], (simplify_upper(prev, curr[weight])) + curr[bias], (replace_lower(prev, curr[weight])) + curr[bias], (replace_upper(prev, curr[weight])) + curr[bias]);
}

2025-06-07 08:34:03,182 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:34:03,250 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, weight) + bias,
        simplify_upper(prev, weight) + bias,
        replace_lower(prev, weight) + bias,
        replace_upper(prev, weight) + bias
    );
}

2025-06-07 08:34:03,250 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:34:03,250 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 08:35:05,579 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 588, in visitFuncCall
    raise UndefinedVarException(name + " is not defined")
constraintflow.core.astTC.UndefinedVarException: min_forall is not defined

Code:
transformer deeppoly{
    Affine -> (
        min_forall((simplify_lower(prev, curr[weight]) + curr[bias]), (simplify_upper(prev, curr[weight]) + curr[bias])),
        max_forall((simplify_lower(prev, curr[weight]) + curr[bias]), (simplify_upper(prev, curr[weight]) + curr[bias])),
        backsubs_lower((prev).dot(curr[weight]) + curr[bias], prev),
        backsubs_upper((prev).dot(curr[weight]) + curr[bias], prev)
    );
}

2025-06-07 08:35:05,579 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:35:05,650 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight]) + curr[bias]), (simplify_upper(prev, curr[weight]) + curr[bias]), (replace_lower(prev, curr[weight]) + curr[bias]), (replace_upper(prev, curr[weight]) + curr[bias]));
}

2025-06-07 08:35:05,650 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:35:05,719 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight])) + curr[bias], (simplify_upper(prev, curr[weight])) + curr[bias], (replace_lower(prev, curr[weight])) + curr[bias], (replace_upper(prev, curr[weight])) + curr[bias]);
}

2025-06-07 08:35:05,719 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:35:05,719 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 08:35:56,450 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> (simplify_lower(prev, curr[weight]) + curr[bias], simplify_upper(prev, curr[weight]) + curr[bias], replace_lower(prev, curr[weight]) + curr[bias], replace_upper(prev, curr[weight]) + curr[bias]);
}

2025-06-07 08:35:56,451 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:35:56,520 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight])) + curr[bias], (simplify_upper(prev, curr[weight])) + curr[bias], (replace_lower(prev, curr[weight])) + curr[bias], (replace_upper(prev, curr[weight])) + curr[bias]);
}

2025-06-07 08:35:56,520 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:35:56,579 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:35:56,579 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:35:56,579 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 08:36:45,879 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, curr[weight]) + curr[bias],
        simplify_upper(prev, curr[weight]) + curr[bias],
        replace_lower(prev, curr[weight]) + curr[bias],
        replace_upper(prev, curr[weight]) + curr[bias]
    );
}

2025-06-07 08:36:45,879 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:36:45,943 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:36:45,943 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:36:46,002 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:36:46,002 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:36:46,002 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 08:37:38,680 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (min_for(i, simplify_lower(prev_0, weight[i]) + bias[i]), max_for(i, simplify_upper(prev_0, weight[i]) + bias[i]), sum_for(i, replace_lower(prev_0, weight[i])) + bias, sum_for(i, replace_upper(prev_0, weight[i])) + bias);
}

2025-06-07 08:37:38,680 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:37:38,740 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:37:38,740 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:37:38,864 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight])) + curr[bias], (simplify_upper(prev, curr[weight])) + curr[bias], (replace_lower(prev, curr[weight])) + curr[bias], (replace_upper(prev, curr[weight])) + curr[bias]);
}

2025-06-07 08:37:38,864 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:37:38,864 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 08:38:30,131 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, curr[weight])) + curr[bias], (simplify_upper(prev, curr[weight])) + curr[bias], (replace_lower(prev, curr[weight])) + curr[bias], (replace_upper(prev, curr[weight])) + curr[bias]);
}

2025-06-07 08:38:30,131 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:38:30,196 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, curr[weight]) + curr[bias],
        simplify_upper(prev, curr[weight]) + curr[bias],
        replace_lower(prev, curr[weight]) + curr[bias],
        replace_upper(prev, curr[weight]) + curr[bias]
    );
}

2025-06-07 08:38:30,196 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:38:30,259 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (simplify_lower(prev, weight) + bias, simplify_upper(prev, weight) + bias, replace_lower(prev, weight) + bias, replace_upper(prev, weight) + bias);
}

2025-06-07 08:38:30,259 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:38:30,259 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 08:39:15,987 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, weight) + bias,
        simplify_upper(prev, weight) + bias,
        replace_lower(prev, weight) + bias,
        replace_upper(prev, weight) + bias
    );
}

2025-06-07 08:39:15,987 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:39:16,049 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (simplify_lower(prev, weight) + bias, simplify_upper(prev, weight) + bias, replace_lower(prev, weight) + bias, replace_upper(prev, weight) + bias);
}

2025-06-07 08:39:16,050 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:39:16,113 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:39:16,114 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:39:16,114 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 08:40:07,412 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (simplify_lower(prev, weight) + bias, simplify_upper(prev, weight) + bias, replace_lower(prev, weight) + bias, replace_upper(prev, weight) + bias);
}

2025-06-07 08:40:07,412 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:40:07,477 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        min_for_all(i, simplify_lower(prev_0, weight[i]) + bias[i]),
        max_for_all(i, simplify_upper(prev_0, weight[i]) + bias[i]),
        min_for_all(i, replace_lower(prev_0, weight[i]) + bias[i]),
        max_for_all(i, replace_upper(prev_0, weight[i]) + bias[i])
    );
}

2025-06-07 08:40:07,478 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:40:07,536 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (simplify_lower(prev, weight) + bias, simplify_upper(prev, weight) + bias, replace_lower(prev, weight) + bias, replace_upper(prev, weight) + bias);
}

2025-06-07 08:40:07,536 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:40:07,536 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 08:40:54,486 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, weight) + bias,
        simplify_upper(prev, weight) + bias,
        replace_lower(prev, weight) + bias,
        replace_upper(prev, weight) + bias
    );
}

2025-06-07 08:40:54,486 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:40:54,545 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:40:54,545 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:40:54,609 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, weight) + bias,
        simplify_upper(prev, weight) + bias,
        replace_lower(prev, weight) + bias,
        replace_upper(prev, weight) + bias
    );
}

2025-06-07 08:40:54,609 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:40:54,609 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 08:41:44,147 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> ((simplify_lower(prev, weight) + bias), (simplify_upper(prev, weight) + bias), (replace_lower(prev, weight) + bias), (replace_upper(prev, weight) + bias));
}

2025-06-07 08:41:44,147 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:41:44,210 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, weight) + bias,
        simplify_upper(prev, weight) + bias,
        replace_lower(prev, weight) + bias,
        replace_upper(prev, weight) + bias
    );
}

2025-06-07 08:41:44,210 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:41:44,274 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of simplify_lower are not the correct type(s)

Code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, curr[weight]) + curr[bias],
        simplify_upper(prev, curr[weight]) + curr[bias],
        replace_lower(prev, curr[weight]) + curr[bias],
        replace_upper(prev, curr[weight]) + curr[bias]
    );
}

2025-06-07 08:41:44,274 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:41:44,274 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 08:41:44,274 - INFO - [Affine] Runtime: 510.77 seconds
2025-06-07 08:41:44,274 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Affine -> (
        simplify_lower(prev, curr[weight]) + curr[bias],
        simplify_upper(prev, curr[weight]) + curr[bias],
        replace_lower(prev, curr[weight]) + curr[bias],
        replace_upper(prev, curr[weight]) + curr[bias]
    );
}

2025-06-07 08:41:44,274 - INFO - 2025-06-07 08:41:44.274636 - Extracting Avgpool
2025-06-07 08:41:44,274 - INFO -
API: Avgpool -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 08:41:44,274 - INFO - [STEP 1] Starting step 1/1
2025-06-07 08:42:40,541 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * sum(simplify_lower(prev, 1/size)), (1/size) * sum(simplify_upper(prev, 1/size)), (1/size) * sum(replace_lower(prev, 1/size)), (1/size) * sum(replace_upper(prev, 1/size)));
}

2025-06-07 08:42:40,541 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:42:40,605 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(simplify_lower(prev, 1/size)), (1/size) * sum(simplify_upper(prev, 1/size)), (1/size) * sum(replace_lower(prev, 1/size)), (1/size) * sum(replace_upper(prev, 1/size)));
}

2025-06-07 08:42:40,605 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:42:40,663 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:42:40,664 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:42:40,664 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 08:43:45,706 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(simplify_lower(prev_0, 1/size)), (1/size) * sum(simplify_upper(prev_0, 1/size)), (1/size) * sum(replace_lower(prev_0, 1/size)), (1/size) * sum(replace_upper(prev_0, 1/size)));
}

2025-06-07 08:43:45,706 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:43:45,772 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:43:45,772 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:43:45,919 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 47, in visit
    return self.visitGetElement(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 405, in visitGetElement
    raise UndefinedVarException(node.elem.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: kernel_size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1.0 / curr[kernel_size]) * sum(simplify_lower(prev, 1.0 / curr[kernel_size])),
                (1.0 / curr[kernel_size]) * sum(simplify_upper(prev, 1.0 / curr[kernel_size])),
                (1.0 / curr[kernel_size]) * sum(replace_lower(prev, 1.0 / curr[kernel_size])),
                (1.0 / curr[kernel_size]) * sum(replace_upper(prev, 1.0 / curr[kernel_size])));
}

2025-06-07 08:43:45,919 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:43:45,919 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 08:44:42,985 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev));
}

2025-06-07 08:44:42,986 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:44:43,044 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1.0 / size) * simplify_lower(prev, 1.0), (1.0 / size) * simplify_upper(prev, 1.0), (1.0 / size) * replace_lower(prev, 1.0), (1.0 / size) * replace_upper(prev, 1.0));
}

2025-06-07 08:44:43,044 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:44:43,107 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1.0 / (kernel_h * kernel_w)) * simplify_lower(prev, 1.0), (1.0 / (kernel_h * kernel_w)) * simplify_upper(prev, 1.0), (1.0 / (kernel_h * kernel_w)) * replace_lower(prev, 1.0), (1.0 / (kernel_h * kernel_w)) * replace_upper(prev, 1.0));
}

2025-06-07 08:44:43,107 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:44:43,107 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 08:45:32,337 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1.0 / size) * simplify_lower(prev, 1.0), (1.0 / size) * simplify_upper(prev, 1.0), (1.0 / size) * replace_lower(prev, 1.0), (1.0 / size) * replace_upper(prev, 1.0));
}

2025-06-07 08:45:32,337 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:45:32,406 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:45:32,406 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:45:32,464 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:45:32,464 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:45:32,465 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 08:46:23,577 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev));
}

2025-06-07 08:46:23,578 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:46:23,637 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(simplify_lower(prev, 1/size)), (1/size) * sum(simplify_upper(prev, 1/size)), (1/size) * sum(replace_lower(prev, 1/size)), (1/size) * sum(replace_upper(prev, 1/size)));
}

2025-06-07 08:46:23,637 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:46:23,701 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:46:23,702 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:46:23,702 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 08:47:26,617 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:47:26,617 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:47:26,682 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum([simplify_lower(prev, 1/size), simplify_upper(prev, 1/size)]), (1/size) * sum([simplify_upper(prev, 1/size), simplify_lower(prev, 1/size)]), (1/size) * sum([replace_lower(prev, 1/size), replace_upper(prev, 1/size)]), (1/size) * sum([replace_upper(prev, 1/size), replace_lower(prev, 1/size)]));
}

2025-06-07 08:47:26,682 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:47:26,741 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(simplify_lower(prev, 1/size)), (1/size) * sum(simplify_upper(prev, 1/size)), (1/size) * sum(replace_lower(prev, 1/size)), (1/size) * sum(replace_upper(prev, 1/size)));
}

2025-06-07 08:47:26,741 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:47:26,741 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 08:48:17,790 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1.0/size) * sum(prev)[l], (1.0/size) * sum(prev)[u], (1.0/size) * sum(prev)[L], (1.0/size) * sum(prev)[U]);
}

2025-06-07 08:48:17,790 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:48:17,885 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:48:17,885 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:48:17,945 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:48:17,948 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:48:17,948 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 08:49:08,933 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:49:08,933 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:49:08,996 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:49:08,997 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:49:09,056 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:49:09,056 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:49:09,056 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 08:50:02,562 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:50:02,562 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:50:02,627 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1.0/size) * simplify_lower(prev, 1.0), (1.0/size) * simplify_upper(prev, 1.0), (1.0/size) * replace_lower(prev, 1.0), (1.0/size) * replace_upper(prev, 1.0));
}

2025-06-07 08:50:02,627 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:50:02,688 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:50:02,688 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:50:02,688 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 08:50:51,152 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev), (1/size) * sum(prev));
}

2025-06-07 08:50:51,153 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:50:51,215 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    AvgPool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:50:51,215 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:50:51,285 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: size is undefined

Code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:50:51,285 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:50:51,285 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 08:50:51,285 - INFO - [Avgpool] Runtime: 547.01 seconds
2025-06-07 08:50:51,285 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Avgpool -> ((1/size) * simplify_lower(prev, 1), (1/size) * simplify_upper(prev, 1), (1/size) * replace_lower(prev, 1), (1/size) * replace_upper(prev, 1));
}

2025-06-07 08:50:51,285 - INFO - 2025-06-07 08:50:51.285481 - Extracting HardSigmoid
2025-06-07 08:50:51,285 - INFO -
API: HardSigmoid -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 08:50:51,285 - INFO - [STEP 1] Starting step 1/1
2025-06-07 08:52:46,095 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, replace_lower(prev, 0.5 * 0.2) + 0.5, replace_upper(prev, 0.5 * 0.2) + 0.5);
}

2025-06-07 08:52:46,095 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:52:46,156 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev + 1.0), 0.5 * (prev + 1.0));
}

2025-06-07 08:52:46,156 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:52:46,222 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, 0.5 * prev + 0.5, 0.5 * prev + 0.5);
}

2025-06-07 08:52:46,222 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:52:46,222 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 08:54:34,029 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[l]) <= 0.0) && ((prev[u]) >= 0.0)? (0.0, 1.0, 0.0, (0.5 * prev) + 0.5) :
                   (0.5 * prev + 0.5, 0.5 * prev + 0.5, 0.5 * prev + 0.5, 0.5 * prev + 0.5);
}

2025-06-07 08:54:34,029 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:54:34,127 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:54:34,189 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev[L] + 1.0), 0.5 * (prev[U] + 1.0));
}

2025-06-07 08:54:34,189 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:54:34,189 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 08:56:50,571 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) <= -2.5)? (0, 0, 0, 0) :
                   (((prev[u]) >= 2.5)? (1, 1, 1, 1) :
                   (((prev[l]) <= 0 && (prev[u]) >= 0)? (0, 1, 0.2*prev+0.5, 0.2*prev+0.5) :
                   (((prev[l]) >= 0)? (0.2*prev+0.5, 0.2*prev+0.5, 0.2*prev+0.5, 0.2*prev+0.5) :
                   (0.2*prev+0.5, 0.2*prev+0.5, 0.2*prev+0.5, 0.2*prev+0.5)))));
}

2025-06-07 08:56:50,572 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:56:50,634 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[l]) >= 0.0)? ((0.2 * prev[l]) + 0.5, (0.2 * prev[u]) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5) :
                   ((prev[u]) <= 0.0)? ((0.2 * prev[l]) + 0.5, (0.2 * prev[u]) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5) :
                   ((0.0), (1.0), (0.2 * prev) + 0.5, (0.2 * prev) + 0.5);
}

2025-06-07 08:56:50,635 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:56:50,699 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, 0.0 + 0.2 * (prev), 0.5 + 0.2 * (prev));
}

2025-06-07 08:56:50,699 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:56:50,699 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 08:58:28,037 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.0, 1.0, 0.5 * prev + 0.5, 0.5 * prev + 0.5);
}

2025-06-07 08:58:28,037 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 08:58:28,101 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5)? (0, 0, 0, 0) : (((prev[u]) >= 2.5)? (1, 1, 1, 1) : ((0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5));
}

2025-06-07 08:58:28,101 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 08:58:28,162 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                     ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                     ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                     ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                     (0.0, 1.0, (0.5 * prev + 0.5), (0.5 * prev + 0.5))));
}

2025-06-07 08:58:28,162 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 08:58:28,163 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 09:00:22,617 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, 0.5*prev + 0.5, 0.5*prev + 0.5);
}

2025-06-07 09:00:22,617 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:00:22,679 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.5 * (prev[l] + 1), 0.5 * (prev[u] + 1), 0.5 * (prev + 1), 0.5 * (prev + 1));
}

2025-06-07 09:00:22,679 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:00:22,744 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev + 1.0), 0.5 * (prev + 1.0));
}

2025-06-07 09:00:22,744 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:00:22,744 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 09:01:54,709 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (((prev[l]) < -2.5)? (0, 0, 0, 0) :
                    ((prev[u]) > 2.5)? (1, 1, 1, 1) :
                    ((prev[l]) >= 2.5)? (1, 1, 1, 1) :
                    ((prev[u]) <= -2.5)? (0, 0, 0, 0) :
                    (0, 1, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5)));
}

2025-06-07 09:01:54,713 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:01:54,773 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5)? (0, 0, 0, 0) : (((prev[u]) >= 2.5)? (1, 1, 1, 1) : ((0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5));
}

2025-06-07 09:01:54,773 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:01:54,838 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                    ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                    ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                    ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                    (0.0, 1.0, 0.0 + 0.2 * (prev), 1.0 + 0.2 * (prev));
}

2025-06-07 09:01:54,838 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:01:54,838 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 09:03:17,598 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev + 1.0), 0.5 * (prev + 1.0));
}

2025-06-07 09:03:17,598 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:03:17,662 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5)? (0, 0, 0, 0) : (((prev[u]) >= 2.5)? (1, 1, 1, 1) : ((0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5));
}

2025-06-07 09:03:17,662 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:03:17,721 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5)? (0, 0, 0, 0) : (((prev[u]) >= 2.5)? (1, 1, 1, 1) : ((0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5));
}

2025-06-07 09:03:17,721 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:03:17,721 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 09:04:50,781 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, (prev*0.5+0.5), (prev*0.5+0.5));
}

2025-06-07 09:04:50,781 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:04:50,846 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.0, 1.0, (0.2 * prev) + 0.5, (0.2 * prev) + 0.5);
}

2025-06-07 09:04:50,846 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:04:50,904 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.5)? (0, 0, 0, 0) : (((prev[u]) >= 2.5)? (1, 1, 1, 1) : (0, 1, 0.2 * prev, 0.2 * prev + 0.5));
}

2025-06-07 09:04:50,905 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:04:50,905 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 09:07:21,777 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (
        (prev[l] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        ((prev[u] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[l] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[u] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        (0.2 * prev[l] + 0.5, 0.2 * prev[u] + 0.5, 0.2 * prev + 0.5, 0.2 * prev + 0.5)))),
        (prev[l] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        ((prev[u] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[l] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[u] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        (0.2 * prev[l] + 0.5, 0.2 * prev[u] + 0.5, 0.2 * prev + 0.5, 0.2 * prev + 0.5))))
    );
}

2025-06-07 09:07:21,777 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:07:21,838 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev[L] + 1.0), 0.5 * (prev[U] + 1.0));
}

2025-06-07 09:07:21,838 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:07:21,903 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> (
        (prev[l] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        ((prev[u] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[l] >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
        ((prev[u] <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
        (0.2 * prev[l] + 0.5, 0.2 * prev[u] + 0.5, 0.2 * prev + 0.5, 0.2 * prev + 0.5)))));
}

2025-06-07 09:07:21,903 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:07:21,903 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 09:09:18,643 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.5 * (prev[l] + 1.0), 0.5 * (prev[u] + 1.0), 0.5 * (prev[L] + 1.0), 0.5 * (prev[U] + 1.0));
}

2025-06-07 09:09:18,643 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:09:18,707 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                   ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                   (0.5 * (prev[l] + 1), 0.5 * (prev[u] + 1), 0.5 * (prev[L] + 1), 0.5 * (prev[U] + 1));
}

2025-06-07 09:09:18,708 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:09:18,842 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.0, 1.0, replace_lower(prev, 0.2) - 0.5, replace_upper(prev, 0.2) - 0.5);
}

2025-06-07 09:09:18,842 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:09:18,842 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 09:09:18,842 - INFO - [HardSigmoid] Runtime: 1107.56 seconds
2025-06-07 09:09:18,842 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    HardSigmoid -> ((prev[l]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  ((prev[u]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[l]) >= 2.0)? (1.0, 1.0, 1.0, 1.0) :
                  ((prev[u]) <= -2.0)? (0.0, 0.0, 0.0, 0.0) :
                  (0.0, 1.0, replace_lower(prev, 0.2) - 0.5, replace_upper(prev, 0.2) - 0.5);
}

2025-06-07 09:09:18,842 - INFO - 2025-06-07 09:09:18.842644 - Extracting HardSwish
2025-06-07 09:09:18,842 - INFO -
API: HardSwish -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 09:09:18,842 - INFO - [STEP 1] Starting step 1/1
2025-06-07 09:11:45,071 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on Neuron and PolyExp

Code:
transformer deeppoly{
    HardSwish -> (((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                  (((prev[u]) <= -3)? (0, 0, 0, 0) :
                   ((prev[l]) >= 0? ((prev[l] * (prev[u] / (prev[u] + 1))), ((prev[u] * (prev[u] + 3)) / 6),
                                     ((prev * (prev + 3)) / 6), (prev * (prev + 1) / (prev + 1))) :
                    ((prev[u]) <= 0? (0, 0, 0, 0) : ((prev[l] * (prev[u] / (prev[u] + 1))),
                                                     ((prev[u] * (prev[u] + 3)) / 6),
                                                     ((prev * (prev + 3)) / 6),
                                                     (prev * (prev + 1) / (prev + 1)))))));
}

2025-06-07 09:11:45,071 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:11:45,151 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l]/6 + 1/2, prev[u]/6 + 1/2, prev/6 + 1/2, prev/6 + 1/2) :
        ((prev[u] <= -3)? (0, 0, 0, 0) :
        ((prev[l] >= -3 && prev[u] <= 3)? ((1/6)*prev, (1/6)*prev, (1/6)*prev, (1/6)*prev) :
        ((prev[l] < -3 && prev[u] > -3)? (0, (1/6)*(prev[u] + 3)/2, 0, (1/6)*(prev[U] + 3)/2) :
        ((prev[l] > -3 && prev[u] > 3)? ((1/6)*(prev[l] + 3)/2, (1/6)*(prev[u] + 3)/2 + 1/2, (1/6)*(prev[L] + 3)/2, (1/6)*(prev[U] + 3)/2 + 1/2))))));
}

2025-06-07 09:11:45,151 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:11:45,232 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] <= -2)? (0, 0, 0, 0) :
        ((prev[u] >= 2)? (prev[l] + prev[u] + 2, prev[l] + prev[u] + 2, prev + 1, prev + 1) :
        ((prev[l] <= -2) && (prev[u] >= 2))? ((0, (prev[u] + prev[u]*prev[u]/6)/3), (0, prev + prev*prev/6), ((prev + prev*prev/6)/3)) :
        ((prev[l] >= -2) && (prev[u] <= 2))? ((prev + prev*prev/6)/3, (prev[u] + prev[u]*prev[u]/6)/3, (prev + prev*prev/6)/3, (prev + prev*prev/6)/3) : (backsubs_lower((prev + prev*prev/6)/3, prev), backsubs_upper((prev[u] + prev[u]*prev[u]/6)/3, prev), (prev + prev*prev/6)/3, (prev + prev*prev/6)/3))
    );
}

2025-06-07 09:11:45,232 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:11:45,232 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 09:14:23,807 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> let
        (alpha = 1/6.0,
        beta = 0.5)
    in (
        ((prev[l] <= -2)? (0) : ((prev[u] >= 2)? (prev[u]) : ((alpha * prev) + beta))),
        ((prev[l] <= -2)? (0) : ((prev[u] >= 2)? (prev[u]) : ((alpha * prev) + beta))),
        ((prev[L] <= -2)? (0) : ((prev[U] >= 2)? (prev[U]) : ((alpha * prev[L]) + beta))),
        ((prev[L] <= -2)? (0) : ((prev[U] >= 2)? (prev[U]) : ((alpha * prev[U]) + beta)))
    );
}

2025-06-07 09:14:23,807 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:14:23,941 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, prev / 6 + 1 / 2) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (prev[l] >= 0)? (
            (prev[l] / 6 + 1 / 2,
            max(prev[u] / 6 + 1 / 2, simplify_upper(prev, 1 / 6) + simplify_upper(prev, 1 / 6) * (-1 / 6) * 3 + 1 / 2),
            prev / 6 + 1 / 2,
            backsubs_upper((prev / 6 + 1 / 2) + ((prev > 3)? 0 : (prev < -3)? 0 : ((prev > 0)? (prev - 3) / 6 : (-(prev + 3) / 6))), prev)
        ) :
        (min(prev[l] / 6 + 1 / 2, simplify_lower(prev, 1 / 6) + simplify_lower(prev, 1 / 6) * (-1 / 6) * 3 + 1 / 2),
        prev[u] / 6 + 1 / 2,
        backsubs_lower((prev / 6 + 1 / 2) + ((prev > 3)? 0 : (prev < -3)? 0 : ((prev > 0)? (prev - 3) / 6 : (-(prev + 3) / 6))), prev),
        prev / 6 + 1 / 2
    )
    );
}

2025-06-07 09:14:23,941 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:14:24,013 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> let
        alpha = 1/6.0,
        beta = 0.5,
        offset = 3.0
    in ((prev[l] <= -offset)? (0, 0, 0, 0) :
        ((prev[u] >= offset)? (prev[l], prev[u], prev, prev) :
        ((prev[l] <= 0) & (prev[u] >= 0)? (alpha*prev[l]*prev[l] + beta*prev[l] + alpha*prev[u]*prev[u] + beta*prev[u],
                                            max(prev[u], alpha*prev[u]*prev[u] + beta*prev[u]),
                                            alpha*prev*prev + beta*prev,
                                            alpha*prev*prev + beta*prev) :
        ((prev[l] >= 0)? (prev[l], prev[u], prev, prev) :
        (alpha*prev[l]*prev[l] + beta*prev[l], alpha*prev[u]*prev[u] + beta*prev[u], alpha*prev*prev + beta*prev, alpha*prev*prev + beta*prev))))));
}

2025-06-07 09:14:24,013 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:14:24,013 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 09:16:55,626 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on Neuron and PolyExp

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? ((prev[l] * (prev[u] / 6 + 0.5)), (prev[u] * (prev[u] / 6 + 0.5)), (prev * (prev / 6 + 0.5)), (prev * (prev / 6 + 0.5))) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (
            simplify_lower(prev, (1/6)) + simplify_upper(prev, (0.5)),
            simplify_upper(prev, (1/6)) + simplify_upper(prev, (0.5)),
            replace_lower(prev, (1/6)) + replace_upper(prev, (0.5)),
            replace_upper(prev, (1/6)) + replace_upper(prev, (0.5))
        )
    );
}

2025-06-07 09:16:55,626 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:16:55,707 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= -3)? (0, 0, 0, 0) : (((prev[l]) >= 0) && ((prev[u]) <= 3))? ((prev[l]/6 + (prev[l]*prev[l]*prev[l])/6), ((prev[u]/6) + ((prev[u]*prev[u]*prev[u])/6)), ((prev/6) + ((prev*prev*prev)/6)), ((prev/6) + ((prev*prev*prev)/6))) : (((prev[l]) <= 0) && ((prev[u]) >= 0))? ((0), ((prev[u]/6) + ((prev[u]*prev[u]*prev[u])/6)), (0), ((prev/6) + ((prev*prev*prev)/6))) : (((prev[l]) <= -3) && ((prev[u]) >= 0))? ((0), ((prev[u]/6) + ((prev[u]*prev[u]*prev[u])/6)), (0), ((prev/6) + ((prev*prev*prev)/6))) : ((0), (prev[u]), (0), (prev))));
}

2025-06-07 09:16:55,708 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:16:55,787 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] <= -2)? (0, 0, 0, 0) :
        ((prev[u] >= 2)? (prev[l]/2 + prev[u]/2, prev[u]/2 + prev[u]/2, (prev/2) + (prev/2), (prev/2) + (prev/2)) :
        ((prev[l] <= 2) && (prev[u] >= -2) && (prev[l] >= -2))?
            (simplify_lower(prev, 1/2) + simplify_lower(prev, 1/2)*prev, simplify_upper(prev, 1/2) + simplify_upper(prev, 1/2)*prev,
             replace_lower(prev, 1/2) + replace_lower(prev, 1/2)*prev, replace_upper(prev, 1/2) + replace_upper(prev, 1/2)*prev) :
        ((prev[l] <= -2) && (prev[u] <= 2))?
            (0, simplify_upper(prev, 1/2) + simplify_upper(prev, 1/2)*prev, 0, replace_upper(prev, 1/2) + replace_upper(prev, 1/2)*prev) :
            (simplify_lower(prev, 1/2) + simplify_lower(prev, 1/2)*prev, 0, replace_lower(prev, 1/2) + replace_lower(prev, 1/2)*prev, 0)
        )
    );
}

2025-06-07 09:16:55,787 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:16:55,787 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 09:19:42,260 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                  (((prev[u]) <= -3)? (0, 0, 0, 0) :
                   (((prev[l]) >= 0) && ((prev[u]) <= 3))? ((prev[l]/6 + prev/2), (prev[u]/6 + prev[u]/2), (prev/6 + prev/2), (prev/6 + prev/2)) :
                   ((0), (prev[u]/6 + prev[u]/2), (0), (prev/6 + prev/2)))));
}

2025-06-07 09:19:42,260 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:19:42,342 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? ((prev[l] / 6 + 0.5), (prev[u] / 6 + 0.5), ((prev / 6) + 0.5), ((prev / 6) + 0.5)) :
        ((prev[u] <= -3)? (0, 0, 0, 0) :
        ((prev[l] >= -3) && (prev[u] <= 3))? ((prev / 6 + 0.5 * prev), (prev / 6 + 0.5 * prev), ((prev / 6) + 0.5 * prev), ((prev / 6) + 0.5 * prev)) :
        ((prev[l] < -3) && (prev[u] > -3) && (prev[u] <= 3))? (0, (prev[u] / 6 + 0.5 * prev[u]), 0, ((prev[u] / 6) + 0.5 * prev[u])) :
        ((prev[l] >= -3) && (prev[u] > 3))? ((prev[l] / 6 + 0.5 * prev[l]), (prev[u] / 6 + 0.5), ((prev[l] / 6) + 0.5 * prev[l]), ((prev / 6) + 0.5))
        )
    );
}

2025-06-07 09:19:42,342 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:19:42,421 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? ((prev[l] / 6) + (0.5), (prev[u] / 6) + (0.5), ((prev / 6) + (0.5)), ((prev / 6) + (0.5))) :
        ((prev[u] <= -3)? (0, 0, 0, 0) :
        ((prev[l] <= -3) && (prev[u] >= 3))? ((0), (prev[u] / 6) + (0.5), ((prev / 6) * (prev + 3) / 6), ((prev / 6) + (0.5))) :
        ((prev[l] >= -3) && (prev[u] <= 3))? (((prev[l] / 6) + (0.5 * prev[l] / 3) - 0.5), ((prev[u] / 6) + (0.5 * prev[u] / 3) - 0.5), (((prev / 6) + (0.5 * prev / 3) - 0.5) * (prev + 3) / 6), (((prev / 6) + (0.5 * prev / 3) - 0.5) * (prev + 3) / 6)) :
        (((prev[l] / 6) + (0.5 * prev[l] / 3) - 0.5), ((prev[u] / 6) + (0.5 * prev[u] / 3) - 0.5), (((prev / 6) + (0.5 * prev / 3) - 0.5) * (prev + 3) / 6), (((prev / 6) + (0.5 * prev / 3) - 0.5) * (prev + 3) / 6))
    );
}

2025-06-07 09:19:42,421 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:19:42,421 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 09:22:55,291 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? ((prev[l] / 6 + 0.5), (prev[u] / 6 + 0.5), ((prev / 6) + 0.5), ((prev / 6) + 0.5)) :
        ((prev[u] <= -3)? (0, 0, 0, 0) :
        ((prev[l] <= -3) && (prev[u] >= 3))? (0, (prev[u] / 6 + 0.5), ((3 / 6) * (prev[U] - 3) + ((prev[U] - 3) / 6) + 0.5), ((3 / 6) * (prev[L] - 3) + ((prev[L] - 3) / 6) + 0.5)) :
        ((prev[l] >= -3) && (prev[u] <= 3))? ((prev[l] / 6 + 0.5), (prev[u] / 6 + 0.5), ((prev / 6) + 0.5), ((prev / 6) + 0.5)) :
        ((prev[l] <= -3) && (prev[u] <= 3))? (0, (prev[u] / 6 + 0.5), 0, ((prev / 6) + 0.5)) :
        ((prev[l] >= -3) && (prev[u] >= 3))? ((prev[l] / 6 + 0.5), (prev[u] / 6 + 0.5), ((prev / 6) + 0.5), ((3 / 6) * (prev[U] - 3) + ((prev[U] - 3) / 6) + 0.5))
        )
    );
}

2025-06-07 09:22:55,291 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:22:55,468 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 171, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: + is not defined on PolyExp and Ct

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, prev / 6 + 1 / 2) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (prev[l] >= 0)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, prev / 6 + 1 / 2) :
        (prev[u] <= 0)? (0, 0, 0, 0) :
        (simplify_lower(prev, 1/6), simplify_upper(prev, 1/6) + 1/2, replace_lower(prev, 1/6) + (prev > 0) * (1/2 - (3 * (prev < 3)) / 6), replace_upper(prev, 1/6) + (prev > 0) * (1/2 - (3 * (prev < 3)) / 6))
    );
}

2025-06-07 09:22:55,468 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:22:55,632 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l] / 6 + 1/2, prev[u] / 6 + 1/2, prev / 6 + 1/2, prev / 6 + 1/2) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (prev[l] >= 0)? (prev[l] / 6 + 1/2, prev[u] / 6 + 1/2, prev / 6 + 1/2, backsubs_upper(prev / 6 + 1/2 + (1/6) * (prev - 3) * ((prev <= 3) / (prev - 3) + (prev > 3) / 6), prev)) :
        (prev[u] <= 0)? (0, 0, backsubs_lower((1/6) * (prev + 3) * ((prev >= -3) / (prev + 3) + (prev < -3) / 6), prev), 0) :
        (0, prev[u] / 6 + 1/2, backsubs_lower((1/6) * (prev + 3) * ((prev >= -3) / (prev + 3) + (prev < -3) / 6), prev), backsubs_upper(prev / 6 + 1/2 + (1/6) * (prev - 3) * ((prev <= 3) / (prev - 3) + (prev > 3) / 6), prev))
    );
}

2025-06-07 09:22:55,632 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:22:55,632 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 09:25:36,603 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] <= -2)? (0, 0, 0, 0) :
        ((prev[u] >= 2)? (prev[l] + prev[u] + 2, prev[l] + prev[u] + 2, prev + 1, prev + 1) :
        ((prev[l] >= 2)? (prev[l] + prev[u] + 2, prev[l] + prev[u] + 2, prev + 1, prev + 1) :
        ((prev[l] <= -2) && (prev[u] >= -2) && (prev[u] <= 2))? (0.5 * prev[l] + 1, 0.5 * prev[u] + 1, replace_lower(prev, 0.5) + 1, replace_upper(prev, 0.5) + 1) :
        (0.5 * prev[l] + 1, 0.5 * prev[u] + 1, simplify_lower(prev, 0.5) + 1, simplify_upper(prev, 0.5) + 1)
        ))
    );
}

2025-06-07 09:25:36,604 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:25:36,826 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= -3)? (0, 0, 0, 0) : (((prev[l]) <= -3)? ((1/6)*prev, (1/6)*prev + (1/6)*(prev[u] - (-3)), (1/6)*prev, (1/6)*prev + (1/6)*(prev[U] - (-3))) : (((prev[u]) >= 3)? (prev, prev, prev, prev) : ((1/6)*(prev + 3), (1/6)*(prev[u] + 3), (1/6)*(prev + 3), (1/6)*(prev[U] + 3)))));
}

2025-06-07 09:25:36,826 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:25:36,903 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]) / 6, (prev[u]) / 6, (prev) / 6, (prev) / 6) :
                 (((prev[u]) <= -3)? (0, 0, 0, 0) :
                 (((prev[l]) <= -3) && ((prev[u]) >= 3))? ((0), (prev[u]) / 6, (0), ((prev) / 6) + ((prev * prev) / 6) - (3 * prev) / 6) :
                 (((prev[l]) >= -3) && ((prev[u]) <= 3))? (((prev[l] + 3) / 6), ((prev[u] + 3) / 6), (((prev + 3) / 6) + ((prev * prev) / 6) - ((prev * 3) / 6) - (3 * prev) / 6 + (9 / 6)), ((prev + 3) / 6) + ((prev * prev) / 6) - ((3 * prev) / 6)) :
                 (((prev[l]) <= -3))? (0, ((prev[u] + 3) / 6), 0, ((prev + 3) / 6) + ((prev * prev) / 6) - ((3 * prev) / 6) - (3 * prev) / 6 + (9 / 6)) :
                 (((prev[u]) >= 3))? (((prev[l] + 3) / 6), (prev[u]) / 6, (((prev + 3) / 6) + ((prev * prev) / 6) - ((prev * 3) / 6) - (3 * prev) / 6 + (9 / 6)), (prev) / 6)));
}

2025-06-07 09:25:36,903 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:25:36,903 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 09:27:52,217 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                 (((prev[u]) <= -3)? (0, 0, 0, 0) :
                 (((prev[l]) >= 0) && ((prev[u]) <= 3))?
                 ((prev[l]*(prev[l]+3))/(6), (prev[u]*(prev[u]+3))/(6),
                  replace_lower(prev)*(replace_lower(prev)+3)/(6), replace_upper(prev)*(replace_upper(prev)+3)/(6)) :
                 ((0), (prev[u]*(prev[u]+3))/(6), (0), replace_upper(prev)*(replace_upper(prev)+3)/(6)) ));
}

2025-06-07 09:27:52,217 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:27:52,375 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                  (((prev[u]) <= -3)? (0, 0, 0, 0) :
                  ((prev[l]) >= 0)? ((prev[l] * (prev[u] / (prev[u] + 6) + (6 / (prev[u] + 6)))),
                                    (prev[u] * (prev[u] / (prev[u] + 6) + (6 / (prev[u] + 6)))),
                                    (prev * (prev / (prev + 6) + (6 / (prev + 6)))),
                                    (prev * (prev / (prev + 6) + (6 / (prev + 6))))) :
                  ((prev[u]) <= 0)? ((0), (0), (0), (0)) :
                  ((0), (prev[u] * (prev[u] / (prev[u] + 6) + (6 / (prev[u] + 6)))),
                   (0), (prev * (prev / (prev + 6) + (6 / (prev + 6)))))));
}

2025-06-07 09:27:52,375 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:27:52,445 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? ((prev[l] / 6) + (0.5), (prev[u] / 6) + (0.5), ((prev / 6) + (0.5)), ((prev / 6) + (0.5))) :
        ((prev[u] <= -3)? (0, 0, 0, 0) :
        ((prev[l] >= -3) && (prev[u] <= 3)? ((prev / 6) + (0.5), (prev[u] / 6) + (0.5), ((prev / 6) + (0.5)), ((prev / 6) + (0.5))) :
        ((prev[l] < -3) && (prev[u] > 3)? (0, (prev[u] / 6) + (0.5), (0), ((prev / 6) + (0.5))) :
        ((prev[l] < -3) && (prev[u] <= 3)? (0, (prev[u] / 6) + (0.5), 0, ((prev / 6) + (0.5)))))));
}

2025-06-07 09:27:52,445 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:27:52,445 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 09:30:53,181 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish ->
        ((prev[l]) >= 3)? ((prev[l] / 6) + (0.5 * prev[l]), (prev[u] / 6) + (0.5 * prev[u]), ((prev / 6) + (0.5 * prev)), ((prev / 6) + (0.5 * prev))) :
        ((prev[u]) <= -3)? (0, 0, 0, 0) :
        (((prev[l]) >= 0) && ((prev[u]) <= 3))? ((0), ((prev[u] / 6) + (0.5 * prev[u])), (0), ((prev / 6) + (0.5 * prev))) :
        (((prev[l]) >= -3) && ((prev[u]) <= 0))? (((prev[l] / 6) + (0.5 * prev[l])), (0), ((prev / 6) + (0.5 * prev)), (0)) :
        (((prev[l]) >= -3) && ((prev[u]) >= 3))? (((prev[l] / 6) + (0.5 * prev[l])), ((prev[u] / 6) + (0.5 * prev[u])), ((prev / 6) + (0.5 * prev)), ((prev / 6) + (0.5 * prev))) :
        (((prev[l]) < -3) && ((prev[u]) < 0))? ((0), (0), (0), (0)) :
        (((prev[l]) < 0) && ((prev[u]) > 3))? ((0), ((prev[u] / 6) + (0.5 * prev[u])), (0), ((prev / 6) + (0.5 * prev))) ;
}

2025-06-07 09:30:53,181 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:30:53,247 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                 (((prev[u]) <= -3)? (0, 0, 0, 0) :
                 (((prev[l]) >= 0) && ((prev[u]) <= 3))? ((prev[l] * (prev[u] + 3)) / 6, (prev[u] * (prev[u] + 3)) / 6, (prev * (prev + 3)) / 6, (prev * (prev + 3)) / 6) :
                 ((prev[l]) < 0)? ((0), (prev[u] * (prev[u] + 3)) / 6, (0), (prev * (prev + 3)) / 6) :
                 ((prev[u]) > 3)? (((prev[l] * (prev[l] + 3)) / 6), (prev[u]), ((prev * (prev + 3)) / 6), (prev)) :
                 (((prev[l] * (prev[l] + 3)) / 6), (prev[u] * (prev[u] + 3)) / 6, ((prev * (prev + 3)) / 6), ((prev * (prev + 3)) / 6)) )
                 );
}

2025-06-07 09:30:53,247 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:30:53,322 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish ->
        ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
        (((prev[u]) <= -3)? (0, 0, 0, 0) :
        (((prev[l]) >= 0) && ((prev[u]) <= 3)? ((prev/6) + (1/2), (prev/6) + (1/2), (prev/6) + (1/2), (prev/6) + (1/2)) :
        (((prev[l]) < 0) && ((prev[u]) > 0)? ((0), (prev/6) + (1/2), (0), ((prev[u])/(6)) + (1/2)) :
        (((prev[l]) < -3) && ((prev[u]) > -3)? ((0), ((prev[u])/(6)) + (1/2), ((prev)/(6)) + (1/2), ((prev[u])/(6)) + (1/2)) : ((prev)/(6) + (1/2), (prev)/(6) + (1/2), ((prev)/(6)) + (1/2), ((prev)/(6)) + (1/2)) ))));
}

2025-06-07 09:30:53,322 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:30:53,322 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 09:33:27,355 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish ->
        ((prev[l]) >= 3)?
            ((prev[l]), (prev[u]), (prev), (prev)) :
        (((prev[u]) <= -3)?
            (0, 0, 0, 0) :
        (((prev[l]) <= -3) && ((prev[u]) >= 3)?
            (0, (1/6)*(prev[u]**3 + 3*prev[u]), (1/6)*(prev**3 + 3*prev), (1/6)*(prev**3 + 3*prev)) :
        (((prev[l]) >= -3)?
            ((1/6)*(prev[l]**3 + 3*prev[l]), (1/6)*(prev[u]**3 + 3*prev[u]), (1/6)*(prev**3 + 3*prev), (1/6)*(prev**3 + 3*prev)) :
        ((1/6)*(prev[l]**3 + 3*prev[l]), (1/6)*(prev[u]**3 + 3*prev[u]), (1/6)*(prev**3 + 3*prev), (1/6)*(prev**3 + 3*prev)))));
}

2025-06-07 09:33:27,355 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:33:27,422 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) :
                 (((prev[u]) <= -3)? (0, 0, 0, 0) :
                 (((prev[l]) >= 0) && ((prev[u]) <= 3)?
                 ((prev[l]/6 + (1/6)*prev[l]*prev[l]*prev[l]), (prev[u]/6 + (1/6)*prev[u]*prev[u]*prev[u]),
                  ((1/6)*prev*prev*prev + (1/6)*prev), ((1/6)*prev*prev*prev + (1/6)*prev)) :
                 ((-3 + (1/6)*(-3)*(-3)*(-3)), (prev[u]/6 + (1/6)*prev[u]*prev[u]*prev[u]),
                  ((1/6)*prev*prev*prev + (1/6)*prev), ((1/6)*(-3)*(-3)*(-3) + (1/6)*prev*prev*prev + (1/6)*prev + (-3/6)*(-6 - prev))))));
}

2025-06-07 09:33:27,422 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:33:27,495 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= -3)? (0, 0, 0, 0) : (((prev[l]) <= -3) && ((prev[u]) >= 3))? ((1/6)*prev[l] - (1/2), (1/6)*prev[u] + (1/2), (1/6)*prev + (1/6)*(prev[U] - prev[L])*(prev <= -3)*(prev >= 3), (1/6)*prev + (1/6)*(prev[L] - prev[U])*(prev <= -3)*(prev >= 3)) : (((prev[l]) <= -3) && ((prev[u]) <= 3))? ((1/6)*prev[l] + (1/2), (1/6)*prev[u] + (1/2), (1/6)*prev + (1/2), (1/6)*prev + (1/2)) : ((1/6)*prev[l] - (1/2), (1/6)*prev[u] - (1/2), (1/6)*prev - (1/2), (1/6)*prev - (1/2))));
}

2025-06-07 09:33:27,495 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:33:27,495 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 09:36:24,334 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:36:24,453 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardSwish -> ((prev[l]) >= 3)? ((prev[l]) / 6, (prev[u]) / 6, (prev) / 6, (prev) / 6) :
                 (((prev[u]) <= -3)? (0, 0, 0, 0) :
                 ((prev[l]) <= -3 and (prev[u]) >= 3)? (0, ((prev[u]) + 3) / 6, 0, ((prev) + 3) / 6) :
                 (((prev[l]) >= -3) and ((prev[u]) <= 3))? (((prev) + 3) / 6, ((prev) + 3) / 6, ((prev) + 3) / 6, ((prev) + 3) / 6) :
                 (((prev[l]) <= -3) and ((prev[u]) >= -3))? (0, ((prev[u]) + 3) / 6, 0, ((prev) + 3) / 6)));
}

2025-06-07 09:36:24,453 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:36:24,618 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, prev / 6 + 1 / 2) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (prev[l] >= 0)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, (prev[u] * (prev[u] + 3)) / 6 - (prev[u] * 3) / 6) :
        (prev[u] <= 0)? (0, 0, 0, 0) :
        (1 / 6 * (3 * prev + 3 * (prev[u] - prev[l]) * ((prev[l] + 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev[u] + 3 * (prev - prev[l]) * ((prev[u] - 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev + 3 * (prev - prev[l]) * ((prev[l] + 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev + 3 * (prev[u] - prev) * ((prev[u] - 3) / (prev[u] - prev[l]))))
    );
}

2025-06-07 09:36:24,618 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:36:24,618 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 09:36:24,618 - INFO - [HardSwish] Runtime: 1625.78 seconds
2025-06-07 09:36:24,618 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    HardSwish -> (
        (prev[l] >= 3)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, prev / 6 + 1 / 2) :
        (prev[u] <= -3)? (0, 0, 0, 0) :
        (prev[l] >= 0)? (prev[l] / 6 + 1 / 2, prev[u] / 6 + 1 / 2, prev / 6 + 1 / 2, (prev[u] * (prev[u] + 3)) / 6 - (prev[u] * 3) / 6) :
        (prev[u] <= 0)? (0, 0, 0, 0) :
        (1 / 6 * (3 * prev + 3 * (prev[u] - prev[l]) * ((prev[l] + 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev[u] + 3 * (prev - prev[l]) * ((prev[u] - 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev + 3 * (prev - prev[l]) * ((prev[l] + 3) / (prev[u] - prev[l]))), 1 / 6 * (3 * prev + 3 * (prev[u] - prev) * ((prev[u] - 3) / (prev[u] - prev[l]))))
    );
}

2025-06-07 09:36:24,618 - INFO - 2025-06-07 09:36:24.618416 - Extracting HardTanh
2025-06-07 09:36:24,618 - INFO -
API: HardTanh -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 09:36:24,618 - INFO - [STEP 1] Starting step 1/1
2025-06-07 09:37:40,034 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:37:40,457 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:37:40,949 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:37:40,949 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 09:38:57,248 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:38:57,636 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:38:57,700 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:38:57,701 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:38:57,701 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 09:40:16,150 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1.0)? (1.0, 1.0, 1.0, 1.0) :
                 (((prev[u]) <= -1.0)? (-1.0, -1.0, -1.0, -1.0) :
                 (((prev[l]) >= 0.0)? (0.0, (prev[u]), 0.0, (prev)) :
                 (((prev[u]) <= 0.0)? ((prev[l]), 0.0, (prev), 0.0) : ((prev[l]), (prev[u]), (prev), (prev)))));
}

2025-06-07 09:40:16,150 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:40:16,642 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:40:16,708 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:40:16,708 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:40:16,708 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 09:41:39,977 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:41:40,043 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1.0)? (1.0, 1.0, 1.0, 1.0) : (((prev[u]) <= -1.0)? (-1.0, -1.0, -1.0, -1.0) : ((prev[l]) >= 0)? (0.0, (prev[u]), 0.0, (prev)) : (((prev[u]) <= 0)? ((prev[l]), 0.0, (prev), 0.0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:41:40,043 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:41:40,659 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:41:40,659 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 09:42:57,888 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:42:57,949 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (-1, 0, -1, 0) : (-1, (prev[u]), -1, (prev)))));
}

2025-06-07 09:42:57,950 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:42:58,014 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:42:58,015 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:42:58,015 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 09:44:14,960 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:44:15,453 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:44:15,845 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:44:15,845 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 09:45:28,739 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:45:28,739 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:45:29,129 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:45:29,615 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:45:29,615 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 09:46:45,292 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? ((0), (1), (0), (prev)) : (((prev[u]) <= 0)? (-1, 0, -1, 0) : (-1, 1, -1, prev))));
}

2025-06-07 09:46:45,292 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:46:45,907 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:46:45,972 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:46:45,972 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:46:45,972 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 09:48:08,864 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh ->
        ((prev[l]) >= 1)? ((1), (1), (1), (1)) :
        (((prev[u]) <= -1)? ((-1), (-1), (-1), (-1)) :
        (((prev[l]) >= 0) && ((prev[u]) <= 1)? ((prev[l]), (prev[u]), (prev), (prev)) :
        ((prev[l]) < 0? ((0), min(1, prev[u]), (0), (prev)) : ((max(-1, prev[l])), (1), (prev), (1)))));
}

2025-06-07 09:48:08,864 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:48:08,926 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1.0)? (1.0, 1.0, 1.0, 1.0) :
                (((prev[u]) <= -1.0)? (-1.0, -1.0, -1.0, -1.0) :
                ((prev[l]) >= 0.0)? (0.0, (prev[u]), 0.0, (prev)) :
                (((prev[u]) <= 0.0)? ((prev[l]), 0.0, (prev), 0.0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:48:08,926 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:48:09,424 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:48:09,424 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 09:49:55,981 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1.0)? (1.0, 1.0, 1.0, 1.0) :
                (((prev[u]) <= -1.0)? (-1.0, -1.0, -1.0, -1.0) :
                (((prev[l]) >= 0.0) && ((prev[u]) <= 1.0))? (0.0, 1.0, prev, prev) :
                (((prev[l]) >= -1.0) && ((prev[u]) <= 0.0))? (-1.0, 0.0, prev, prev) :
                ((prev[l]) < 0.0)? (-1.0, prev[u], -1.0, prev) :
                (prev[l], 1.0, prev, 1.0)));
}

2025-06-07 09:49:55,981 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:49:56,043 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh -> ((prev[l]) >= 1)? (1, 1, 1, 1) : (((prev[u]) <= -1)? (-1, -1, -1, -1) : ((prev[l]) >= 0)? (0, (prev[u]), 0, (prev)) : ((prev[u]) <= 0)? ((prev[l]), 0, (prev), 0) : ((prev[l]), (prev[u]), (prev), (prev))));
}

2025-06-07 09:49:56,043 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:49:56,116 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    HardTanh ->
        ((prev[l]) >= 1)? ((1), (1), (1), (1)) :
        (((prev[u]) <= -1)? ((-1), (-1), (-1), (-1)) :
        (((prev[l]) >= 0) && ((prev[u]) <= 1)? ((prev[l]), (prev[u]), (prev), (prev)) :
        (((prev[l]) < 0) && ((prev[u]) > 0)? ((0), (1), (0 + ((prev[u] - 0) / (prev[u] - prev[l])) * prev - ((prev[u] * 0) / (prev[u] - prev[l]))), (1 - ((1 - 0) / (prev[u] - prev[l])) * prev + ((1 * 0) / (prev[u] - prev[l])))) : ((-1), (-1), (-1), (-1)))));
}

2025-06-07 09:49:56,116 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:49:56,116 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 09:49:56,116 - INFO - [HardTanh] Runtime: 811.50 seconds
2025-06-07 09:49:56,116 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    HardTanh ->
        ((prev[l]) >= 1)? ((1), (1), (1), (1)) :
        (((prev[u]) <= -1)? ((-1), (-1), (-1), (-1)) :
        (((prev[l]) >= 0) && ((prev[u]) <= 1)? ((prev[l]), (prev[u]), (prev), (prev)) :
        (((prev[l]) < 0) && ((prev[u]) > 0)? ((0), (1), (0 + ((prev[u] - 0) / (prev[u] - prev[l])) * prev - ((prev[u] * 0) / (prev[u] - prev[l]))), (1 - ((1 - 0) / (prev[u] - prev[l])) * prev + ((1 * 0) / (prev[u] - prev[l])))) : ((-1), (-1), (-1), (-1)))));
}

2025-06-07 09:49:56,116 - INFO - 2025-06-07 09:49:56.116429 - Extracting Max
2025-06-07 09:49:56,116 - INFO -
API: Max -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 09:49:56,116 - INFO - [STEP 1] Starting step 1/1
2025-06-07 09:51:26,695 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_val = max(prev_0[u], prev_1[u]) in
           let min_val = min(prev_0[l], prev_1[l]) in
           ((prev_0[l] >= prev_1[u])? prev_0[l] : (prev_1[l] >= prev_0[u])? prev_1[l] : min_val),
           max_val,
           (prev_0[L] >= prev_1[U])? prev_0 : (prev_1[L] >= prev_0[U])? prev_1 : (prev_0[L] + prev_1[L] - min(prev_0[U], prev_1[U])),
           (prev_0[U] >= prev_1[L])? prev_0 : (prev_1[U] >= prev_0[L])? prev_1 : (prev_0[U] + prev_1[U] - max(prev_0[L], prev_1[L]));
}

2025-06-07 09:51:26,695 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:51:26,759 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_val = max(prev_0[u], prev_1[u]) in
            let min_val = min(prev_0[l], prev_1[l]) in
            ((max_val >= prev_0[u] && max_val >= prev_1[u])? max(min_val, max(prev_0[l], prev_1[l])) :
             (prev_0[u] >= prev_1[u])? max(prev_0[l], prev_1[l]) : max(prev_0[l], prev_1[l]),
             max_val,
             (prev_0[L] >= prev_1[L])? prev_0 : prev_1,
             (prev_0[U] >= prev_1[U])? prev_0 : prev_1);
}

2025-06-07 09:51:26,759 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:51:26,822 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 09:51:26,822 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:51:26,822 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 09:53:26,300 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]),
             (backsubs_lower(prev_0, prev_1, priority2)),
             (backsubs_upper(prev_0, prev_1, priority2))))));
}

2025-06-07 09:53:26,304 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:53:26,371 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let
        max_val = max(prev_0[u], prev_1[u]),
        min_val = min(prev_0[l], prev_1[l]),
        max_poly = max(prev_0[U], prev_1[U]),
        min_poly = min(prev_0[L], prev_1[L])
    in (
        max_val,
        max_val,
        max_poly,
        max_poly
    ) where f(prev_0, prev_1)
    else let
        mask = (prev_0[u] > prev_1[l])? 1 : 0,
        masked_prev_0 = mask * prev_0,
        masked_prev_1 = (1 - mask) * prev_1,
        masked_prev_0_poly = mask * prev_0[U],
        masked_prev_1_poly = (1 - mask) * prev_1[U],
        masked_prev_0_lower = mask * prev_0[L],
        masked_prev_1_lower = (1 - mask) * prev_1[L]
    in (
        max(min_val, min(prev_0[l], prev_1[l])),
        max_val,
        max(min_poly, min(prev_0[L], prev_1[L])),
        max(max_poly, max(prev_0[U], prev_1[U]))
    );
}

2025-06-07 09:53:26,371 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:53:26,435 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 09:53:26,435 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:53:26,435 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 09:54:21,010 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_l = max(prev_0[l], prev_1[l]), max_u = max(prev_0[u], prev_1[u]),
               max_L = max(prev_0[L], prev_1[L]), max_U = max(prev_0[U], prev_1[U])
           in (max_l, max_u, max_L, max_U);
}

2025-06-07 09:54:21,011 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:54:21,070 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 09:54:21,071 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:54:21,135 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 09:54:21,135 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:54:21,135 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 09:55:18,592 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_l = max(prev_0[l], prev_1[l]),
               max_u = max(prev_0[u], prev_1[u]),
               max_L = max(prev_0[L], prev_1[L]),
               max_U = max(prev_0[U], prev_1[U])
           in (max_l, max_u, max_L, max_U);
}

2025-06-07 09:55:18,592 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:55:18,656 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 09:55:18,656 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:55:18,720 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(backsubs_lower(prev_0, prev_0), backsubs_lower(prev_1, prev_1)),
        max(backsubs_upper(prev_0, prev_0), backsubs_upper(prev_1, prev_1))
    );
}

2025-06-07 09:55:18,720 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:55:18,720 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 09:57:09,905 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_l = max(prev_0[l], prev_1[l]), max_u = max(prev_0[u], prev_1[u]),
               max_L = if (f(prev_0, prev_1)) then prev_1 else prev_0,
               max_U = if (f(prev_0, prev_1)) then prev_1 else prev_0 in
               (max_l, max_u, max_L, max_U);
}

2025-06-07 09:57:09,906 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:57:09,967 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]),
            (prev_0[L] * (prev_0 >= prev_1) + prev_1[L] * (prev_0 < prev_1)),
            (prev_0[U] * (prev_0 >= prev_1) + prev_1[U] * (prev_0 < prev_1)) ))));
}

2025-06-07 09:57:09,968 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:57:10,037 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((prev_0[u] <= prev_1[l])? ((prev_1[l]), max(prev_0[u], prev_1[u]), (prev_1), max(backsubs_upper(prev_0, prev_0), backsubs_upper(prev_1, prev_1))) :
            ((prev_1[u] <= prev_0[l])? ((prev_0[l]), max(prev_0[u], prev_1[u]), (prev_0), max(backsubs_upper(prev_0, prev_0), backsubs_upper(prev_1, prev_1))) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(backsubs_lower(prev_0, prev_0), backsubs_lower(prev_1, prev_1)), max(backsubs_upper(prev_0, prev_0), backsubs_upper(prev_1, prev_1))))))));
}

2025-06-07 09:57:10,037 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:57:10,037 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 09:58:43,676 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]),
            (prev_0[L] * (prev_0[u] >= prev_1) + prev_1[L] * (prev_0[u] < prev_1)),
            (prev_0[U] * (prev_0[u] >= prev_1) + prev_1[U] * (prev_0[u] < prev_1)) ))));
}

2025-06-07 09:58:43,676 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 09:58:43,740 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 09:58:43,740 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 09:58:43,807 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]),
            (replace_lower(prev_0, 1) * (f(prev_0, prev_1)) + replace_lower(prev_1, 1) * (1 - f(prev_0, prev_1))),
            (replace_upper(prev_0, 1) * (f(prev_0, prev_1)) + replace_upper(prev_1, 1) * (1 - f(prev_0, prev_1)))))));
}

2025-06-07 09:58:43,807 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 09:58:43,807 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 10:00:12,600 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]),
            (replace_lower(prev_0, (prev_1[u] - prev_0[u])/(prev_1[u] - prev_0[l])) * (prev_0) +
             replace_lower(prev_1, (prev_0[u] - prev_1[u])/(prev_0[u] - prev_1[l])) * (prev_1)),
            (replace_upper(prev_0, (prev_1[u] - prev_0[u])/(prev_1[u] - prev_0[l])) * (prev_0) +
             replace_upper(prev_1, (prev_0[u] - prev_1[u])/(prev_0[u] - prev_1[l])) * (prev_1))))));
}

2025-06-07 10:00:12,601 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:00:12,661 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 10:00:12,661 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:00:12,726 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1)),
        max(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1))
    );
}

2025-06-07 10:00:12,726 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:00:12,726 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 10:02:25,387 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_l = max(prev_0[l], prev_1[l]),
               max_u = max(prev_0[u], prev_1[u]),
               max_L = max(prev_0[L], prev_1[L]),
               max_U = max(prev_0[U], prev_1[U])
           in ((max_l), (max_u), (max_L), (max_U));
}

2025-06-07 10:02:25,388 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:02:25,458 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((prev_0[l] >= 0) && (prev_1[l] >= 0)? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0, prev_1)), (max(prev_0, prev_1))) :
            ((prev_0[u] <= 0) && (prev_1[u] <= 0)? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0, prev_1)), (max(prev_0, prev_1))) :
            ((prev_0[l] >= 0)? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (prev_0 + (prev_0 >= prev_1) * (prev_1 - prev_0), (prev_0 + (prev_0 >= prev_1) * (prev_1 - prev_0)))) :
            ((prev_1[l] >= 0)? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (prev_1 + (prev_1 >= prev_0) * (prev_0 - prev_1), (prev_1 + (prev_1 >= prev_0) * (prev_0 - prev_1)))) :
            ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (prev_0, prev_1)))))));
}

2025-06-07 10:02:25,459 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:02:25,526 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> ((prev_0[l] >= prev_1[u])? ((prev_0[l]), (prev_0[u]), (prev_0), (prev_0)) :
            ((prev_1[l] >= prev_0[u])? ((prev_1[l]), (prev_1[u]), (prev_1), (prev_1)) :
            ((prev_0[l] <= prev_1[l])? ((prev_1[l]), max(prev_0[u], prev_1[u]),
            max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])) :
            ((prev_1[l]), max(prev_0[u], prev_1[u]),
            max(prev_1[L], prev_0[L]), max(prev_1[U], prev_0[U])))))));
}

2025-06-07 10:02:25,526 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:02:25,526 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 10:03:23,080 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> let max_l = max(prev_0[l], prev_1[l]), max_u = max(prev_0[u], prev_1[u]),
               max_L = max(prev_0[L], prev_1[L]), max_U = max(prev_0[U], prev_1[U])
           in (max_l, max_u, max_L, max_U);
}

2025-06-07 10:03:23,081 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:03:23,145 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        max(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:03:23,146 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:03:23,205 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 10:03:23,205 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:03:23,205 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 10:04:13,283 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 10:04:13,283 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:04:13,342 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:04:13,342 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:04:13,513 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 10:04:13,513 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:04:13,513 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 10:04:13,513 - INFO - [Max] Runtime: 857.40 seconds
2025-06-07 10:04:13,513 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Max -> (
        max(prev_0[l], prev_1[l]),
        max(prev_0[u], prev_1[u]),
        max(prev_0[L], prev_1[L]),
        max(prev_0[U], prev_1[U])
    );
}

2025-06-07 10:04:13,513 - INFO - 2025-06-07 10:04:13.513835 - Extracting Maxpool
2025-06-07 10:04:13,513 - INFO -
API: Maxpool -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 10:04:13,513 - INFO - [STEP 1] Starting step 1/1
2025-06-07 10:05:40,589 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (max(prev_0[u], prev_1[u])), (prev_0[L]), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (prev_1[L]), (prev_0[U])) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U]));
}

2025-06-07 10:05:40,589 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:05:40,651 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> let
        max_lower = reduce_max([simplify_lower(prev_0, 1), simplify_lower(prev_1, 1)], f);
        max_upper = reduce_max([simplify_upper(prev_0, 1), simplify_upper(prev_1, 1)], f);
        max_poly = reduce_max([replace_lower(prev_0, 1), replace_lower(prev_1, 1)], f);
        max_poly_upper = reduce_max([replace_upper(prev_0, 1), replace_upper(prev_1, 1)], f);
    in (max_lower, max_upper, max_poly, max_poly_upper);
}

2025-06-07 10:05:40,651 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:05:40,713 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> let max_val = max(prev_0, prev_1) in
               ((max_val[l]), (max_val[u]), (max_val[L]), (max_val[U]));
}

2025-06-07 10:05:40,713 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:05:40,713 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 10:07:52,668 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]))) :
               ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l], prev_1[u], backsubs_lower(max(prev_0[L], prev_1[L]), prev_0, priority2), backsubs_upper(max(prev_0[U], prev_1[U]), prev_1, priority2))) :
               ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l], prev_0[u], backsubs_lower(max(prev_0[L], prev_1[L]), prev_1, priority2), backsubs_upper(max(prev_0[U], prev_1[U]), prev_0, priority2))) :
               ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l], prev_1[u], backsubs_lower(max(prev_0[L], prev_1[L]), prev_1, priority2), backsubs_upper(max(prev_0[U], prev_1[U]), prev_1, priority2)));
}

2025-06-07 10:07:52,668 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:07:52,742 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0, prev_1)), (max(prev_0, prev_1))) :
                 ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (prev_1[u]), (backsubs_lower(max(prev_0, prev_1), prev_0)), (backsubs_upper(max(prev_0, prev_1), prev_0))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (backsubs_lower(max(prev_0, prev_1), prev_1)), (backsubs_upper(max(prev_0, prev_1), prev_1))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (backsubs_lower(max(prev_0, prev_1), prev_1)), (backsubs_upper(max(prev_0, prev_1), prev_1)));
}

2025-06-07 10:07:52,742 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:07:52,806 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:07:52,806 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:07:52,806 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 10:08:55,480 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> let
        max_val = reduce_max([prev_0, prev_1,..., prev_(k-1)], priority2),
        min_val = reduce_min([prev_0, prev_1,..., prev_(k-1)], priority2)
    in (
        max_val[l],
        max_val[u],
        max_val[L],
        max_val[U]
    );
}

2025-06-07 10:08:55,480 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:08:55,545 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (
        max(prev_0[l], prev_1[l],..., prev_n[l]),
        max(prev_0[u], prev_1[u],..., prev_n[u]),
        max(prev_0[L], prev_1[L],..., prev_n[L]),
        max(prev_0[U], prev_1[U],..., prev_n[U])
    );
}

2025-06-07 10:08:55,545 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:08:55,615 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> (
        max(prev_0[l], prev_1[l],..., prev_n[l]),
        max(prev_0[u], prev_1[u],..., prev_n[u]),
        max(prev_0[L], prev_1[L],..., prev_n[L]),
        max(prev_0[U], prev_1[U],..., prev_n[U])
    );
}

2025-06-07 10:08:55,615 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:08:55,615 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 10:10:07,856 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> (max(prev_0[l], prev_1[l],...), max(prev_0[u], prev_1[u],...), max(prev_0[L], prev_1[L],...), max(prev_0[U], prev_1[U],...));
}

2025-06-07 10:10:07,856 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:10:07,922 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l],...), max(prev_0[u], prev_1[u],...), max(prev_0[L], prev_1[L],...), max(prev_0[U], prev_1[U],...));
}

2025-06-07 10:10:07,922 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:10:07,990 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> let
        idx_l = argmax([prev_0[l], prev_1[l],..., prev_n[l]]),
        idx_u = argmax([prev_0[u], prev_1[u],..., prev_n[u]]),
        idx_L = argmax([prev_0[L], prev_1[L],..., prev_n[L]]),
        idx_U = argmax([prev_0[U], prev_1[U],..., prev_n[U]])
    in (
        max([prev_0[l], prev_1[l],..., prev_n[l]]),
        max([prev_0[u], prev_1[u],..., prev_n[u]]),
        max([prev_0[L], prev_1[L],..., prev_n[L]]),
        max([prev_0[U], prev_1[U],..., prev_n[U]])
    );
}

2025-06-07 10:10:07,990 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:10:07,990 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 10:11:59,462 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:11:59,462 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:11:59,541 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (prev_1[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_0, priority2)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_0, priority2))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_1, priority2)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_1, priority2))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_1, priority2)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_1, priority2)));
}

2025-06-07 10:11:59,541 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:11:59,613 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (prev_1[u]), (prev_0[L]), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (prev_1[L]), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U]));
}

2025-06-07 10:11:59,613 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:11:59,613 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 10:13:42,579 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0, prev_1), max(prev_0, prev_1))) :
                   ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l], prev_1[u], max(prev_0, prev_1), max(prev_0, prev_1))) :
                   ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l], prev_0[u], max(prev_0, prev_1), max(prev_0, prev_1))) :
                   ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l], prev_1[u], max(prev_0, prev_1), max(prev_0, prev_1)));
}

2025-06-07 10:13:42,579 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:13:42,651 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (max(prev_0[u], prev_1[u])), (prev_0[L]), (backsubs_upper(prev_1[U], prev_0))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (max(prev_0[u], prev_1[u])), (backsubs_lower(prev_0[L], prev_1)), (prev_1[U])) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (backsubs_lower(prev_0[L], prev_1)), (backsubs_upper(prev_1[U], prev_0)));
}

2025-06-07 10:13:42,651 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:13:42,798 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 326, in visitMaxOp
    exp1type = self.visit(node.expr1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 27, in visit
    return self.visitVar(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 338, in visitVar
    raise UndefinedVarException(node.name + " is undefined")
constraintflow.core.astTC.UndefinedVarException: prev_0 is undefined

Code:
transformer deeppoly{
    Maxpool -> (
        max(simplify_lower(prev_0, 1), simplify_lower(prev_1, 1)),
        max(simplify_upper(prev_0, 1), simplify_upper(prev_1, 1)),
        max(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        max(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:13:42,798 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:13:42,798 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 10:15:41,808 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                  ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (prev_1[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_0)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_0))) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_1)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_1))) :
                  ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (backsubs_lower(max(prev_0[L], prev_1[L]), prev_1)), (backsubs_upper(max(prev_0[U], prev_1[U]), prev_1)));
}

2025-06-07 10:15:41,808 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:15:41,878 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]))) :
                   ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l], prev_1[u], prev_0[L], max(prev_0[U], prev_1[U]))) :
                   ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l], prev_0[u], max(prev_0[L], prev_1[L]), prev_0[U])) :
                   ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l], prev_1[u], prev_1[L], prev_1[U]));
}

2025-06-07 10:15:41,879 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:15:41,948 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))?
               ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]))) :
               ((prev_0[l] >= prev_1[l])?
                ((prev_0[l], max(prev_0[u], prev_1[u]), backsubs_lower(prev_0[L], prev_0), backsubs_upper(prev_0[U], prev_0))) :
                ((prev_1[l], max(prev_0[u], prev_1[u]), backsubs_lower(prev_1[L], prev_1), backsubs_upper(prev_1[U], prev_1))));
}

2025-06-07 10:15:41,948 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:15:41,948 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 10:17:06,116 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> (max(prev_0[l], prev_1[l],...), max(prev_0[u], prev_1[u],...), max(prev_0[L], prev_1[L],...), max(prev_0[U], prev_1[U],...));
}

2025-06-07 10:17:06,117 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:17:06,196 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (max(prev_0[u], prev_1[u])), (prev_0[L] + (prev_1[L] - prev_0[L]) * ((prev_0[u] - prev_0[l]) / (prev_0[u] - prev_0[l] + prev_1[u] - prev_1[l]))), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (max(prev_0[u], prev_1[u])), (prev_1[L] + (prev_0[L] - prev_1[L]) * ((prev_1[u] - prev_1[l]) / (prev_0[u] - prev_0[l] + prev_1[u] - prev_1[l]))), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) ;
}

2025-06-07 10:17:06,196 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:17:06,257 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:17:06,257 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:17:06,257 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 10:18:34,411 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> (max([prev_0[l], prev_1[l],..., prev_n[l]]), max([prev_0[u], prev_1[u],..., prev_n[u]]), max([prev_0[L], prev_1[L],..., prev_n[L]]), max([prev_0[U], prev_1[U],..., prev_n[U]]));
}

2025-06-07 10:18:34,411 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:18:34,486 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))?
                 ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])))
               : ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))?
                 ((prev_0[l], prev_1[u], max(prev_0[L], prev_1[L]), prev_0[U] + prev_1[U] - min(prev_0[U], prev_1[U])))
               : ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))?
                 ((prev_1[l], prev_0[u], max(prev_0[L], prev_1[L]), prev_0[U] + prev_1[U] - min(prev_0[U], prev_1[U])))
               : ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))?
                 ((prev_1[l], prev_1[u], max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])))
               : ((max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])));
}

2025-06-07 10:18:34,486 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:18:34,550 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l],..., prev_n[l]), max(prev_0[u], prev_1[u],..., prev_n[u]), max(prev_0, prev_1,..., prev_n), max(prev_0, prev_1,..., prev_n));
}

2025-06-07 10:18:34,550 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:18:34,550 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 10:20:07,373 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> let
        max_val = max(prev_0, prev_1);
        min_val = min(prev_0, prev_1);
    in (
        max_val[l],
        max_val[u],
        max_val[L],
        max_val[U]
    );
}

2025-06-07 10:20:07,373 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:20:07,452 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Maxpool -> ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((max(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] >= prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_0[l]), (max(prev_0[u], prev_1[u])), (prev_0[L] + (prev_1[L] - prev_0[L]) * (prev_1[u] - prev_0[u]) / (prev_1[u] - prev_1[l])), (max(prev_0[U], prev_1[U]))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (max(prev_0[u], prev_1[u])), (max(prev_0[L], prev_1[L])), (prev_0[U] + (prev_1[U] - prev_0[U]) * (prev_1[l] - prev_0[l]) / (prev_0[u] - prev_0[l]))) :
                 ((prev_0[l] < prev_1[l]) && (prev_0[u] < prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U]));
}

2025-06-07 10:20:07,452 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:20:07,513 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:20:07,513 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:20:07,513 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 10:20:07,513 - INFO - [Maxpool] Runtime: 954.00 seconds
2025-06-07 10:20:07,513 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    MaxPool -> (max(prev_0[l], prev_1[l]), max(prev_0[u], prev_1[u]), max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]));
}

2025-06-07 10:20:07,513 - INFO - 2025-06-07 10:20:07.513404 - Extracting Min
2025-06-07 10:20:07,513 - INFO -
API: Min -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 10:20:07,513 - INFO - [STEP 1] Starting step 1/1
2025-06-07 10:22:22,377 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (if(f(prev_0, prev_1)) then (prev_1[L]) else (prev_0[L])),
            (if(f(prev_0, prev_1)) then (prev_1[U]) else (prev_0[U]))) :
            ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))?
            ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_1[l] <= prev_0[u]) && (prev_0[l] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (if(f(prev_1, prev_0)) then (prev_0[L]) else (prev_1[L])),
            (if(f(prev_1, prev_0)) then (prev_0[U]) else (prev_1[U]))) ;
}

2025-06-07 10:22:22,377 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:22:22,444 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:22:22,444 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:22:22,513 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (if (prev_0[L] <= prev_1[L]) then prev_0[L] else prev_1[L]),
             (if (prev_0[U] <= prev_1[U]) then prev_0[U] else prev_1[U])) :
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (hull(prev_0[L], prev_1[L])), (hull(prev_0[U], prev_1[U])));
}

2025-06-07 10:22:22,513 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:22:22,513 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 10:23:51,489 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:23:51,489 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:23:51,550 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:23:51,550 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:23:51,729 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (hull(prev_0[L], prev_1[L])), (hull(prev_0[U], prev_1[U]))) :
           ((prev_0[l] > prev_1[u]))?
            ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) :
           ((prev_1[l] > prev_0[u]))?
            ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])) :
            error;
}

2025-06-07 10:23:51,729 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:23:51,729 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 10:26:38,423 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1))) :
            ((prev_0[l] <= prev_1[l])?
            ((prev_0[l]), (max(prev_0[u], prev_1[u])), (prev_0[L] + ((prev_1[L] - prev_0[L]) * ((prev_0[u] - prev_0[l]) / (prev_1[u] - prev_1[l])))),
            (prev_0[U] + ((prev_1[U] - prev_0[U]) * ((prev_0[u] - prev_0[l]) / (prev_1[u] - prev_1[l]))))) :
            ((prev_1[l]), (max(prev_0[u], prev_1[u])), (prev_1[L] + ((prev_0[L] - prev_1[L]) * ((prev_1[u] - prev_1[l]) / (prev_0[u] - prev_0[l])))),
            (prev_1[U] + ((prev_0[U] - prev_1[U]) * ((prev_1[u] - prev_1[l]) / (prev_0[u] - prev_0[l]))))));
}

2025-06-07 10:26:38,423 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:26:38,504 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u]))?
           ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))?
           ((prev_0[l]), (prev_1[u]), ( Piecewise((prev_0[L] <= prev_1[L]), prev_0[L], prev_1[L]) ), ( Piecewise((prev_0[U] >= prev_1[U]), prev_0[U], prev_1[U]) )) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((prev_1[l]), (prev_0[u]), ( Piecewise((prev_0[L] <= prev_1[L]), prev_0[L], prev_1[L]) ), ( Piecewise((prev_0[U] >= prev_1[U]), prev_0[U], prev_1[U]) )) :
           ((prev_0[l]), (min(prev_0[u], prev_1[u])), ( Piecewise((prev_0[L] <= prev_1[L]), prev_0[L], prev_1[L]) ), ( Piecewise((prev_0[U] >= prev_1[U]), prev_0[U], prev_1[U]) ));
}

2025-06-07 10:26:38,504 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:26:38,571 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
           (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])) :
           ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           (prev_0[l], prev_0[u], prev_0[L], prev_0[U]) :
           (prev_1[l], prev_1[u], prev_1[L], prev_1[U]);
}

2025-06-07 10:26:38,571 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:26:38,571 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 10:28:55,228 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((prev_0[l]), (min(prev_0[u], prev_1[u])),
            (min(replace_lower(prev_0, 1), replace_lower(prev_1, 1))),
            (min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)))) :
           ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))?
           ((prev_1[l]), (min(prev_0[u], prev_1[u])),
            (min(replace_lower(prev_0, 1), replace_lower(prev_1, 1))),
            (min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (backsubs_lower(min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)), prev_0, prev_1)),
            (backsubs_upper(min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)), prev_0, prev_1))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (backsubs_lower(min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)), prev_0, prev_1)),
            (backsubs_upper(min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)), prev_0, prev_1)));
}

2025-06-07 10:28:55,228 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:28:55,296 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (hull(prev_0[L], prev_1[L])), (hull(prev_0[U], prev_1[U]))) :
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (hull(prev_0[L], prev_1[L])), (hull(prev_0[U], prev_1[U])));
}

2025-06-07 10:28:55,296 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:28:55,362 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:28:55,363 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:28:55,363 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 10:32:15,013 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))?
           ((min(prev_0[l], prev_1[l])), (prev_1[u]), (min(prev_0[L], prev_1[L])), (backsubs_upper(prev_0[U], prev_1) + backsubs_lower(prev_1[U], prev_0))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((min(prev_0[l], prev_1[l])), (prev_0[u]), (min(prev_0[L], prev_1[L])), (backsubs_upper(prev_1[U], prev_0) + backsubs_lower(prev_0[U], prev_1))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (backsubs_upper(prev_1[U], prev_0) + backsubs_lower(prev_0[U], prev_1)));
}

2025-06-07 10:32:15,014 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:32:15,087 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])) :
           ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
           (piecewise((prev_0[L] <= prev_1[L]), prev_0[L], prev_1[L])), (piecewise((prev_0[U] >= prev_1[U]), prev_0[U], prev_1[U]))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
           (piecewise((prev_0[L] <= prev_1[U]), prev_0[L], prev_1[L]) + piecewise((prev_0[L] > prev_1[U]), prev_0[L] - prev_1[U], 0)),
           (piecewise((prev_0[U] >= prev_1[L]), prev_0[U], prev_1[U]) + piecewise((prev_0[U] < prev_1[L]), prev_1[L] - prev_0[U], 0)));
}

2025-06-07 10:32:15,087 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:32:15,168 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(replace_lower(prev_0, 1), replace_lower(prev_1, 1))),
             (min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)))) :
            ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (backsubs_lower(min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)), prev_0, prev_1)),
             (backsubs_upper(min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)), prev_0, prev_1))) :
            ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(replace_lower(prev_0, 1), replace_lower(prev_1, 1))),
             (min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)))) :
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (backsubs_lower(min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)), prev_0, prev_1)),
             (backsubs_upper(min(replace_upper(prev_0, 1), replace_upper(prev_1, 1)), prev_0, prev_1)));
}

2025-06-07 10:32:15,168 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:32:15,168 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 10:35:19,508 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1))) :
           ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (backsubs_lower(min(prev_0, prev_1), prev_0)), (backsubs_upper(min(prev_0, prev_1), prev_0))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (backsubs_lower(min(prev_0, prev_1), prev_1)), (backsubs_upper(min(prev_0, prev_1), prev_1))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (backsubs_lower(min(prev_0, prev_1), prev_0)), (backsubs_upper(min(prev_0, prev_1), prev_1)));
}

2025-06-07 10:35:19,508 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:35:19,578 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1)),
              max(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1)))) :
           ((prev_0[l] > prev_1[u])?
            ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) :
            ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])));
}

2025-06-07 10:35:19,578 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:35:19,656 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))? ((min(prev_0[l], prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0))))) :
           ((prev_0[l]) >= (prev_1[u]))? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) :
           ((prev_1[l]) >= (prev_0[u]))? ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])) :
           ((min(prev_0[l], prev_1[l]), (min(prev_0[u], prev_1[u])), (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))), (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))));
}

2025-06-07 10:35:19,656 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:35:19,656 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 10:37:50,564 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
           ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])), (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))), (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))), (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0))));
}

2025-06-07 10:37:50,564 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:37:50,628 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            (min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])) :
            ((prev_0[l] <= prev_1[l])?
             (prev_0[l], min(prev_0[u], prev_1[u]), prev_0[L], min(prev_0[U], prev_1[U])) :
             (prev_1[l], min(prev_0[u], prev_1[u]), prev_1[L], min(prev_0[U], prev_1[U])));
}

2025-06-07 10:37:50,628 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:37:50,705 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (hull(min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]))),
             (hull(max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U])))) :
           ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
             (hull(min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U]))),
             (hull(max(prev_0[L], prev_1[L]), max(prev_0[U], prev_1[U]))));
}

2025-06-07 10:37:50,706 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:37:50,706 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 10:39:59,932 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))? ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1))) :
           ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))? ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])), (min(prev_0, prev_1)), (min(prev_0, prev_1)));
}

2025-06-07 10:39:59,932 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:40:01,497 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (backsubs_lower(min(prev_0, prev_1), curr)), (backsubs_upper(min(prev_0, prev_1), curr))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
           ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
            (backsubs_lower(min(prev_0, prev_1), curr)), (backsubs_upper(min(prev_0, prev_1), curr))) :
           ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))?
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (backsubs_lower(min(prev_0, prev_1), curr)), (backsubs_upper(min(prev_0, prev_1), curr))) :
           ((min(prev_0[l], prev_1[l])), (max(prev_0[u], prev_1[u])),
            (backsubs_lower(min(prev_0, prev_1), curr)), (backsubs_upper(min(prev_0, prev_1), curr)));
}

2025-06-07 10:40:01,497 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:40:01,562 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(backsubs_lower(prev_0[L], curr), backsubs_lower(prev_1[L], curr)),
        min(backsubs_upper(prev_0[U], curr), backsubs_upper(prev_1[U], curr))
    );
}

2025-06-07 10:40:01,562 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:40:01,562 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 10:42:35,339 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
           ((prev_0[l]), (min(prev_0[u], prev_1[u])),
            (replace_lower(prev_0, 1) + replace_upper(prev_1, 0)),
            (replace_upper(prev_0, 1) + replace_lower(prev_1, 0))) :
           ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))?
           ((prev_1[l]), (min(prev_0[u], prev_1[u])),
            (replace_lower(prev_1, 1) + replace_upper(prev_0, 0)),
            (replace_upper(prev_1, 1) + replace_lower(prev_0, 0))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (replace_lower(prev_0, 1) + replace_upper(prev_1, 0) +
             replace_lower(prev_1, 0) + replace_upper(prev_0, 0)),
            (replace_upper(prev_0, 1) + replace_lower(prev_1, 0) +
             replace_upper(prev_1, 0) + replace_lower(prev_0, 0))) :
           ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
            (replace_lower(prev_0, 1) + replace_lower(prev_1, 1)),
            (replace_upper(prev_0, 1) + replace_upper(prev_1, 1)));
}

2025-06-07 10:42:35,339 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:42:35,418 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))? ((prev_0[l]), (prev_1[u]), (min(prev_0[L], prev_1[L])), (min(backsubs_lower(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_1[l]), (prev_0[u]), (min(backsubs_lower(prev_0[L], prev_1), backsubs_upper(prev_1[L], prev_0)), min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u]))? ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(backsubs_lower(prev_0[L], prev_1), backsubs_upper(prev_1[L], prev_0)), min(backsubs_lower(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0))));
}

2025-06-07 10:42:35,418 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:42:35,478 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> (
        min(prev_0[l], prev_1[l]),
        min(prev_0[u], prev_1[u]),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 10:42:35,478 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:42:35,478 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 10:45:54,306 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
            ((prev_0[l]), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))),
             (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))) :
            ((prev_1[l] <= prev_0[l]) && (prev_1[u] <= prev_0[u]))?
            ((prev_1[l]), (min(prev_0[u], prev_1[u])),
             (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
            ((prev_1[l] <= prev_0[u]) && (prev_0[l] <= prev_1[u]))?
            ((min(prev_0[l], prev_1[l])), (min(prev_0[u], prev_1[u])),
             (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))),
             (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))) ;
}

2025-06-07 10:45:54,306 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:45:54,383 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))? ((prev_0[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] >= prev_1[l]) && (prev_0[u] >= prev_1[u]))? ((prev_1[l]), (min(prev_0[u], prev_1[u])), (min(prev_0[L], prev_1[L])), (min(prev_0[U], prev_1[U]))) :
           ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]))? ((min(prev_0[l], prev_1[l]), (min(prev_0[u], prev_1[u])), (min(backsubs_lower(prev_0[L], prev_1), backsubs_lower(prev_1[L], prev_0))), (min(backsubs_upper(prev_0[U], prev_1), backsubs_upper(prev_1[U], prev_0)))) :
           ((prev_0[l] > prev_1[u])? ((prev_1[l]), (prev_1[u]), (prev_1[L]), (prev_1[U])) : ((prev_0[l]), (prev_0[u]), (prev_0[L]), (prev_0[U])));
}

2025-06-07 10:45:54,383 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:46:01,437 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])))
           : ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]),
                 simplify_lower(prev_0, 1) + simplify_upper(prev_1, -1) + (prev_1[L] - prev_0[L]),
                 simplify_upper(prev_0, 1) + simplify_lower(prev_1, -1) + (prev_1[U] - prev_0[U])))
           : ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]),
                 simplify_lower(prev_1, 1) + simplify_upper(prev_0, -1) + (prev_0[L] - prev_1[L]),
                 simplify_upper(prev_1, 1) + simplify_lower(prev_0, -1) + (prev_0[U] - prev_1[U])))
           : ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])))
}

2025-06-07 10:46:01,437 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:46:01,437 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 10:46:01,437 - INFO - [Min] Runtime: 1553.92 seconds
2025-06-07 10:46:01,438 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Min -> ((prev_0[l] <= prev_1[l]) && (prev_0[u] <= prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])))
           : ((prev_0[l] <= prev_1[l]) && (prev_0[u] > prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]),
                 simplify_lower(prev_0, 1) + simplify_upper(prev_1, -1) + (prev_1[L] - prev_0[L]),
                 simplify_upper(prev_0, 1) + simplify_lower(prev_1, -1) + (prev_1[U] - prev_0[U])))
           : ((prev_0[l] > prev_1[l]) && (prev_0[u] <= prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]),
                 simplify_lower(prev_1, 1) + simplify_upper(prev_0, -1) + (prev_0[L] - prev_1[L]),
                 simplify_upper(prev_1, 1) + simplify_lower(prev_0, -1) + (prev_0[U] - prev_1[U])))
           : ((prev_0[l] > prev_1[l]) && (prev_0[u] > prev_1[u]))?
               ((min(prev_0[l], prev_1[l]), min(prev_0[u], prev_1[u]), min(prev_0[L], prev_1[L]), min(prev_0[U], prev_1[U])))
}

2025-06-07 10:46:01,438 - INFO - 2025-06-07 10:46:01.438092 - Extracting Minpool
2025-06-07 10:46:01,438 - INFO -
API: Minpool -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 10:46:01,438 - INFO - [STEP 1] Starting step 1/1
2025-06-07 10:47:58,191 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(prev_0[L], prev_1[L],..., prev_n[L])), (min(prev_0[U], prev_1[U],..., prev_n[U]))) :
               ((min(simplify_lower(prev_0, 1), simplify_lower(prev_1, 1),..., simplify_lower(prev_n, 1))),
                (min(simplify_upper(prev_0, 1), simplify_upper(prev_1, 1),..., simplify_upper(prev_n, 1))),
                (min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n))),
                (min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n))));
}

2025-06-07 10:47:58,192 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:48:01,447 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr))),
                (min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr)))) :
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(replace_lower(prev_0, curr), replace_lower(prev_1, curr),..., replace_lower(prev_n, curr))),
                (min(replace_upper(prev_0, curr), replace_upper(prev_1, curr),..., replace_upper(prev_n, curr))));
}

2025-06-07 10:48:01,447 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:48:01,507 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(prev_0[l], prev_1[l],..., prev_n[l]),
        min(prev_0[u], prev_1[u],..., prev_n[u]),
        min(prev_0[L], prev_1[L],..., prev_n[L]),
        min(prev_0[U], prev_1[U],..., prev_n[U])
    );
}

2025-06-07 10:48:01,507 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:48:01,507 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 10:50:56,667 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((prev_0[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), (prev_0[L] + prev_1[L] +... + prev_n[L]) / n, (prev_0[U] + prev_1[U] +... + prev_n[U]) / n) :
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (prev_0[u]), (backsubs_lower(min(prev_0[L], prev_1[L],..., prev_n[L]), curr, curr[layer])), (backsubs_upper(min(prev_0[U], prev_1[U],..., prev_n[U]), curr, curr[layer])));
}

2025-06-07 10:50:56,667 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:51:01,442 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l] && prev_0[l] <= prev_2[l] &&... && prev_0[l] <= prev_n[l])?
               (prev_0[l], min(prev_0[u], prev_1[u], prev_2[u],..., prev_n[u]),
                min(prev_0, prev_1, prev_2,..., prev_n),
                min(prev_0, prev_1, prev_2,..., prev_n)) :
               ((prev_1[l] <= prev_0[l] && prev_1[l] <= prev_2[l] &&... && prev_1[l] <= prev_n[l])?
               (prev_1[l], min(prev_0[u], prev_1[u], prev_2[u],..., prev_n[u]),
                min(prev_0, prev_1, prev_2,..., prev_n),
                min(prev_0, prev_1, prev_2,..., prev_n)) :
              ...
               (prev_n[l], min(prev_0[u], prev_1[u], prev_2[u],..., prev_n[u]),
                min(prev_0, prev_1, prev_2,..., prev_n),
                min(prev_0, prev_1, prev_2,..., prev_n))));
}

2025-06-07 10:51:01,443 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:51:01,523 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U])) :
               ((prev_0[u] <= prev_1[u]) && (prev_0[u] <= prev_2[u]) &&... && (prev_0[u] <= prev_n[u]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n)),
                min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n))) :
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n)),
                min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n)));
}

2025-06-07 10:51:01,523 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:51:01,523 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 10:52:52,110 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(prev_0[l], prev_1[l],..., prev_n[l]),
        min(prev_0[u], prev_1[u],..., prev_n[u]),
        min(prev_0[L], prev_1[L],..., prev_n[L]),
        min(prev_0[U], prev_1[U],..., prev_n[U])
    );
}

2025-06-07 10:52:52,111 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:52:52,202 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l] && prev_0[l] <= prev_2[l] &&... && prev_0[l] <= prev_n[l])?
                 (prev_0[l], min(prev_0[u], prev_1[u],..., prev_n[u]),
                  min(prev_0[L], prev_1[L],..., prev_n[L]),
                  min(prev_0[U], prev_1[U],..., prev_n[U])) :
                 ((prev_1[l] <= prev_0[l] && prev_1[l] <= prev_2[l] &&... && prev_1[l] <= prev_n[l])?
                  (prev_1[l], min(prev_0[u], prev_1[u],..., prev_n[u]),
                   min(prev_0[L], prev_1[L],..., prev_n[L]),
                   min(prev_0[U], prev_1[U],..., prev_n[U])) :
                 ...
                 ((prev_n[l] <= prev_0[l] && prev_n[l] <= prev_1[l] &&... && prev_n[l] <= prev_(n-1)[l])?
                    (prev_n[l], min(prev_0[u], prev_1[u],..., prev_n[u]),
                     min(prev_0[L], prev_1[L],..., prev_n[L]),
                     min(prev_0[U], prev_1[U],..., prev_n[U])) :
                    (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                     min(prev_0[L], prev_1[L],..., prev_n[L]),
                     min(prev_0[U], prev_1[U],..., prev_n[U]))
                  )
                )
            );
}

2025-06-07 10:52:52,202 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:52:52,261 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((min(prev_0[l], prev_1[l],...), min(prev_0[u], prev_1[u],...), min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),...), max(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),...)));
}

2025-06-07 10:52:52,261 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:52:52,261 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 10:54:42,505 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(prev_0[L], prev_1[L],..., prev_n[L])), (min(prev_0[U], prev_1[U],..., prev_n[U]))) :
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (backsubs_lower(min(prev_0[L], prev_1[L],..., prev_n[L]), curr)), (backsubs_upper(min(prev_0[U], prev_1[U],..., prev_n[U]), curr)));
}

2025-06-07 10:54:42,505 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:54:42,574 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((prev_0[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)),
                min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr))) :
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr))),
                (min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr))));
}

2025-06-07 10:54:42,575 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:54:42,748 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(prev_0[l], prev_1[l],..., prev_n[l]),
        min(prev_0[u], prev_1[u],..., prev_n[u]),
        min(backsubs_lower(prev_0[L], curr), backsubs_lower(prev_1[L], curr),..., backsubs_lower(prev_n[L], curr)),
        min(backsubs_lower(prev_0[L], curr), backsubs_lower(prev_1[L], curr),..., backsubs_lower(prev_n[L], curr))
    );
}

2025-06-07 10:54:42,748 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:54:42,748 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 10:56:04,410 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U]));
}

2025-06-07 10:56:04,411 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:56:04,480 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((prev_0[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U])) :
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])), (min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n))), (min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n))));
}

2025-06-07 10:56:04,480 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:56:04,544 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(prev_0[l], prev_1[l],..., prev_n[l]),
        min(prev_0[u], prev_1[u],..., prev_n[u]),
        min(prev_0[L], prev_1[L],..., prev_n[L]),
        min(prev_0[U], prev_1[U],..., prev_n[U])
    );
}

2025-06-07 10:56:04,545 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:56:04,545 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 10:58:19,549 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[u]) && (prev_1[l] <= prev_0[u]) &&... && (prev_n[l] <= prev_m[u]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)),
                min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr))) :
               ((prev_0[l] <= prev_1[l] <=... <= prev_n[l]) && (prev_0[u] <= prev_1[u] <=... <= prev_n[u]))?
               (prev_n[l], prev_n[u], backsubs_lower(prev_n, curr), backsubs_upper(prev_n, curr)) :
               ((prev_0[u] <= prev_1[u] <=... <= prev_n[u]) && (prev_0[l] >= prev_1[l] >=... >= prev_n[l]))?
               (prev_0[l], prev_0[u], backsubs_lower(prev_0, curr), backsubs_upper(prev_0, curr)) :
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)),
                min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr)));
}

2025-06-07 10:58:19,549 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:58:19,620 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((prev_0[l]), min(prev_0[u], prev_1[u], prev_2[u],..., prev_n[u]),
                min(prev_0[L], prev_1[L], prev_2[L],..., prev_n[L]),
                min(prev_0[U], prev_1[U], prev_2[U],..., prev_n[U])) :
               ((min(prev_0[l], prev_1[l], prev_2[l],..., prev_n[l])),
                (min(prev_0[u], prev_1[u], prev_2[u],..., prev_n[u])),
                backsubs_lower(min(prev_0[L], prev_1[L], prev_2[L],..., prev_n[L]), curr, curr[layer]),
                backsubs_upper(min(prev_0[U], prev_1[U], prev_2[U],..., prev_n[U]), curr, curr[layer]));
}

2025-06-07 10:58:19,620 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:58:19,685 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((min(prev_0[l], prev_1[l],...), min(prev_0[u], prev_1[u],...), min(backsubs_lower(prev_0[L], curr), backsubs_lower(prev_1[L], curr),...), min(backsubs_upper(prev_0[U], curr), backsubs_upper(prev_1[U], curr),...)));
}

2025-06-07 10:58:19,685 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:58:19,685 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 10:59:24,169 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U]));
}

2025-06-07 10:59:24,170 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 10:59:24,230 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((min([prev_0[l], prev_1[l],..., prev_n[l]]), min([prev_0[u], prev_1[u],..., prev_n[u]]),
                min([backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)]),
                min([backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)])));
}

2025-06-07 10:59:24,230 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 10:59:24,296 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((min(prev_0[l], prev_1[l],...), min(prev_0[u], prev_1[u],...), min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),...), min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),...)));
}

2025-06-07 10:59:24,296 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 10:59:24,296 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 11:01:03,890 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(prev_0[l], prev_1[l],..., prev_n[l]),
        min(prev_0[u], prev_1[u],..., prev_n[u]),
        min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n)),
        min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n))
    );
}

2025-06-07 11:01:03,890 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:01:03,951 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (
        min(simplify_lower(prev_0, 1), simplify_lower(prev_1, 1)),
        min(simplify_upper(prev_0, 1), simplify_upper(prev_1, 1)),
        min(replace_lower(prev_0, 1), replace_lower(prev_1, 1)),
        min(replace_upper(prev_0, 1), replace_upper(prev_1, 1))
    );
}

2025-06-07 11:01:03,951 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:01:04,027 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((min(prev_0[l], prev_1[l],..., prev_n[l])),
                (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(prev_0[L], prev_1[L],..., prev_n[L])),
                (min(prev_0[U], prev_1[U],..., prev_n[U]))) :
               ((min(simplify_lower(prev_0, 1), simplify_lower(prev_1, 1),..., simplify_lower(prev_n, 1))),
                (min(simplify_upper(prev_0, 1), simplify_upper(prev_1, 1),..., simplify_upper(prev_n, 1))),
                (backsubs_lower(min(replace_lower(prev_0, 1), replace_lower(prev_1, 1),..., replace_lower(prev_n, 1)), curr)),
                (backsubs_upper(min(replace_upper(prev_0, 1), replace_upper(prev_1, 1),..., replace_upper(prev_n, 1)), curr)));
}

2025-06-07 11:01:04,027 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:01:04,027 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 11:02:33,717 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr)), min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr)));
}

2025-06-07 11:02:33,717 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:02:33,788 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               ((min(prev_0[l], prev_1[l],..., prev_n[l])), (min(prev_0[u], prev_1[u],..., prev_n[u])),
                (min(prev_0[L], prev_1[L],..., prev_n[L])), (min(prev_0[U], prev_1[U],..., prev_n[U]))) :
               ((min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr))),
                (min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr))),
                (min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),..., backsubs_lower(prev_n, curr))),
                (min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),..., backsubs_upper(prev_n, curr))));
}

2025-06-07 11:02:33,788 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:02:33,853 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((min(prev_0[l], prev_1[l],...), min(prev_0[u], prev_1[u],...), min(backsubs_lower(prev_0, curr), backsubs_lower(prev_1, curr),...), min(backsubs_upper(prev_0, curr), backsubs_upper(prev_1, curr),...)));
}

2025-06-07 11:02:33,853 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:02:33,853 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 11:05:02,189 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U])) :
               ((prev_0[u] <= prev_1[u]) && (prev_0[u] <= prev_2[u]) &&... && (prev_0[u] <= prev_n[u]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n)),
                min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n))) :
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(backsubs_lower(prev_0[L], prev_0), backsubs_lower(prev_1[L], prev_1),..., backsubs_lower(prev_n[L], prev_n)),
                min(backsubs_upper(prev_0[U], prev_0), backsubs_upper(prev_1[U], prev_1),..., backsubs_upper(prev_n[U], prev_n)));
}

2025-06-07 11:05:02,189 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:05:02,269 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> ((prev_0[l] <= prev_1[l]) && (prev_0[l] <= prev_2[l]) &&... && (prev_0[l] <= prev_n[l]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U])) :
               ((prev_0[u] <= prev_1[u]) && (prev_0[u] <= prev_2[u]) &&... && (prev_0[u] <= prev_n[u]))?
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                backsubs_lower(min(prev_0[L], prev_1[L],..., prev_n[L]), curr),
                backsubs_upper(min(prev_0[U], prev_1[U],..., prev_n[U]), curr)) :
               (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]),
                backsubs_lower(min(prev_0[L], prev_1[L],..., prev_n[L]), curr),
                backsubs_upper(min(prev_0[U], prev_1[U],..., prev_n[U]), curr));
}

2025-06-07 11:05:02,270 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:05:02,335 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    MinPool -> (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U]));
}

2025-06-07 11:05:02,335 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:05:02,335 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 11:05:02,335 - INFO - [Minpool] Runtime: 1140.90 seconds
2025-06-07 11:05:02,335 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    MinPool -> (min(prev_0[l], prev_1[l],..., prev_n[l]), min(prev_0[u], prev_1[u],..., prev_n[u]), min(prev_0[L], prev_1[L],..., prev_n[L]), min(prev_0[U], prev_1[U],..., prev_n[U]));
}

2025-06-07 11:05:02,335 - INFO - 2025-06-07 11:05:02.335849 - Extracting Mult
2025-06-07 11:05:02,335 - INFO -
API: Mult -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 11:05:02,335 - INFO - [STEP 1] Starting step 1/1
2025-06-07 11:07:11,751 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
             ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
             ((prev_0[l] >= 0 && prev_1[u] <= 0)?
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0[L]*prev_1[U]), (prev_0[U]*prev_1[L])) :
              ((prev_0[u] <= 0 && prev_1[l] >= 0)?
               ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0[U]*prev_1[L]), (prev_0[L]*prev_1[U])) :
               ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])))));
}

2025-06-07 11:07:11,752 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:07:11,817 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(min(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), min(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        max(max(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), max(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        simplify_lower(prev_0, prev_1[L]) + simplify_lower(prev_1, prev_0[L]),
        simplify_upper(prev_0, prev_1[U]) + simplify_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:07:11,817 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:07:11,892 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
             ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
             ((prev_0[l] >= 0 && prev_1[u] <= 0)?
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0[L]*prev_1[U]), (prev_0[U]*prev_1[L])) :
              ((prev_0[u] <= 0 && prev_1[l] >= 0)?
               ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0[U]*prev_1[L]), (prev_0[L]*prev_1[U])) :
               ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])))));
}

2025-06-07 11:07:11,892 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:07:11,892 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 11:08:55,322 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        backsubs_lower(prev_0 * prev_1, curr),
        backsubs_upper(prev_0 * prev_1, curr)
    );
}

2025-06-07 11:08:55,322 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:08:55,382 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]),
        replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:08:55,382 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:08:55,458 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
            ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
            ((prev_0[l] >= 0 && prev_1[u] <= 0)?
             ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
             ((prev_0[u] <= 0 && prev_1[l] >= 0)?
              ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer])))));
}

2025-06-07 11:08:55,458 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:08:55,458 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 11:11:13,353 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(
            simplify_lower(prev_0, prev_1[l]),
            simplify_lower(prev_0, prev_1[u]),
            simplify_upper(prev_0, prev_1[l]),
            simplify_upper(prev_0, prev_1[u])
        ),
        max(
            simplify_upper(prev_0, prev_1[l]),
            simplify_upper(prev_0, prev_1[u]),
            simplify_lower(prev_0, prev_1[l]),
            simplify_lower(prev_0, prev_1[u])
        ),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]),
        replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:11:13,353 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:11:13,427 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
             ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0*L*prev_1), (prev_0*U*prev_1)) :
             ((prev_0[l] >= 0 && prev_1[u] <= 0)?
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0*L*prev_1*U), (prev_0*U*prev_1*L)) :
              ((prev_0[u] <= 0 && prev_1[l] >= 0)?
               ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0*U*prev_1*L), (prev_0*L*prev_1*U)) :
               ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0*U*prev_1*U), (prev_0*L*prev_1*L)))));
}

2025-06-07 11:11:13,427 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:11:13,498 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0) && (prev_1[l] >= 0))?
            ((prev_0[l] * prev_1[l]), (prev_0[u] * prev_1[u]), (prev_0[L] * prev_1[L]), (prev_0[U] * prev_1[U])) :
            ((prev_0[l] >= 0) && (prev_1[u] <= 0))?
            ((prev_0[l] * prev_1[u]), (prev_0[u] * prev_1[l]), (prev_0[L] * prev_1[U]), (prev_0[U] * prev_1[L])) :
            ((prev_0[u] <= 0) && (prev_1[l] >= 0))?
            ((prev_0[u] * prev_1[l]), (prev_0[l] * prev_1[u]), (prev_0[U] * prev_1[L]), (prev_0[L] * prev_1[U])) :
            ((prev_0[u] * prev_1[u]), (prev_0[l] * prev_1[l]), (prev_0[U] * prev_1[U]), (prev_0[L] * prev_1[L]));
}

2025-06-07 11:11:13,498 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:11:13,498 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 11:13:49,534 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l]), simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u]), simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]),
        replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:13:49,535 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:13:49,607 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
             ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
             ((prev_0[l] >= 0 && prev_1[u] <= 0)?
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
              ((prev_0[u] <= 0 && prev_1[l] >= 0)?
               ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
               ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))))));
}

2025-06-07 11:13:49,607 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:13:49,686 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0*L*prev_1, prev_0*U*prev_1)
            : (prev_0[l] >= 0 && prev_1[u] <= 0)?
                (prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0*U*prev_1, prev_0*L*prev_1)
            : (prev_0[u] <= 0 && prev_1[l] >= 0)?
                (prev_0[l]*prev_1[u], prev_0[u]*prev_1[l], prev_0*L*prev_1, prev_0*U*prev_1)
            : (prev_0[u] <= 0 && prev_1[u] <= 0)?
                (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0*U*prev_1, prev_0*L*prev_1)
            : (min(prev_0[l]*prev_1[u], prev_0[u]*prev_1[l]), max(prev_0[l]*prev_1[l], prev_0[u]*prev_1[u]),
               backsubs_lower(prev_0*L*prev_1 + prev_0*prev_1*L, curr, curr[layer]),
               backsubs_upper(prev_0*U*prev_1 + prev_0*prev_1*U, curr, curr[layer])));
}

2025-06-07 11:13:49,686 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:13:49,686 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 11:16:59,710 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0) && (prev_1[l] >= 0))?
                ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
            ((prev_0[u] <= 0) && (prev_1[u] <= 0))?
                ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])) :
            ((prev_0[l] >= 0) && (prev_1[u] <= 0))?
                ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[U], curr), backsubs_upper(prev_0[U]*prev_1[L], curr))) :
            ((prev_0[u] <= 0) && (prev_1[l] >= 0))?
                ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (backsubs_lower(prev_0[U]*prev_1[L], curr), backsubs_upper(prev_0[L]*prev_1[U], curr))) :
            ((prev_0[l] >= 0) && (prev_1[l] < 0) && (prev_1[u] > 0))?
                ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr), backsubs_upper(prev_0[U]*prev_1[U] + prev_0[L]*(prev_1[U]-prev_1[L]), curr))) :
            ((prev_0[u] <= 0) && (prev_1[l] < 0) && (prev_1[u] > 0))?
                ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (backsubs_lower(prev_0[U]*prev_1[U] + prev_0[L]*(prev_1[U]-prev_1[L]), curr), backsubs_upper(prev_0[L]*prev_1[L], curr))) :
            ((prev_0[l] < 0) && (prev_0[u] > 0) && (prev_1[l] >= 0))?
                ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L] + prev_1[L]*(prev_0[U]-prev_0[L]), curr), backsubs_upper(prev_0[U]*prev_1[U], curr))) :
            ((prev_0[l] < 0) && (prev_0[u] > 0) && (prev_1[u] <= 0))?
                ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (backsubs_lower(prev_0[U]*prev_1[L] + prev_1[L]*(prev_0[U]-prev_0[L]), curr), backsubs_upper(prev_0[L]*prev_1[U], curr)));
}

2025-06-07 11:16:59,710 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:16:59,771 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        backsubs_lower(prev_0, prev_1),
        backsubs_upper(prev_0, prev_1)
    );
}

2025-06-07 11:16:59,771 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:16:59,834 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        backsubs_lower(prev_0, prev_1, priority),
        backsubs_upper(prev_0, prev_1, priority)
    );
}

2025-06-07 11:16:59,834 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:16:59,834 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 11:18:39,576 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        replace_lower(prev_0, prev_1[L]),
        replace_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:18:39,577 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:18:39,637 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(min(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), min(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        max(max(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), max(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        replace_lower(prev_0, 1)*replace_lower(prev_1, 1),
        replace_upper(prev_0, 1)*replace_upper(prev_1, 1)
    );
}

2025-06-07 11:18:39,637 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:18:39,712 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
             ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
             ((prev_0[l] >= 0 && prev_1[u] <= 0)?
              ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0[L]*prev_1[U]), (prev_0[U]*prev_1[L])) :
              ((prev_0[u] <= 0 && prev_1[l] >= 0)?
               ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0[U]*prev_1[L]), (prev_0[L]*prev_1[U])) :
               ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])))));
}

2025-06-07 11:18:39,712 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:18:39,712 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 11:20:32,755 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_0, prev_1[u]), simplify_lower(prev_1, prev_0[l]), simplify_lower(prev_1, prev_0[u])),
        max(simplify_upper(prev_0, prev_1[l]), simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[l]), simplify_upper(prev_1, prev_0[u])),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]) + prev_0[L].mult(prev_1[L]),
        replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U]) + prev_0[U].mult(prev_1[U])
    );
}

2025-06-07 11:20:32,755 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:20:32,820 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(min(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), min(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        max(max(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), max(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
        backsubs_lower(prev_0.dot(prev_1), curr),
        backsubs_upper(prev_0.dot(prev_1), curr)
    );
}

2025-06-07 11:20:32,821 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:20:32,895 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
            ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
            ((prev_0[l] >= 0 && prev_1[u] <= 0)?
            ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0[L]*prev_1[U]), (prev_0[U]*prev_1[L])) :
            ((prev_0[u] <= 0 && prev_1[l] >= 0)?
            ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0[U]*prev_1[L]), (prev_0[L]*prev_1[U])) :
            ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])))));
}

2025-06-07 11:20:32,895 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:20:32,895 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 11:23:02,566 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(
            simplify_lower(prev_0, prev_1[l]),
            simplify_lower(prev_0, prev_1[u]),
            simplify_lower(prev_1, prev_0[l]),
            simplify_lower(prev_1, prev_0[u])
        ),
        max(
            simplify_upper(prev_0, prev_1[l]),
            simplify_upper(prev_0, prev_1[u]),
            simplify_upper(prev_1, prev_0[l]),
            simplify_upper(prev_1, prev_0[u])
        ),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]) + replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U]) - (prev_0[L] * prev_1[L]) - (prev_0[U] * prev_1[U]),
        replace_upper(prev_0, prev_1[L]) + replace_upper(prev_1, prev_0[L]) + replace_lower(prev_0, prev_1[U]) + replace_lower(prev_1, prev_0[U]) - (prev_0[L] * prev_1[L]) - (prev_0[U] * prev_1[U])
    );
}

2025-06-07 11:23:02,566 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:23:02,637 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
                ((prev_0[l] >= 0 && prev_1[u] <= 0)?
                    ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0[U]*prev_1[L]), (prev_0[L]*prev_1[U])) :
                    ((prev_0[u] <= 0 && prev_1[l] >= 0)?
                        ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0[L]*prev_1[U]), (prev_0[U]*prev_1[L])) :
                        ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])))));
}

2025-06-07 11:23:02,637 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:23:02,707 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0) && (prev_1[l] >= 0))?
            ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0*L*prev_1), (prev_0*U*prev_1)) :
            ((prev_0[l] >= 0) && (prev_1[u] <= 0))?
            ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0*U*prev_1), (prev_0*L*prev_1)) :
            ((prev_0[u] <= 0) && (prev_1[l] >= 0))?
            ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0*L*prev_1), (prev_0*U*prev_1)) :
            ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0*U*prev_1), (prev_0*L*prev_1));
}

2025-06-07 11:23:02,708 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:23:02,708 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 11:26:22,720 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0[L]*prev_1[L]), (prev_0[U]*prev_1[U])) :
            ((prev_0[l] >= 0 && prev_1[u] <= 0)?
                ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
            ((prev_0[u] <= 0 && prev_1[l] >= 0)?
                ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
            ((prev_0[u] <= 0 && prev_1[u] <= 0)?
                ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0[U]*prev_1[U]), (prev_0[L]*prev_1[L])) :
            ((prev_0[l]*prev_1[u] <= prev_0[u]*prev_1[l])?
                ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))) :
                ((prev_0[u]*prev_1[l]), (prev_0[u]*prev_1[u]), (backsubs_lower(prev_0[L]*prev_1[L], curr, curr[layer])), (backsubs_upper(prev_0[U]*prev_1[U], curr, curr[layer]))))))));
}

2025-06-07 11:26:22,720 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:26:22,792 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
                ((prev_0[l] >= 0 && prev_1[u] <= 0)?
                    (prev_0[l]*prev_1[u], prev_0[u]*prev_1[l], replace_lower(prev_0, prev_1[L]), replace_upper(prev_0, prev_1[U])) :
                    ((prev_0[u] <= 0 && prev_1[l] >= 0)?
                        (prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], replace_lower(prev_1, prev_0[L]), replace_upper(prev_1, prev_0[U])) :
                        (min(min(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), min(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
                         max(max(prev_0[l]*prev_1[l], prev_0[l]*prev_1[u]), max(prev_0[u]*prev_1[l], prev_0[u]*prev_1[u])),
                         backsubs_lower(prev_0[L]*prev_1[L], curr), backsubs_upper(prev_0[U]*prev_1[U], curr)))));
}

2025-06-07 11:26:22,792 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:26:22,864 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0) && (prev_1[l] >= 0))?
            ((prev_0[l] * prev_1[l]), (prev_0[u] * prev_1[u]), (prev_0 * prev_1), (prev_0 * prev_1)) :
            ((prev_0[l] >= 0) && (prev_1[u] <= 0))?
            ((prev_0[u] * prev_1[l]), (prev_0[l] * prev_1[u]), (replace_upper(prev_0, 1) * prev_1), (replace_lower(prev_0, 1) * prev_1)) :
            ((prev_0[u] <= 0) && (prev_1[l] >= 0))?
            ((prev_0[l] * prev_1[u]), (prev_0[u] * prev_1[l]), (prev_0 * replace_upper(prev_1, 1)), (prev_0 * replace_lower(prev_1, 1))) :
            ((prev_0[u] * prev_1[l]), (prev_0[l] * prev_1[u]), (replace_upper(prev_0, 1) * replace_upper(prev_1, 1)), (replace_lower(prev_0, 1) * replace_lower(prev_1, 1)));
}

2025-06-07 11:26:22,864 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:26:22,865 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 11:28:37,083 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0) && (prev_1[l] >= 0))?
            ((prev_0[l]*prev_1[l]), (prev_0[u]*prev_1[u]), (prev_0*L*prev_1), (prev_0*U*prev_1)) :
            ((prev_0[l] >= 0) && (prev_1[u] <= 0))?
            ((prev_0[l]*prev_1[u]), (prev_0[u]*prev_1[l]), (prev_0*L*prev_1*U), (prev_0*U*prev_1*L)) :
            ((prev_0[u] <= 0) && (prev_1[l] >= 0))?
            ((prev_0[u]*prev_1[l]), (prev_0[l]*prev_1[u]), (prev_0*U*prev_1*L), (prev_0*L*prev_1*U)) :
            ((prev_0[u]*prev_1[u]), (prev_0[l]*prev_1[l]), (prev_0*U*prev_1*U), (prev_0*L*prev_1*L));
}

2025-06-07 11:28:37,083 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:28:37,144 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> (
        min(simplify_lower(prev_0, prev_1[l]), simplify_lower(prev_1, prev_0[l])),
        max(simplify_upper(prev_0, prev_1[u]), simplify_upper(prev_1, prev_0[u])),
        replace_lower(prev_0, prev_1[L]) + replace_lower(prev_1, prev_0[L]),
        replace_upper(prev_0, prev_1[U]) + replace_upper(prev_1, prev_0[U])
    );
}

2025-06-07 11:28:37,144 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:28:37,218 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
                ((prev_0[u] <= 0 && prev_1[u] <= 0)?
                    (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
                    (min(prev_0[l]*prev_1[l], prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[u]*prev_1[u]),
                     max(prev_0[l]*prev_1[l], prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[u]*prev_1[u]),
                     min(prev_0[L]*prev_1[L], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[U]*prev_1[U]),
                     max(prev_0[L]*prev_1[L], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[U]*prev_1[U]))
                )
            );
}

2025-06-07 11:28:37,218 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:28:37,218 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 11:28:37,218 - INFO - [Mult] Runtime: 1414.88 seconds
2025-06-07 11:28:37,218 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Mult -> ((prev_0[l] >= 0 && prev_1[l] >= 0)?
                (prev_0[l]*prev_1[l], prev_0[u]*prev_1[u], prev_0[L]*prev_1[L], prev_0[U]*prev_1[U]) :
                ((prev_0[u] <= 0 && prev_1[u] <= 0)?
                    (prev_0[u]*prev_1[u], prev_0[l]*prev_1[l], prev_0[U]*prev_1[U], prev_0[L]*prev_1[L]) :
                    (min(prev_0[l]*prev_1[l], prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[u]*prev_1[u]),
                     max(prev_0[l]*prev_1[l], prev_0[u]*prev_1[l], prev_0[l]*prev_1[u], prev_0[u]*prev_1[u]),
                     min(prev_0[L]*prev_1[L], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[U]*prev_1[U]),
                     max(prev_0[L]*prev_1[L], prev_0[U]*prev_1[L], prev_0[L]*prev_1[U], prev_0[U]*prev_1[U]))
                )
            );
}

2025-06-07 11:28:37,218 - INFO - 2025-06-07 11:28:37.218692 - Extracting Relu
2025-06-07 11:28:37,218 - INFO -
API: Relu -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 11:28:37,218 - INFO - [STEP 1] Starting step 1/1
2025-06-07 11:29:59,903 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu -> (
        simplify_lower(prev, 1.0),
        simplify_upper(prev, 1.0),
        replace_lower(prev, 1.0),
        replace_upper(prev, 1.0)
    ) when (prev[l] >= 0) else (
        0.0,
        simplify_upper(prev, 1.0),
        0.0,
        backsubs_upper(replace_upper(prev, 1.0), prev)
    ) when (prev[u] <= 0) else (
        0.0,
        simplify_upper(prev, 1.0),
        backsubs_lower(replace_lower(prev, 1.0), prev),
        backsubs_upper(replace_upper(prev, 1.0), prev)
    );
}

2025-06-07 11:29:59,903 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:30:00,241 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:30:00,312 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0) + replace_upper(prev, prev[U])), (replace_upper(prev, prev[U]))));
}

2025-06-07 11:30:00,312 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:30:00,312 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 11:31:31,688 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu -> (
        simplify_lower(prev, 1.0),
        simplify_upper(prev, 1.0),
        replace_lower(prev, 1.0),
        replace_upper(prev, 1.0)
    ) when (prev[l] >= 0) else (
        0.0,
        simplify_upper(prev, 1.0),
        0.0,
        backsubs_upper(replace_upper(prev, 1.0), prev)
    ) when (prev[u] <= 0) else (
        0.0,
        simplify_upper(prev, 1.0),
        backsubs_lower(replace_lower(prev, 1.0), prev),
        backsubs_upper(replace_upper(prev, 1.0), prev)
    );
}

2025-06-07 11:31:31,688 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:31:31,796 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0) + (replace_upper(prev, prev[u] / (prev[u] - prev[l])) * (prev - prev[l])) / (prev[u] - prev[l])), (replace_upper(prev, 0) + (replace_lower(prev, prev[u] / (prev[u] - prev[l])) * (prev - prev[l])) / (prev[u] - prev[l]))));
}

2025-06-07 11:31:31,796 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:31:31,890 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, (prev[u] / (prev[u] - prev[l])) * prev - ((prev[u] * prev[l]) / (prev[u] - prev[l]))))));
}

2025-06-07 11:31:31,890 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:31:31,890 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 11:32:46,440 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:32:46,504 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu -> (
        simplify_lower(prev, 1.0),
        simplify_upper(prev, 1.0),
        replace_lower(prev, 1.0),
        replace_upper(prev, 1.0)
    ) if prev[l] >= 0
    else (
        0.0,
        simplify_upper(prev, 1.0),
        PolyExp(0),
        replace_upper(prev, 1.0)
    ) if prev[u] <= 0
    else (
        0.0,
        simplify_upper(prev, 1.0),
        backsubs_lower(prev, prev),
        backsubs_upper(prev, prev)
    );
}

2025-06-07 11:32:46,504 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:32:46,578 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)?
               ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
               (((prev[u]) <= 0)?
                   ((0.0), (0.0), (0.0), (0.0)) :
                   ((0.0), (prev[u]), (replace_lower(prev, 0.0)), (replace_upper(prev, (prev[u] / (prev[u] - prev[l])) * (prev[L] - prev[l]) + prev[l]))));
}

2025-06-07 11:32:46,578 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:32:46,578 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 11:34:01,844 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:34:01,919 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and Neuron

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, prev[u]/(prev[u]-prev[l])) * prev - (prev[u]*prev[l])/(prev[u]-prev[l]))));
}

2025-06-07 11:34:01,919 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:34:02,244 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:34:02,244 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 11:35:17,191 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu -> (
        (prev[l] >= 0)?
            (prev[l], prev[u], prev[L], prev[U])
        :
            ((prev[u] <= 0)?
                (0.0, 0.0, 0.0, 0.0)
            :
                (0.0, prev[u], replace_lower(prev, 0.0) + simplify_upper(prev, (prev[u] / (prev[u] - prev[l]))), replace_upper(prev, 0.0) + simplify_upper(prev, (prev[u] / (prev[u] - prev[l])))
            )
        );
}

2025-06-07 11:35:17,191 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:35:17,260 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
              (((prev[u]) <= 0)? (0, 0, 0, 0) :
              ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, prev[u]/(prev[u]-prev[l])) * (prev[L] - prev[l]) + prev[l])));
}

2025-06-07 11:35:17,260 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:35:17,883 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:35:17,883 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 11:36:29,532 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 207, in visitBinOp
    rtype = self.visit(node.right)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 596, in visitFuncCall
    exprstype = self.visit(node.arglist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 185, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: / is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)?
            ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
            (((prev[u]) <= 0)?
             (0, 0, 0, 0) :
             ((0), (prev[u]),
              (replace_lower(prev, 0) + replace_upper(prev, prev[L] / prev[U])),
              (replace_upper(prev, 1))));
}

2025-06-07 11:36:29,532 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:36:29,602 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, (prev[u] / (prev[u] - prev[l])) * (prev[L] - prev[l]) + prev[l]))));
}

2025-06-07 11:36:29,602 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:36:29,972 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:36:29,972 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 11:37:40,253 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, prev[u] / (prev[u] - prev[l]) * (prev[L] - prev[l]) + prev[u] / (prev[u] - prev[l]) * prev[l]))));
}

2025-06-07 11:37:40,253 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:37:40,512 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:37:40,583 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)?
            ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
            (((prev[u]) <= 0)?
             (0, 0, 0, 0) :
             ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, (prev[u] / (prev[u] - prev[l])) * prev - ((prev[u] * prev[l]) / (prev[u] - prev[l]))))));
}

2025-06-07 11:37:40,583 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:37:40,583 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 11:38:53,978 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:38:54,153 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
                          (((prev[u]) <= 0)? (0, 0, 0, 0) :
                          ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, prev[u] / (prev[u] - prev[l]) * (prev[L] - prev[l]) + prev[l]))));
}

2025-06-07 11:38:54,154 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:38:54,491 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:38:54,491 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 11:40:12,411 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:40:12,736 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:40:12,811 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, prev[u] / (prev[u] - prev[l]) * (prev[L] - prev[l]) + prev[u] / (prev[u] - prev[l]) * prev[l]))));
}

2025-06-07 11:40:12,811 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:40:12,811 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 11:41:35,892 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 63, in visit
    return self.visitFuncCall(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 603, in visitFuncCall
    raise TypeMismatchException("Arguments of " + name + " are not the correct type(s)")
constraintflow.core.astTC.TypeMismatchException: Arguments of replace_upper are not the correct type(s)

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)?
            ((prev[l]), (prev[u]), (prev[L]), (prev[U])) :
            (((prev[u]) <= 0)?
            (0, 0, 0, 0) :
            ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, (prev[u] / (prev[u] - prev[l])) * (prev[L] - prev[l]) + prev[l]))));
}

2025-06-07 11:41:35,892 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:41:35,968 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 212, in visitBinOp
    node.type = self.get_binop(node.op, ltype, rtype)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 179, in get_binop
    raise TypeMismatchException(op + " is not defined on " + str(ltype) + " and " + str(rtype))
constraintflow.core.astTC.TypeMismatchException: * is not defined on PolyExp and PolyExp

Code:
transformer deeppoly{
    Relu -> ((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev[L]), (prev[U])) : (((prev[u]) <= 0)? (0, 0, 0, 0) : ((0), (prev[u]), (replace_lower(prev, 0)), (replace_upper(prev, (prev[u])/(prev[u]-prev[l])) * (prev - prev[l]) + replace_lower(prev, (prev[u])/(prev[u]-prev[l])) * prev[l])));
}

2025-06-07 11:41:35,968 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:41:36,029 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu -> (
        simplify_lower(prev, 1.0),
        simplify_upper(prev, 1.0),
        replace_lower(prev, 1.0),
        replace_upper(prev, 1.0)
    ) if (prev[l] >= 0)
    else (
        0.0,
        simplify_upper(prev, 1.0),
        0.0,
        replace_upper(prev, 1.0)
    ) if (prev[u] <= 0)
    else (
        0.0,
        simplify_upper(prev, 1.0),
        backsubs_lower(prev, prev),
        backsubs_upper(prev, prev)
    );
}

2025-06-07 11:41:36,029 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:41:36,029 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 11:41:36,029 - INFO - [Relu] Runtime: 778.81 seconds
2025-06-07 11:41:36,030 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Relu -> (
        simplify_lower(prev, 1.0),
        simplify_upper(prev, 1.0),
        replace_lower(prev, 1.0),
        replace_upper(prev, 1.0)
    ) if (prev[l] >= 0)
    else (
        0.0,
        simplify_upper(prev, 1.0),
        0.0,
        replace_upper(prev, 1.0)
    ) if (prev[u] <= 0)
    else (
        0.0,
        simplify_upper(prev, 1.0),
        backsubs_lower(prev, prev),
        backsubs_upper(prev, prev)
    );
}

2025-06-07 11:41:36,030 - INFO - 2025-06-07 11:41:36.030040 - Extracting Relu6
2025-06-07 11:41:36,030 - INFO -
API: Relu6 -> Model: Llama-3.3 @ http://ggnds-serv-01.cs.illinois.edu:8080
2025-06-07 11:41:36,030 - INFO - [STEP 1] Starting step 1/1
2025-06-07 11:43:06,550 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:43:06,983 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:43:07,103 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and PolyExp

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (0, min(6, prev[u]), 0, min(6, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l])))))));
}

2025-06-07 11:43:07,106 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:43:07,106 - INFO - [STEP 1] All 3 samples failed validation. Retrying 1/10...
2025-06-07 11:44:25,853 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (((prev[u]) <= 6)? ((prev[l]), (prev[u]), (prev), (prev)) : ((0), (6), (0), (((6 / ((prev[u]) - (prev[l]))) * (prev)) - (((6 * (prev[l])) / ((prev[u]) - (prev[l])))))));
}

2025-06-07 11:44:25,853 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:44:25,916 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and Neuron

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (0, min(6, prev[u]), 0, min(6, prev)) ));
}

2025-06-07 11:44:25,916 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:44:26,009 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Neuron and Int

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (((prev[l]) >= 0)? (prev[l], min(prev[u], 6), prev, min(prev, 6)) : ((0, min(prev[u], 6), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l])))))));
}

2025-06-07 11:44:26,009 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:44:26,009 - INFO - [STEP 1] All 3 samples failed validation. Retrying 2/10...
2025-06-07 11:45:58,368 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:45:58,669 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:45:58,748 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Neuron and Int

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (((prev[l]) >= 0)? (prev[l], min(prev[u], 6), prev, min(prev, 6)) : (0, min(prev[u], 6), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))))));
}

2025-06-07 11:45:58,748 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:45:58,749 - INFO - [STEP 1] All 3 samples failed validation. Retrying 3/10...
2025-06-07 11:47:28,493 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:47:28,992 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:47:29,387 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:47:29,387 - INFO - [STEP 1] All 3 samples failed validation. Retrying 4/10...
2025-06-07 11:48:54,722 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Neuron and Int

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) :
             ((prev[u]) <= 0)? (0, 0, 0, 0) :
             ((prev[l]) >= 0)? (prev[l], min(prev[u], 6), prev, min(prev, 6)) :
             (0, min(prev[u], 6), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))));
}

2025-06-07 11:48:54,722 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:48:55,116 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:48:55,194 - WARNING - [STEP 1] Sample 3: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and PolyExp

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (0, min(6, prev[u]), 0, min(6, (prev[u] / (prev[u] - prev[l])) * (prev) - (((prev[u] * prev[l]) / (prev[u] - prev[l])))))));
}

2025-06-07 11:48:55,195 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:48:55,195 - INFO - [STEP 1] All 3 samples failed validation. Retrying 5/10...
2025-06-07 11:50:22,677 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 15, in visit
    return self.visitBinOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 206, in visitBinOp
    ltype = self.visit(node.left)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Int and PolyExp

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (0, min(6, prev[u]), 0, min(6, (prev[u] / (prev[u] - prev[l])) * prev) - ((prev[u] * prev[l]) / (prev[u] - prev[l])))));
}

2025-06-07 11:50:22,677 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:50:22,941 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:50:23,307 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:50:23,307 - INFO - [STEP 1] All 3 samples failed validation. Retrying 6/10...
2025-06-07 11:51:45,090 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:51:45,481 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:51:45,742 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:51:45,743 - INFO - [STEP 1] All 3 samples failed validation. Retrying 7/10...
2025-06-07 11:53:12,698 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:53:12,771 - WARNING - [STEP 1] Sample 2: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 44, in run_verifier_from_str
    astTC.ASTTC().visit(ast)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 93, in visit
    return self.visitProg(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 832, in visitProg
    self.visit(node.stmt)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 811, in visitSeq
    self.visit(node.stmt1)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 89, in visit
    return self.visitSeq(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 812, in visitSeq
    self.visit(node.stmt2)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 75, in visit
    return self.visitTransformer(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 728, in visitTransformer
    self.visit(node.oplist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 73, in visit
    return self.visitOpList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 709, in visitOpList
    self.visit(s)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 71, in visit
    return self.visitOpStmt(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 694, in visitOpStmt
    self.visit(node.ret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 647, in visitTransRetIf
    self.visit(node.fret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 69, in visit
    return self.visitTransRetIf(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 646, in visitTransRetIf
    self.visit(node.tret)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 67, in visit
    return self.visitTransRetBasic(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 636, in visitTransRetBasic
    rettype = self.visit(node.exprlist)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 13, in visit
    return self.visitExprList(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 152, in visitExprList
    listtype.append(self.visit(e))
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astVisitor.py", line 23, in visit
    return self.visitMaxOp(node)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astTC.py", line 329, in visitMaxOp
    raise TypeMismatchException(node.op + " is not defined on " + str(exp1type) + " and " + str(exp2type))
constraintflow.core.astTC.TypeMismatchException: min is not defined on Neuron and Int

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) :
             ((prev[u]) <= 0)? (0, 0, 0, 0) :
             ((prev[l]) >= 0)? (prev[l], min(prev[u], 6), prev, min(prev, 6)) :
             (0, min(prev[u], 6), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))));
}

2025-06-07 11:53:12,771 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:53:13,156 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:53:13,156 - INFO - [STEP 1] All 3 samples failed validation. Retrying 8/10...
2025-06-07 11:54:41,764 - WARNING - [STEP 1] Sample 1: Validator exception. Full traceback:
Traceback (most recent call last):
  File "/home/qiuhan/constraintsflow_patch/generation/chat.py", line 183, in step_by_step_gen
    result, ce = step.validator(code)
  File "/home/qiuhan/constraintsflow_patch/generation/validator/validate_dsl.py", line 34, in constraintflow_validator
    return run_verifier_from_str(dsl)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/experiments/experiments_correct.py", line 43, in run_verifier_from_str
    ast = astBuilder.ASTBuilder().visit(tree)
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 382, in accept
    return visitor.visitProg(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 19, in visitProg
    stmt = self.visit(ctx.statement())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 42, in visitSeqstmt
    stmt1 = self.visit(ctx.statement(0))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 609, in accept
    return visitor.visitSeqstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 43, in visitSeqstmt
    stmt2 = self.visit(ctx.statement(1))
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 634, in accept
    return visitor.visitTransstmt(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 47, in visitTransstmt
    return self.visit(ctx.transformer())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 828, in accept
    return visitor.visitTransformer(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 55, in visitTransformer
    op_list = self.visit(ctx.op_list())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/dslParser.py", line 887, in accept
    return visitor.visitOp_list(self)
  File "/home/qiuhan/constraintsflow_patch/constraintflow/core/astBuilder.py", line 64, in visitOp_list
    stmt = self.visit(ctx.op_stmt())
  File "/apps/conda/qiuhan/envs/llm/lib/python3.10/site-packages/antlr4/tree/Tree.py", line 34, in visit
    return tree.accept(self)
AttributeError: 'NoneType' object has no attribute 'accept'

Code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? ((6, 6), (6, 6)) : (((prev[u]) <= 0)? ((0, 0), (0, 0)) : (((prev[u]) <= 6)? ((prev[l]), (prev[u]), (prev), (prev)) : ((0, 6), (0, 6), (prev * 6 / (prev[u] - prev[l])) - ((prev[l] * 6) / (prev[u] - prev[l])), (prev * 6 / (prev[u] - prev[l])) - ((prev[l] * 6) / (prev[u] - prev[l])))));
}

2025-06-07 11:54:41,764 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:54:42,135 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:54:42,519 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:54:42,519 - INFO - [STEP 1] All 3 samples failed validation. Retrying 9/10...
2025-06-07 11:56:07,087 - INFO - [STEP 1] Sample 1: Validation failed.
2025-06-07 11:56:07,355 - INFO - [STEP 1] Sample 2: Validation failed.
2025-06-07 11:56:07,618 - INFO - [STEP 1] Sample 3: Validation failed.
2025-06-07 11:56:07,619 - INFO - [STEP 1] All 3 samples failed validation. Retrying 10/10...
2025-06-07 11:56:07,619 - INFO - [Relu6] Runtime: 871.59 seconds
2025-06-07 11:56:07,619 - ERROR - Failed with Error:[STEP 1] Failed after 10 retries.
 during generating code:
transformer deeppoly{
    Relu6 -> ((prev[l]) >= 6)? (6, 6, 6, 6) : (((prev[l]) >= 0)? ((prev[l]), (prev[u]), (prev), (prev)) : (((prev[u]) <= 0)? (0, 0, 0, 0) : (0, min(prev[u], 6), 0, (((prev[u]) / ((prev[u]) - (prev[l]))) * (prev)) - (((prev[u]) * (prev[l])) / ((prev[u]) - (prev[l]))))));
}

2025-06-07 11:56:07,623 - INFO -  Total runtime for all operators: 13057.71 seconds
